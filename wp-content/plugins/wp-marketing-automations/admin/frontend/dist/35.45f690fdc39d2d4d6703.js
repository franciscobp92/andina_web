(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{777:function(t,e,n){"use strict";var r=n(219),a=n(0),o=n(2),i=n(7),c=function(t){var e={workflow:{name:Object(o.__)("Workflow","wp-marketing-automations"),link:"admin.php?page=autonami-automations&edit=".concat(t)},engagement:{name:Object(o.__)("Engagement","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/engagement")}};return Object(i.fb)()&&(e.orders={name:Object(o.__)("Orders","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/orders")}),e};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],f=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},p=f.automation_nav,m=Object(r.a)(),b=m.setActiveMultiple,g=m.resetHeaderMenu,O=m.setL2NavType,d=m.setL2Nav,y=m.setBackLink,j=m.setL2Title,w=m.setL2Content,v=m.setBackLinkLabel,h=m.setL2NavAlign,P=m.setPageHeader;return Object(a.useEffect)((function(){g(),!i&&O("menu"),d(s?c(s):p),b({leftNav:"automations",rightNav:t}),n&&y(n),n&&s&&y("admin.php?page=autonami-automations&edit=".concat(s)),i&&v(Object(o.__)("All Automations","wp-marketing-automations")),s&&v(Object(o.__)("Back to Automation","wp-marketing-automations")),s&&h("right"),e&&j(e),!n&&u&&w(u),P("Automations"),l&&d({})}),[t]),!0}},788:function(t,e,n){"use strict";var r=n(221),a=n(238);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("automationList"),e=t.getStateProp,n=u(t,["getStateProp"]),o=Object(r.a)(a.a.recipient).getStateProp,c=Object(r.a)(a.a.conversion).getStateProp;return i(i({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return o("data")},getRecipientLoading:function(){return o("isLoading")},getRecipientOffset:function(){return o("offset")},getRecipientAutomationId:function(){return o("automationId")},getRecipientTotal:function(){return o("total")},getRecipientPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getRecipientLimit:function(){return o("limit")},getConversionData:function(){return c("data")},getConversionLoading:function(){return c("isLoading")},getConversionOffset:function(){return c("offset")},getConversionAutomationId:function(){return c("automationId")},getConversionTotal:function(){return c("total")},getConversionPage:function(){return parseInt(c("offset"))/parseInt(c("limit"))+1},getConversionLimit:function(){return c("limit")},getCountData:function(){return e("countData")}})}},789:function(t,e,n){"use strict";var r=n(222),a=n(7),o=n(238);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("automationList"),e=t.fetch,n=t.setStateProp,i=s(t,["fetch","setStateProp"]),u=Object(r.a)(o.a.recipient),l=u.fetch,f=u.setStateProp,p=Object(r.a)(o.a.conversion),m=p.fetch,b=p.setStateProp;return c(c({},i),{},{fetch:function(t,n,r,o){var i=n.s,c=(n.page,n.filter,n.path,{offset:r,limit:o,status:t,search:i,filters:s(n,["s","page","filter","path"])});e("GET",Object(a.g)("/automations"),c)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){l("GET",Object(a.g)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){f(t,e)},fetchConversion:function(t,e,n){m("GET",Object(a.g)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){b(t,e)}})}},836:function(t,e,n){},893:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(2),o=n(220),i=n(789),c=n(788),u=n(56),s=n(7),l=n(82),f=n(3),p=(n(836),n(79)),m=n(37),b=n(223),g=n(777),O=n(219);function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=t.match.params.automationId,n=Object(O.a)().setL2NavAlign;Object(g.a)("orders","",!0,!1,null,e),n("left");var y=Object(c.a)(),j=y.getConversionData();Object(s.d)("Automation #"+e);var w=y.getConversionLoading(),v=y.getConversionLimit(),h=y.getConversionOffset(),P=y.getConversionTotal(),_=Object(i.a)(),k=_.fetchConversion,C=_.setConversionValues,E=Object(u.a)(Object(s.L)()).formatAmount;Object(r.useEffect)((function(){k(e,v,h)}),[v,h]);var L=[{key:"orderid",label:Object(a.__)("Order ID","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m"},{key:"contact",label:Object(a.__)("Contact","wp-marketing-automations"),required:!0,cellClassName:"bwf-crm-col-contact"},{key:"purchaseitems",label:Object(a.__)("Purchased Items","wp-marketing-automations"),cellClassName:"bwf-crm-col-contact-details"},{key:"revenue",label:Object(a.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m"},{key:"date",label:Object(a.__)("Date","wp-marketing-automations"),cellClassName:"bwf-crm-col-stats-m"}],S=y.getConversionPage(),I=function(t){t!==v&&(C("limit",t),C("offset",0))},A=function(t){return Object(r.createElement)(m.a,{href:"admin.php?page=autonami&path=/contact/"+t.cid,type:"bwf-crm",className:"bwf-crm-campaign-order-contact-link bwf-a-no-underline",key:t.cid},Object(r.createElement)(b.a,{contact:t,date:t.date,dateText:Object(a.__)("Placed on","wp-marketing-automations")}))},N=function(t){return t.hasOwnProperty("order_deleted")&&t.order_deleted?Object(r.createElement)(r.Fragment,null,"#"+t.wcid):Object(r.createElement)("a",{target:"_blank",className:"bwf-a-no-underline",href:"post.php?post="+t.wcid+"&action=edit"},"#"+t.wcid)},D=j.map((function(t){return[{display:t.hasOwnProperty("wcid")?N(t):"-",value:t.hasOwnProperty("wcid")?t.wcid:"-"},{display:A(t),value:t.hasOwnProperty("contact_name")?t.contact_name:"-"},{display:t.hasOwnProperty("items")?(n=t.items,o="",i=[],Object.entries(n).map((function(t){var e=d(t,2),n=e[0],a=e[1];Object(f.isEmpty)(o)&&(o=Object(r.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"post.php?action=edit&post="+n,rel:"noreferrer"},a)),i.push(Object(r.createElement)("a",{className:"bwf-a-no-underline",target:"_blank",href:"post.php?action=edit&post="+n},a))})),Object(r.createElement)(r.Fragment,null,Object(f.isEmpty)(o)?"-":o,!Object(f.isEmpty)(i)&&i.length>1&&Object(r.createElement)(l.a,{items:i}))):Object(a.__)("Order Deleted","wp-marketing-automations"),value:"purchase_item"},{display:(e=t,e.hasOwnProperty("wctotal")?e.hasOwnProperty("currency")?Object(u.a)(e.currency).formatAmount(e.wctotal):E(e.wctotal):"-"),value:t.hasOwnProperty("wctotal")?t.wctotal:0},{display:t.hasOwnProperty("date")?Object(s.C)(t.date):"-",value:t.hasOwnProperty("date")?t.date:"-"}];var e,n,o,i}));return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(p.a,null),Object(r.createElement)(o.a,{className:"bwf-crm-campaign-report-conversion",rows:D,headers:L,query:{paged:S},rowsPerPage:v,totalRows:P,isLoading:w,onPageChange:function(t){C("offset",(t-1)*v)},onQueryChange:function(t){return"per_page"!==t?function(){}:I},rowHeader:!0,showMenu:!1,emptyMessage:Object(a.__)("No orders found","wp-marketing-automations"),hideHeader:"yes"}))}}}]);
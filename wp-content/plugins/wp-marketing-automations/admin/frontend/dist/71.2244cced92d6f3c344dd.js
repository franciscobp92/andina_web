(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{885:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r(2),o=r(815),c=r(769),s=r(14),i=r(26),l=r(3),m=r(236),u=r(770),f=r(79),b=r(7),d=r(123);function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],a=!0,n=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done)&&(r.push(c.value),!e||r.length!==e);a=!0);}catch(t){n=!0,o=t}finally{try{a||null==s.return||s.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}e.default=function(){var t=Object(c.a)(),e=t.fetchContactAnalytics,r=t.setContactAnalyticsData;Object(u.a)("contacts",!1,"");var y=Object(s.h)(),O=function(t){return t.compare="previous_year",Object(i.c)(t).primary},j=p(Object(a.useState)(!0),2),Y=j[0],v=j[1];y.hasOwnProperty("period")||(y.period="month");var h=y.period,w=y.compare,M=y.interval,_=y.after,D=y.before;return Object(a.useEffect)((function(){if(Object(b.d)("Contact Analytics"),Object(b.X)()){var t=y.hasOwnProperty("interval")?y.interval:"day";!function(t,r){var a=O(t),n="",o="";a&&(Object(l.isEmpty)(a.after)||(n=a.after.format("YYYY-MM-DD HH:mm:ss")),Object(l.isEmpty)(a.before)||(o=a.before.format("YYYY-MM-DD 23:59:59")),Object(l.isEmpty)(n)||Object(l.isEmpty)(o)||e(n,o,r))}(y,t)}else{for(var a=O(y),n=0,o=0,c=0,s=0,i=[],m=a.after;m.isBefore(a.before);m.add(1,"days")){var u=Math.floor(10*Math.random()),f=Math.floor(Math.random()*parseInt(u)),d=Math.floor(Math.random()*parseInt(u));n+=u,o+=f,c+=u,s+=d,i.push({date_end_gmt:m.format("YYYY-MM-DD")+" 23:59:59",date_start_gmt:m.format("YYYY-MM-DD")+" 00:00:00",end_date:m.format("YYYY-MM-DD")+" 23:59:59",interval:m.format("YYYY-MM-DD"),start_date:m.format("YYYY-MM-DD")+" 00:00:00",subtotals:{total_contacts:n,total_customers:o,new_contacts:u,unsubscribers:d}})}r("data",{totals:{total_contacts:n,total_customers:o,new_contacts:c,unsubscribers:s},intervals:i}),r("isLoading",!1)}}),[h,w,M,_,D]),Object(a.createElement)(a.Fragment,null,Object(a.createElement)(f.a,null),Object(a.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-crm-contacts-report-wrap"},Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(o.b,{query:y}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(m.a,{className:"bwf-contacts-report-header-chart",title:Object(n.__)("Performance","wp-marketing-automations")}),Object(a.createElement)(o.c,{query:y}),Object(a.createElement)(o.a,{query:y})),!Object(b.X)()&&Object(a.createElement)(d.a,{isOpen:Y,onRequestClose:function(){return v(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(n.__)("Try Demo","wp-marketing-automations")}}))}}}]);
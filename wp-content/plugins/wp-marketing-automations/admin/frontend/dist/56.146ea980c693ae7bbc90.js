(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{828:function(e,t,a){},886:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(770),o=a(2),c=a(232),i=(a(828),a(815)),m=a(14),s=a(125),l=a(762),u=a(769),b=a(26),p=a(3),f=a(34),d=a(79),y=a(7),O=a(123);function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(){Object(r.a)("engagement",!1,"");var e=Object(u.a)(),t=e.fetchEngagementData,a=e.setEngagementData,g=l.a.getEngagementAnalytics,w=(0,l.a.getEngagementAnalyticsLoading)(),E=g(),_=Object(m.h)(),v=j(Object(n.useState)(!0),2),h=v[0],k=v[1],A=function(e){var a=function(e){return e.compare="previous_year",Object(b.c)(e).primary}(e),n="",r="";a&&(Object(p.isEmpty)(a.after)||(n=a.after.format("YYYY-MM-DD HH:mm:ss")),Object(p.isEmpty)(a.before)||(r=a.before.format("YYYY-MM-DD 23:59:59")),Object(p.isEmpty)(n)||Object(p.isEmpty)(r)||t(n,r))};_.hasOwnProperty("period")||(_.period="month");var M=_.period,N=_.compare,S=_.interval,Y=_.after,D=_.before;Object(n.useEffect)((function(){if(Object(y.d)("Engagement Analytics"),Object(y.X)())A(_);else{for(var e=[1,2,3,4,5,6,7].map((function(e){return{day:e,mean:Math.random().toFixed(4),open:1,total:1}})),t=[],n=0;n<24;n++)t.push({hour:n,mean:Math.random().toFixed(4),open:1,total:1});a("data",{day:e,hour:t}),a("isLoading",!1)}}),[M,N,S,Y,D]);var x,F=[Object(o.__)("Monday","wp-marketing-automations"),Object(o.__)("Tuesday","wp-marketing-automations"),Object(o.__)("Wednesday","wp-marketing-automations"),Object(o.__)("Thursday","wp-marketing-automations"),Object(o.__)("Friday","wp-marketing-automations"),Object(o.__)("Saturday","wp-marketing-automations"),Object(o.__)("Sunday","wp-marketing-automations")],C=function(e,t){return w?Object(n.createElement)("ul",{className:"bwf-report-section"},Object(n.createElement)(f.a,null)):Object(p.isEmpty)(e)?Object(o.__)("No data Available","wp-marketing-automations"):Object(n.createElement)("ul",{className:"bwf-report-section"},e.map((function(e){return Object(n.createElement)("li",{className:"bwf-report-e-list"},Object(n.createElement)("div",{className:"bwf-report-e-label"},t?F[parseInt(e.day)-1]:(a=e.hour,r=a+" (",r+=(a%12||12)+(a>11?"PM":"AM")+")")),Object(n.createElement)("div",{className:"bwf-report-e-value"},e.total&&e.open?Object(n.createElement)(c.a,{status:"info",size:"md",progress:(100*e.mean).toFixed(2),noStriped:!0,text:"".concat((100*e.mean).toFixed(2)," %")}):"-"));var a,r})))};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(d.a,null),Object(n.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-report-engagement-wrapper"},Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)(i.b,{query:_}),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-accordian-wrap"},Object(n.createElement)(s.a,{items:(x=[],x.push({key:1,label:Object(o.__)("Open by Weekday","wp-marketing-automations"),display:C(Object(p.isEmpty)(E)?[]:E.day,!0)},{key:2,label:Object(o.__)("Open by Hour","wp-marketing-automations"),display:C(Object(p.isEmpty)(E)?[]:E.hour,!1)}),x)}))),!Object(y.X)()&&Object(n.createElement)(O.a,{isOpen:h,onRequestClose:function(){return k(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(o.__)("Try Demo","wp-marketing-automations")}}))}}}]);
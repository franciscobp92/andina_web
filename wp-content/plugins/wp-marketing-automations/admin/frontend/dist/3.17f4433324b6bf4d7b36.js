(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{762:function(t,e,a){"use strict";var n=a(221),r=a(228),c=Object(n.a)(r.b.cartAnalytics).getStateProp,o=Object(n.a)(r.b.contactAnalytics).getStateProp,i=Object(n.a)(r.b.emailAnalytics).getStateProp,s=Object(n.a)(r.b.emailTable).getStateProp,l=Object(n.a)(r.b.engagementAnalytics).getStateProp,u=Object(n.a)(r.b.directEmailTable).getStateProp,b={getCartAnalytics:function(){return c("data")},getCartAnalyticsLoading:function(){return c("isLoading")},getContactAnalytics:function(){return o("data")},getContactAnalyticsLoading:function(){return o("isLoading")},getEmailAnalytics:function(){return i("data")},getEmailAnalyticsLoading:function(){return i("isLoading")},getEmailTableList:function(){return s("data")},getEmailTableTotal:function(){return s("total")},getEmailTableOffset:function(){return s("offset")},getEmailTableLimit:function(){return s("limit")},getEmailTableLoading:function(){return s("isLoading")},getEmailTablePage:function(){return parseInt(s("offset"))/parseInt(s("limit"))+1},getEngagementAnalytics:function(){return l("data")},getEngagementAnalyticsLoading:function(){return l("isLoading")},getDirectEmailTableList:function(){return u("data")},getDirectEmailTableTotal:function(){return u("total")},getDirectEmailTableOffset:function(){return u("offset")},getDirectEmailTableLimit:function(){return u("limit")},getDirectEmailTableLoading:function(){return u("isLoading")},getDirectEmailTablePage:function(){return parseInt(u("offset"))/parseInt(u("limit"))+1}};e.a=b},764:function(t,e,a){"use strict";var n=a(0),r=a(4),c=a(2),o=a(5),i=a.n(o),s=a(70),l=a.n(s),u=a(3),b=a(1),m=a.n(b),f=a(37),p=a(17),d=function(t){var e,a=t.delta,o=t.href,s=t.hrefType,b=t.isOpen,m=t.label,d=t.onToggle,O=t.prevLabel,g=t.prevValue,y=t.reverseTrend,j=t.selected,v=t.value,_=t.onLinkClickCallback,h=t.tileIcon,w=i()("bwf-summary-item-container",{"is-dropdown-button":d,"is-dropdown-expanded":b}),E=i()("bwf-summary-item",{"is-selected":j,"is-good-trend":y?a<0:a>0,"is-bad-trend":y?a>0:a<0}),k=a>0?Object(c.sprintf)(Object(c.__)("Up %d%% from %s","wp-marketing-automations"),a,O):Object(c.sprintf)(Object(c.__)("Down %d%% from %s","wp-marketing-automations"),Math.abs(a),O);a||(k=Object(c.sprintf)(Object(c.__)("No change from %s","wp-marketing-automations"),O));var T={className:E,"aria-current":j?"page":null};if(d||o){var C=!!d;e=C?r.Button:f.a,C?(T.onClick=d,T["aria-expanded"]=b):(T.href=o,T.role="menuitem",T.onClick=_,T.type=s)}else e="div";return Object(n.createElement)("li",{className:w},Object(n.createElement)(e,T,Object(n.createElement)(p.a,{gap:"5",align:"center"},Object(n.createElement)(p.b,null,Object(n.createElement)("div",{className:"bwf-summary-item-label"},Object(n.createElement)(r.__experimentalText,{variant:"body.small"},m)),Object(n.createElement)("div",{className:"bwf-summary-item-data"},Object(n.createElement)("div",{className:"bwf-summary-item-value"},Object(n.createElement)(r.__experimentalText,{variant:"title.small"},Object(u.isNil)(v)?Object(c.__)("-","wp-marketing-automations"):v)),a&&Object(n.createElement)(r.Tooltip,{text:Object(u.isNil)(g)?Object(c.__)("-","wp-marketing-automations"):"".concat(O," ").concat(g),position:"top center"},Object(n.createElement)("div",{className:"bwf-summary-item-delta",role:"presentation","aria-label":k},Object(n.createElement)(r.__experimentalText,{variant:"caption"},Object(u.isNil)(a)?Object(c.__)("-","wp-marketing-automations"):Object(c.sprintf)(Object(c.__)("%d%%","wp-marketing-automations"),a))))),d?Object(n.createElement)(l.a,{className:"bwf-summary-toggle",icon:"chevron-down",size:24}):null),h&&Object(n.createElement)(p.c,null,h))))};d.propTypes={delta:m.a.number,href:m.a.string,hrefType:m.a.oneOf(["wp-admin","wc-admin","external"]).isRequired,isOpen:m.a.bool,label:m.a.string.isRequired,onToggle:m.a.func,prevLabel:m.a.string,prevValue:m.a.oneOfType([m.a.number,m.a.string]),reverseTrend:m.a.bool,selected:m.a.bool,value:m.a.oneOfType([m.a.number,m.a.string]),onLinkClickCallback:m.a.func},d.defaultProps={href:"",hrefType:"wc-admin",isOpen:!1,prevLabel:Object(c.__)("Previous Period:","wp-marketing-automations"),reverseTrend:!1,selected:!1,onLinkClickCallback:u.noop},e.a=d},766:function(t,e,a){"use strict";var n=a(0),r=a(5),c=a.n(r),o=a(3),i=a(1),s=a.n(i),l=a(83),u=a(237);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=y(t);if(e){var r=y(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return g(this,a)}}function g(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){var e=t.className,a=t.hideDelta;return Object(n.createElement)("li",{"data-testid":"summary-placeholder",className:c()("bwf-summary-item-container is-placeholder",e)},Object(n.createElement)("div",{className:"bwf-summary-item"},Object(n.createElement)("div",{className:"bwf-summary-item-label"}),Object(n.createElement)("div",{className:"bwf-summary-item-data"},Object(n.createElement)("div",{className:"bwf-summary-item-value"}),!a&&Object(n.createElement)("div",{className:"bwf-summary-item-delta"}))))},v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(s,t);var e,a,r,i=O(s);function s(){return f(this,s),i.apply(this,arguments)}return e=s,(a=[{key:"render",value:function(){var t,e=this.props,a=e.isDropdownBreakpoint,r=e.hideDelta,i=a?1:this.props.numberOfItems,s=Object(u.a)(i),l=c()("bwf-summary",(m(t={},s,!a),m(t,"is-placeholder",!0),t));return Object(n.createElement)("ul",{className:l,"aria-hidden":"true"},Object(o.range)(i).map((function(t){return Object(n.createElement)(j,{hideDelta:r,key:t})})))}}])&&p(e.prototype,a),r&&p(e,r),s}(n.Component);v.propTypes={numberOfItems:s.a.number.isRequired},v.defaultProps={numberOfRows:5},e.a=Object(l.withViewportMatch)({isDropdownBreakpoint:"< large"})(v)},769:function(t,e,a){"use strict";var n=a(222),r=a(7),c=a(228),o=a(22),i=function(t){var e=0;return"automation"===t?e=1:"broadcast"===t&&(e=2),e};e.a=function(){var t=Object(n.a)(c.b.cartAnalytics).fetch,e=Object(n.a)(c.b.contactAnalytics),a=e.fetch,s=e.setStateProp,l=Object(n.a)(c.b.emailAnalytics),u=l.fetch,b=l.setStateProp,m=Object(n.a)(c.b.emailTable),f=m.fetch,p=m.setStateProp,d=Object(n.a)(c.b.engagementAnalytics),O=d.fetch,g=d.setStateProp,y=Object(n.a)(c.b.directEmailTable),j=y.fetch,v=y.setStateProp;return{fetchCartAnalytics:function(e,a,n){t("GET",Object(r.g)("/analytics/carts/")+"?"+Object(o.stringify)({after:e,before:a,interval:n}))},fetchContactAnalytics:function(t,e,n){a("GET",Object(r.g)("/analytics/contacts/")+"?"+Object(o.stringify)({after:t,before:e,interval:n}))},fetchEmailAnalytics:function(t,e,a,n,c){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;u("GET",Object(r.g)("/analytics/emails/chart/")+"?"+Object(o.stringify)({after:t,before:e,interval:a,oid:n,type:i(c),mode:s}))},fetchEmailTable:function(t,e,a,n,c,s,l){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;f("GET",Object(r.g)("/analytics/emails/tabular/")+"?"+Object(o.stringify)({after:a,before:n,interval:c,oid:s,type:i(l),limit:t,offset:e,mode:u}))},setEmailTableData:function(t,e){p(t,e)},fetchEngagementData:function(t,e){O("GET",Object(r.g)("/analytics/engagement")+"?"+Object(o.stringify)({after:t,before:e}))},setContactAnalyticsData:function(t,e){s(t,e)},setEmailAnalyticsData:function(t,e){b(t,e)},setEngagementData:function(t,e){g(t,e)},fetchDirectEmailTable:function(t,e,a,n,c){j("GET",Object(r.g)("/analytics/direct-emails/tabular/")+"?"+Object(o.stringify)({after:a,before:n,interval:c,limit:t,offset:e}))},setDirectEmailTableData:function(t,e){v(t,e)}}}},770:function(t,e,a){"use strict";var n=a(219),r=a(0);e.a=function(t,e,a){var c=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},o=Object(n.a)(),i=o.setActiveMultiple,s=o.resetHeaderMenu,l=o.setL2NavType,u=o.setL2Nav,b=o.setBackLink,m=o.setL2Title,f=o.setPageHeader;return Object(r.useEffect)((function(){s(),!e&&l("menu"),!e&&u(c.reports_nav),i({leftNav:"analytics-"+t,rightNav:t+"-analytics"}),e&&b(e),a&&m(a),f("Analytics")}),[t,a]),!0}},815:function(t,e,a){"use strict";a.d(e,"c",(function(){return m})),a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return _}));var n=a(0),r=a(2),c=a(234),o=a(764),i=a(14),s=a(766),l=a(762),u=a(12),b=a(7),m=function(t){var e=t.query,a=l.a.getContactAnalytics,m=l.a.getContactAnalyticsLoading,f=e.chart?e.chart:"new_contacts",p=m(),d=a(),O=function(t){if(!d||!d.hasOwnProperty("totals"))return 0;var e=d.totals;return e.hasOwnProperty(t)?e[t]:void 0};return Object(n.createElement)("div",{className:"bwf-crm-contacts-report-tiles"},Object(n.createElement)(c.a,null,(function(){var t=[];return t.push(Object(n.createElement)(o.a,{key:1,value:O("new_contacts"),label:Object(r.__)("New Contacts","wp-marketing-automations"),href:"admin.php?page=autonami&path=/reports/contacts&chart=new_contacts",onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(i.j)({chart:"new_contacts"},"/",e)},selected:"new_contacts"==f,tileIcon:Object(n.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(n.createElement)(u.a,{icon:"contact-tile",size:30,color:"#1DAAFC"}))}),Object(n.createElement)(o.a,{key:2,value:O("total_contacts"),label:Object(r.__)("Total Contacts","wp-marketing-automations"),href:"admin.php?page=autonami&path=/reports/contacts&chart=total_contacts",onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(i.j)({chart:"total_contacts"},"/",e)},selected:"total_contacts"==f,tileIcon:Object(n.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(n.createElement)(u.a,{icon:"total-contact",size:30,color:"#1DAAFC"}))})),Object(b.fb)()&&t.push(Object(n.createElement)(o.a,{key:3,value:O("total_customers"),label:Object(r.__)("Total Customers","wp-marketing-automations"),href:"admin.php?page=autonami&path=/reports/contacts&chart=total_customers",onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(i.j)({chart:"total_customers"},"/",e)},selected:"total_customers"==f,tileIcon:Object(n.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(n.createElement)(u.a,{icon:"total-customer",size:30,color:"#1DAAFC"}))})),t.push(Object(n.createElement)(o.a,{key:4,value:O("unsubscribers"),label:Object(r.__)("Unsubscribers","wp-marketing-automations"),href:"admin.php?page=autonami&path=/reports/contacts&chart=unsubscribers",onLinkClickCallback:function(t){t.preventDefault(),delete e.compare,Object(i.j)({chart:"unsubscribers"},"/",e)},selected:"unsubscribers"==f,tileIcon:Object(n.createElement)("div",{className:"bwf-tile-icon-wrap"},Object(n.createElement)(u.a,{icon:"unsubscribe",size:30,color:"#1DAAFC"}))})),p?Object(n.createElement)(s.a,{numberOfItems:Object(b.fb)()?4:3,hideDelta:!0}):t})))},f=a(233),p=a(26),d=function(t){var e=t.query,a=e.chart?e.chart:"new_contacts",c=l.a.getContactAnalyticsLoading,o=l.a.getContactAnalytics,i=c(),s=o(),u=e.chartType?e.chartType:"line",b=Object(p.f)(e),m=Object(p.b)(function(t){return t.period&&null!=t.period&&""!=t.period||(t.period="month"),t.compare&&null!=t.compare&&""!=t.compare||(t.compare="previous_year"),t}(e));m.includes(b)||(b=m[m.length-1]);var d=0,O=0,g={new_contacts:Object(r.__)("New Contacts","wp-marketing-automations"),total_contacts:Object(r.__)("Total Contacts","wp-marketing-automations"),unsubscribers:Object(r.__)("Unsubscribers","wp-marketing-automations"),total_customers:Object(r.__)("Total Customers","wp-marketing-automations")};return Object(n.createElement)(f.a,{isRequesting:i,data:function(t){var e=[];s&&s.hasOwnProperty("intervals")&&s.intervals.map((function(a){"new_contacts"==t&&e.push({date:a.start_date,new_contacts:{label:Object(r.__)("New Contacts","wp-marketing-automations"),value:parseInt(a.subtotals.new_contacts)}}),"total_contacts"===t&&(e.push({date:a.start_date,total_contacts:{label:Object(r.__)("Total Contacts","wp-marketing-automations"),value:parseInt(a.subtotals.total_contacts)}}),d=parseInt(a.subtotals.total_contacts)),"unsubscribers"===t&&e.push({date:a.start_date,unsubscribers:{label:Object(r.__)("Unsubscribers","wp-marketing-automations"),value:parseInt(a.subtotals.unsubscribers)}}),"total_customers"===t&&(e.push({date:a.start_date,total_customers:{label:Object(r.__)("Total Customers","wp-marketing-automations"),value:parseInt(a.subtotals.total_customers)}}),O=parseInt(a.subtotals.total_customers))}));return e}(a),title:g[a],interval:b,layout:"item-comparison",chartType:u,legendTotals:"total_contacts"==a?{total_contacts:d}:"total_customers"==a?{total_customers:O}:null,interactiveLegend:!0})},O=a(130),g=a(30);a(382);function y(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function j(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?y(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var _=function(t){var e=t.query;return Object(n.createElement)("div",{className:"bwf-crm-contacts-report-filter"},Object(n.createElement)(g.a,{className:"screen-reader-text"},Object(r.__)("Filters","wp-marketing-automations")),Object(n.createElement)(g.b,{component:"div",className:"bwf-filters"},Object(n.createElement)("div",{className:"bwfcrm-filters-basic-filters"},Object(n.createElement)(O.a,{key:JSON.stringify(e),onRangeSelect:function(t){var a=j(j({},e),t);delete a.compare,Object(i.j)(a,"/",{})},dateQuery:function(t){t.compare="previous_year";var e=Object(p.e)(t),a=e.period,n=e.compare,r=e.before,c=e.after,o=Object(p.c)(t);return{period:a,compare:n,before:r,after:c,primaryDate:o.primary,secondaryDate:o.secondary}}(e),isoDateFormat:p.g,hideCompare:!0}))))}}}]);
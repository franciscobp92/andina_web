(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{799:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(48),r={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)(7[5-9])\d{1,7}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[689]\d{7}$/,"en-SL":/^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([3568][0-9]|4[579]|6[67]|7[01235678]|9[012356789])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};function o(e,t,n){if(Object(a.a)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(r.hasOwnProperty(t)&&r[t].test(e))return!0;return!1}));if(t in r)return r[t].test(e);if(!t||"any"===t){for(var o in r){if(r.hasOwnProperty(o))if(r[o].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}r["en-CA"]=r["en-US"],r["fr-CA"]=r["en-CA"],r["fr-BE"]=r["nl-BE"],r["zh-HK"]=r["en-HK"],r["zh-MO"]=r["en-MO"],r["ga-IE"]=r["en-IE"];Object.keys(r)},859:function(e,t,n){},870:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(4),o=n(2),c=n(73),i=n(759),s=n(776),l=n(13),u=n.n(l),m=n(14),d=n(7),b=n(22),f=n(3),p=n(127),g=n(131),O=n(222),j=n(221),y=n(242);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var E=function(e){if(!e||!e.editor||!e.editor.design)return!1;var t=JSON.parse(e.editor.design);return!!t&&!!t.body&&Array.isArray(t.body.rows)&&t.body.rows.length>0},S=function(){var e=Object(j.a)(y.a.campaignContent),t=e.getStateProp,n=h(e,["getStateProp"]),a=i.a.getCampaignData(),r=parseInt(a.type);return _(_({},n),{},{getEmailContent:function(){var e=parseInt(t("currentEmail")),n=t("data");return n&&e in n?n[e]:{}},getCurrentEmail:function(){return parseInt(t("currentEmail"))},getEmails:function(){return t("emails")},getAllEmailContent:function(){return t("data")},getShowValidationFlag:function(){return t("showValidation")},emailsValidToSubmit:function(){var e=t("data");return!!t("emails").map((function(t){var n=e[t];if(!n)return!1;var a=!!n.utmEnabled,o=n.utm?n.utm:{},c={subject:1!==r||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:E(n),type:1!==r||n.type&&n.type.length>0,utmSource:!a||o.source&&o.source.length>0,utmMedium:!a||o.medium&&o.medium.length>0};return!!Object.keys(c).map((function(e){return c[e]})).reduce((function(e,t){return e&&t}),!0)})).reduce((function(e,t){return e&&t}),!0)&&e},getValidEmails:function(){var e=t("data"),n=t("emails"),a={};return n.map((function(t){var n=e[t];if(n){var o=!!n.utmEnabled,c=n.utm?n.utm:{},i={subject:1!==r||n.subject&&n.subject.length>0,content:"editor"!==n.type?n.body&&n.body.length>0:E(n),type:1!==r||n.type&&n.type.length>0,utmSource:!o||c.source&&c.source.length>0,utmMedium:!o||c.medium&&c.medium.length>0};a[t]=!!Object.keys(i).map((function(e){return i[e]})).reduce((function(e,t){return e&&t}),!0)}})),a},getEmailsToSubmit:function(){var e=t("data");return t("emails").map((function(t){var n=e[t];return n||!1})).filter(Boolean)},getCurrentEmailIndex:function(){var e=parseInt(t("currentEmail")),n=t("emails");return Array.isArray(n)&&n.includes(e)?n.indexOf(e):1},validateCurrentEmail:function(){var e=t("data"),n=parseInt(t("currentEmail"));if(!e||!e[n])return!1;var a=e[n];if(a){var o=!!a.utmEnabled,c=a.utm?a.utm:{};return{subject:1!==r||a.subject&&a.subject.length>0,content:"editor"!==a.type?a.body&&a.body.length>0:E(a),type:1!==r||a.type&&a.type.length>0,utmSource:!o||c.source&&c.source.length>0,utmMedium:!o||c.medium&&c.medium.length>0}}},getSmartSendSettings:function(){return t("smartSend")},getSaveContentStatus:function(){return t("saveContentStatus")},getSendTestEmailStatus:function(){return t("sendTestEmailStatus")},getUploadImageStatus:function(){return t("uploadImageStatus")},getUploadImageURL:function(){return t("uploadImageURL")}})};function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var I=function(){var e=Object(O.a)(y.a.campaignContent),t=e.fetch,n=e.setStateProp,a=A(e,["fetch","setStateProp"]),r=S(),c=r.getAllEmailContent,s=r.getCurrentEmail,l=r.getEmails,m=r.getSmartSendSettings,b=r.getCurrentEmailIndex,p=r.getEmailsToSubmit,g=r.getEmailContent,j=c(),w=s(),_=b(),v=l(),h=m(),E=g(),C=p(),$=i.a.getCampaignId(),I=i.a.getCampaignData().type,N=function(e){return"type"in e?e:P(P({},e),{},{type:"rich"})};return P(P({},a),{},{setEmailContentByKey:function(e,t){var a=N(w in j?P(P({},j[w]),{},T({},e,t)):T({},e,t)),r=P(P({},j),{},T({},w,a));n("data",r)},setEmailUtmByKey:function(e,t){var a=N(w in j?P({},j[w]):{}),r="utm"in a?P(P({},a.utm),{},T({},e,t)):T({},e,t),o=P(P({},j),{},T({},w,P(P({},a),{},{utm:P(P({},r),{},T({},e,t))})));n("data",o)},setMultipleUtm:function(e){if(e){var t=N(w in j?P({},j[w]):{}),a=P(P({},j),{},T({},w,P(P({},t),{},{utm:P(P({},t.utm),e)})));n("data",a)}},setCurrentEmail:function(e){v.includes(e)&&n("currentEmail",e)},addEmail:function(){if(Array.isArray(v)&&v.length<3){var e=Math.max.apply(Math,k(v))+1;n("emails",[].concat(k(v),[e])),n("currentEmail",e),n("showValidation",!1),n("data",P(P({},j),{},T({},e,v[0]in j?j[v[0]]:{})))}},showValidation:function(e){return n("showValidation",e)},deleteEmail:function(e){if(v.length>1){var t=v.filter((function(t){return t!==e}));n("emails",t),n("currentEmail",t[t.length-1])}},initContent:function(e,t){if(!Array.isArray(e)||0===Object(f.size)(e))return n("data",{1:{body:Object(o.__)("Hi","wp-marketing-automations")+" {{contact_first_name}}"}}),n("emails",[1]),void n("currentEmail",1);var a={};for(var r in e){var c=parseInt(r)+1;a[c]=j[c]?P(P({},N(j[c])),e[r]):e[r]}n("data",a),n("emails",Object.keys(a).map((function(e){return parseInt(e)}))),t&&0!==Object.keys(t).length&&n("smartSend",t)},fetchCurrentMailEditorContent:function(){t("GET",Object(d.g)("/broadcast/".concat($,"/content/").concat(_)),{},{email:w})},sendTestEmail:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c="",i="",s="rich",l="";if(E){var m=E.body?E.body:"",b=E.editor?E.editor:{},p=b.body?b.body:"";c="editor"===(s=E.type?E.type:s)?p:m,i=E.subject?E.subject:"",l=E.preheader?E.preheader:""}var g=r||c,O=a||i,j=o||s,y="",w={};if(1==I)y=Object(d.g)("/send-test-email"),w={email:e,content:{subject:O,body:g,type:j,preheader:l,mail_data:t}};else if(2==I){t.reply_to,t.senders_email,t.senders_name;var _=A(t,["reply_to","senders_email","senders_name"]);y=Object(d.g)("/send-test-sms"),w={phone:e,sms_body:g,sms_data:_}}else if(3==I){t.reply_to,t.senders_email,t.senders_name;var v=A(t,["reply_to","senders_email","senders_name"]);y=Object(d.g)("/send-test-whatsapp-message"),w={phone:e,sms_body:E,sms_data:v}}Object(f.isEmpty)(w)||Object(f.isEmpty)(y)||u()({method:"POST",path:y,data:w}).then((function(e){200===e.code&&e.message?n("sendTestEmailStatus",2):n("sendTestEmailStatus",3)}))},setSmartSendByKey:function(e,t){return n("smartSend",P(P({},h),{},T({},e,t)))},saveBroadcastContent:function(e){n("saveContentStatus",1);var t=Array.isArray(e)&&e.length>0?e:C,a={content:JSON.stringify(t),saveBroadcastContent:!0};u()({method:"POST",path:Object(d.g)("/broadcast/".concat($,"/save-content")),data:a}).then((function(){return n("saveContentStatus",2)}))},uploadImage:function(e){if(e){n("uploadImageStatus",1);var a=new FormData;a.append("image",e),t("POST",Object(d.g)("/upload-image"),a,{uploadImage:!0,isFormData:!0})}},resetSaveContentStatus:function(){return n("saveContentStatus",null)},resetSendTestEmailStatus:function(){return n("sendTestEmailStatus",null)},resetUploadImageStatus:function(){n("uploadImageStatus",null),n("uploadImageStatusURL","")},overrideCurrentContent:function(e){var t=N(w in j?P({},j[w]):{}),a=P(P({},j),{},T({},w,P(P({},t),e)));n("data",a)}})},N=n(34);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var L=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},U=function(e){var t=I().sendTestEmail,n=(0,S().getSendTestEmailStatus)(),r=x(Object(a.useState)("http://app.getautonami.com"),2),c=r[0],i=r[1],s=Object(a.useRef)();Object(a.useEffect)((function(){s.current=e}),[e]);var l=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"send_test_email"===e.data.action&&e.data.token===L.editor_nonce&&e.data.data){var n=e.data.data,a=n.email,r=n.body,c=n.subject;a&&r&&(i(e.origin),t(a,s.current,c||Object(o.__)("This is a fake subject line, enter subject to fix it","wp-marketing-automations"),r))}};return Object(a.useEffect)((function(){return window.addEventListener("message",l),function(){return window.removeEventListener("message",l)}}),[]),Object(a.useEffect)((function(){if(n&&1!==n){var e=2===n,t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:L.editor_nonce,action:"send_test_email",data:{isSent:e}},c)}}),[n]),!0};function D(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var V=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},G=function(e){var t=I().saveBroadcastContent,n=S(),r=n.getSaveContentStatus,o=n.getEmailsToSubmit,c=n.getCurrentEmailIndex,i=r(),s=o(),l=c(),u=Object(a.useRef)(s),m=Object(a.useRef)(l);Object(a.useEffect)((function(){u.current=s,m.current=l}),[s,l]);var d=R(Object(a.useState)("http://app.getautonami.com"),2),b=d[0],f=d[1],p=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"save_design"===e.data.action&&e.data.token===V.editor_nonce&&e.data.data){var n=e.data.data,a=n.body,r=n.design;if(a&&r){f(e.origin);var o=D(u.current);o[m.current].editor={body:a,design:r},t(o)}}};return Object(a.useEffect)((function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}}),[]),Object(a.useEffect)((function(){if(i&&1!==i&&e){var t=2===i,n=document.getElementById("bwf_email_editor_frame");n&&n.contentWindow.postMessage({token:V.editor_nonce,action:"save_design",data:{isSaved:t}},b)}}),[i]),!0};function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var W=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},z=function(){var e=K(Object(a.useState)("http://app.getautonami.com"),2),t=e[0],n=e[1],r=function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"wp_image_upload"===e.data.action&&e.data.token===W.editor_nonce&&e.data.data&&(n(e.origin),u())},c=Object(a.useRef)(),i=K(Object(a.useState)(""),2),s=i[0],l=i[1],u=function(){if(!wp||!wp.media)return"";c.current||(c.current=wp.media({title:Object(o.__)("Select or Upload Media","wp-marketing-automations"),button:{text:"Select Image"},multiple:!1}),c.current.on("select",(function(){var e=c.current.state().get("selection").first().toJSON();l(e.url)}))),c.current.open()};return Object(a.useEffect)((function(){return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}),[]),Object(a.useEffect)((function(){if(s){var e=document.getElementById("bwf_email_editor_frame");e&&e.contentWindow.postMessage({token:W.editor_nonce,action:"wp_image_upload",data:{isUploaded:!0,imageURL:s}},t)}}),[s]),!0},Z=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},J=function(e){var t=(0,S().getEmailContent)(),n=Object(a.useRef)(),r=Object(a.useRef)();Object(a.useEffect)((function(){n.current=t,r.current=function(e){var t={};for(var n in e){var a=e[n];if(a){var r={};for(var o in a)r[o]={name:a[o],value:"{{".concat(o,"}}")};var c="";switch(n){case"contact":c="Contact";break;case"contact_fields":c="Fields";break;case"general":c="General"}t[n]={name:c,mergeTags:r}}}return t}(e)}),[t,e]);var o=function(e){if(-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"get_design"===e.data.action&&e.data.token===Z.editor_nonce){var t=n.current&&n.current.editor&&n.current.editor.design?n.current.editor.design:"",a=document.getElementById("bwf_email_editor_frame");a&&a.contentWindow.postMessage({token:Z.editor_nonce,action:"get_design",data:{gotDesign:!0,json:t,subject:n.current&&n.current.subject?n.current.subject:"",mergeTags:r.current,enableLinkTrigger:!0}},e.origin)}};return Object(a.useEffect)((function(){return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}}),[]),!0},q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Y=function(e){var t=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"open_merge_tags"===t.data.action&&t.data.token===q.editor_nonce&&t.data.data&&e&&e()};return Object(a.useEffect)((function(){return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),!0},Q=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},X=function(e){var t=function(t){-1!==t.origin.indexOf("app.getautonami.com")&&t.data&&t.data.action&&"close_editor"===t.data.action&&t.data.token===Q.editor_nonce&&t.data.data&&e&&e()};return Object(a.useEffect)((function(){return window.addEventListener("message",t),function(){return window.removeEventListener("message",t)}}),[]),!0},ee=n(294),te=n(12);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var re=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},oe=function(){return Object(a.createElement)("div",{className:"bwf-c-save-content-loading"},Object(a.createElement)(N.a,null),Object(a.createElement)("h3",null,Object(o.__)("Loading Drag and Drop Builder","wp-marketing-automations")))},ce=function(e){var t=e.iframeRef,n=e.editorSrc;return Object(a.createElement)("iframe",{ref:t,title:Object(o.__)("Email Editor","wp-marketing-automations"),src:n,id:"bwf_email_editor_frame",style:{width:"100%",height:"100%"}})},ie=function(e){var t=ne(Object(a.useState)(!1),2),n=t[0],c=t[1],i=e.broadcastId,s=e.contentNumber,l=e.openMergeTags,u=e.mailData,m=e.mergeTags,d=e.openLinkTrigger,b=re.license,f=re.editor_nonce,p=re.url,g=I(),O=g.fetchCurrentMailEditorContent,j=g.saveBroadcastContent,y=g.resetSaveContentStatus,w=S().getSaveContentStatus(),_=ne(Object(a.useState)(!1),2),v=_[0],h=_[1];Object(a.useEffect)((function(){v||2!==w&&3!==w||(h(!0),y())}),[w]);var E=Object(a.useCallback)((function(){c(!1),O()}));J(m||[]),U(u),G(v),z(),Y(l),X(E),Object(ee.a)(d);var k="//app.getautonami.com/get/".concat(b,"/").concat(f,"/").concat(p,"/crm.broadcast.").concat(i,".content.").concat(s),C=Object(a.useRef)();return Object(a.useEffect)((function(){n?(j(),document.body.classList.add("bwf-c-modal-open")):(h(!1),document.body.classList.remove("bwf-c-modal-open"))}),[n]),Object(a.createElement)(a.Fragment,null,n&&Object(a.createElement)("div",{className:"bwf-c-editor-modal-wrapper"},Object(a.createElement)("div",{className:"bwf-c-editor-modal bwf-c-editor-modal-full-width"},!v&&Object(a.createElement)(oe,null),!!v&&Object(a.createElement)(ce,{iframeRef:C,editorSrc:k}))),Object(a.createElement)("div",{className:"bwf-c-editor-button-wrapper"},Object(a.createElement)(te.a,{icon:"launch-editor",size:50}),Object(a.createElement)("div",{className:"bwf-h1"},"Launch Editor"),Object(a.createElement)("div",{className:"bwf-h5"},"Visually get email with drop & drop builder"),Object(a.createElement)(r.Button,{isSecondary:!0,onClick:function(){return c(!0)}},Object(o.__)("Start","wp-marketing-automations"))))},se=n(140),le=n(799);function ue(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var be=function(e){var t=e.setPreview,n=e.content,c=e.type,i=me(Object(a.useState)(""),2),s=i[0],l=i[1],m=me(Object(a.useState)(!0),2),b=m[0],f=m[1];Object(a.useEffect)((function(){p()}),[]);var p=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return l(""),f(!1),e.abrupt("return");case 4:return e.prev=4,t={content:n,type:c},e.next=8,u()({path:Object(d.g)("/broadcast/email-preview"),method:"POST",data:t}).then((function(e){l(e.result.body.replace(/\\/g,"")),f(!1)}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}}),e,null,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){ue(o,a,r,c,i,"next",e)}function i(e){ue(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(a.createElement)(r.Modal,{title:Object(o.__)("Preview","wp-marketing-automations"),onRequestClose:function(){return t(!1)},className:"bwf-admin-modal bwf-admin-modal-xxxl"},b?Object(a.createElement)(N.a,null):Object(a.createElement)("div",{dangerouslySetInnerHTML:{__html:s}}))},fe=n(295),pe=n(256),ge=function(e){var t=e.enable,n=e.position,c=e.imageURL,i=e.setData;return Object(a.createElement)("div",{className:"bwf-c-campaign-email"},Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.ToggleControl,{label:Object(o.__)("Enable Image Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:t,onChange:function(e){return i("enable",e)}}),t&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.RadioControl,{className:"bwfcrm-inline-option",selected:n,label:Object(o.__)("Select Image Position","wp-marketing-automations"),options:[{value:"after",label:Object(o.__)("After","wp-marketing-automations")},{value:"before",label:Object(o.__)("Before","wp-marketing-automations")}],onChange:function(e){return i("position",e)}}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(pe.a,{image:c?{url:c}:"",onChange:function(e){!Object(f.isNull)(e)&&e.hasOwnProperty("url")?i("imageURL",e.url):i("imageURL","")}})))},Oe=n(152),je=n(56);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ee=bwfcrm_contacts_data&&bwfcrm_contacts_data.editor_settings?bwfcrm_contacts_data.editor_settings:{},Se=function(){var e=ve(Object(a.useState)(!1),2),t=e[0],n=e[1],r=ve(Object(a.useState)(!1),2),o=r[0],c=r[1],i=Object(je.a)(Object(d.L)()).formatAmount,s=Object(a.useCallback)((function(e){var t=document.getElementById("bwf_email_editor_frame");t&&t.contentWindow.postMessage({token:Ee.editor_nonce,action:"select_product_for_tool",data:{product:we(we({},e),{},{formattedPrice:i(e.price)})}},o),n(!1)}),[o]),l=Object(a.useCallback)((function(e){-1!==e.origin.indexOf("app.getautonami.com")&&e.data&&e.data.action&&"select_product_for_tool"===e.data.action&&e.data.token===Ee.editor_nonce&&(c(e.origin),n(!0))}),[n]);return Object(a.useEffect)((function(){return window.addEventListener("message",l),function(){return window.removeEventListener("message",l)}}),[]),t&&Object(a.createElement)(Oe.a,{onRequestClose:function(){return n(!1)},onProductSelected:s})},ke=n(368),Ce=n(50);function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var xe=Object(d.M)(),Me=[{label:Object(o.__)("Rich Text","wp-marketing-automations"),value:"rich",templateIcon:"rich-text",className:"bwf-display-flex bwf-campaign-template-type "},xe.includes("wc")&&{label:Object(o.__)("WooCommerce","wp-marketing-automations"),value:"wc",templateIcon:"woocommerce",className:"bwf-display-flex bwf-campaign-template-type "},{label:Object(o.__)("Raw HTML","wp-marketing-automations"),value:"html",templateIcon:"html",className:"bwf-display-flex bwf-campaign-template-type"},{label:Object(o.__)("Drag and Drop","wp-marketing-automations"),value:"editor",templateIcon:"html",className:"bwf-display-flex bwf-campaign-template-type"}].filter(Boolean),Le=function(e){var t=e.maildata,n=i.a.getCampaignData(),s=parseInt(n.type),l=Object(d.k)(),u=I(),m=u.setEmailContentByKey,b=u.setEmailUtmByKey,O=u.setMultipleUtm,j=u.sendTestEmail,y=u.resetSendTestEmailStatus,w=S(),_=w.getEmailContent()?w.getEmailContent():{},v="utm"in _?_.utm:{},h=Ie(Object(a.useState)(!1),2),E=h[0],k=h[1],C=Ie(Object(a.useState)(""),2),$=C[0],P=C[1],T="subject"in _?_.subject:"",A="preheader"in _?_.preheader:"",N="type"in _?_.type:"rich",x="utmEnabled"in _&&_.utmEnabled,M=Ie(Object(a.useState)({message:"",type:1}),2),L=M[0],U=M[1],D="whatsAppImage"in _&&_.whatsAppImage,R="whatsAppImageSetting"in _?_.whatsAppImageSetting:{},B="position"in R?R.position:"after",F="imageURL"in R?R.imageURL:"",V="source"in v?v.source:"",G="medium"in v?v.medium:"",K="name"in v?v.name:"",H="content"in v?v.content:"",W="term"in v?v.term:"",z=Ie(Object(a.useState)(!1),2),Z=z[0],J=z[1],q=w.getShowValidationFlag(),Y=Ie(Object(a.useState)(!1),2),Q=Y[0],X=Y[1],ee=Ie(Object(a.useState)("content"),2),te=ee[0],ne=ee[1],ae=Ie(Object(a.useState)([]),2),re=ae[0],oe=ae[1],ce=Ie(Object(a.useState)(!1),2),ue=ce[0],me=ce[1],de=w.getCurrentEmailIndex(),pe=_&&_.body?_.body:"",Oe="editor"in _?_.editor:{},je=Oe&&Oe.body?Oe.body:"",ye="editor"===N?je:pe,we=x?Te(Te({},t),{},{utmName:K,utmMedium:G,utmContent:H,utmSource:V,utmTerm:W}):t;Object(a.useEffect)((function(){if(x){var e={};!V&&(e.source=Object(o.__)("Newsletter","wp-marketing-automations")),!G&&(e.medium=l[s].label.toLowerCase()),!K&&(e.name=Object(f.trim)(n.title).toLowerCase().replace(/\s/g,"-")),O(e)}}),[x]);var _e=w.validateCurrentEmail(),ve={1:Object(o.__)("Place your HTML here","wp-marketing-automations"),2:Object(o.__)("Enter the SMS Body","wp-marketing-automations"),3:Object(o.__)("Place your message here","wp-marketing-automations")},he={1:Object(o.__)("Send Test Email","wp-marketing-automations"),2:Object(o.__)("Send Test SMS","wp-marketing-automations"),3:Object(o.__)("Send Test Message","wp-marketing-automations")},Ee={1:Object(o.__)("Send Email","wp-marketing-automations"),2:Object(o.__)("Send SMS","wp-marketing-automations"),3:Object(o.__)("Send Message","wp-marketing-automations")},Pe=function(){return"editor"==_.type?_.hasOwnProperty("editor")&&_.editor.hasOwnProperty("body")?_.editor.body:"":_.body},Ae=w.getSendTestEmailStatus();Object(a.useEffect)((function(){null!==Ae&&setTimeout((function(){y(),U({message:"",type:1})}),2e3),2===Ae&&U({message:1==s?Object(o.__)("Test email sent","wp-marketing-automations"):Object(o.__)("Test message sent","wp-marketing-automations"),type:1}),3===Ae&&U({message:1==s?Object(o.__)("Unable to send mail","wp-marketing-automations"):Object(o.__)("Unable to send message","wp-marketing-automations"),type:1})}),[Ae]);var Ne=q&&!_e.subject?" bwf-field-error":"",xe=q&&!_e.content?" bwf-field-error-textarea":"",Le=q&&!_e.utmSource?" bwf-field-error":"",Ue=q&&!_e.utmMedium?" bwf-field-error":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Card,{className:"bwf-c-campaign-body"},1===s&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.TextControl,{value:T,onChange:function(e){return m("subject",e)},label:Object(o.__)("Subject","wp-marketing-automations"),placeholder:Object(o.__)("Enter subject","wp-marketing-automations"),className:"bwf-field-m0"+Ne}),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf-campaign-mail-headers-wrap"},Object(a.createElement)(r.TextControl,{value:A,placeholder:Object(o.__)("Enter preview text","wp-marketing-automations"),label:Object(o.__)("Preview Text","wp-marketing-automations"),onChange:function(e){return m("preheader",e)}})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,{align:"flex-end",gap:5},Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)("div",{className:"bwf-p"},Object(o.__)("Template Type","wp-marketing-automations")),Object(a.createElement)("div",null,Me.map((function(e){var t=e.value===N?{isPrimary:!0}:{};return Object(a.createElement)("div",{className:"bwf-c-big-icon-button bwf-alter-button"},Object(a.createElement)(r.Button,$e({onClick:function(){return m("type",e.value)}},t,{className:e.className}),e.label))})))),"editor"!==N&&Object(a.createElement)(r.FlexItem,null,Object(a.createElement)("span",{lassName:"bwf-cursor-pointer",onClick:function(){ne("content"),X(!0)}},Object(a.createElement)(Ce.a,{icon:"merge-tag",iconSize:25,size:100,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-120","data-position":"top"},Object(o.__)("Merge Tags","wp-marketing-automations"))}))),Object(a.createElement)(r.FlexItem,{style:{minHeight:"30px"}},Object(a.createElement)(ke.a,{canCreate:!0,isLinkTriggerOpen:ue,setLinkTriggerOpen:me,hideButton:"editor"===N})))),Object(a.createElement)("div",{className:"bwf_clear_15"}),Object(a.createElement)("div",{className:xe},1===s&&("rich"===N||"wc"===N)&&Object(a.createElement)(g.a,{content:ye,keyid:"bwf-campaign-email-editor",setContent:function(e){return m("body",e)}}),("html"===N||2===s||3===s)&&Object(a.createElement)(r.TextareaControl,{value:ye,onChange:function(e){return m("body",e)},placeholder:ve[s],rows:[2,3].includes(s)?5:30}),"editor"===N&&Object(a.createElement)(ie,{broadcastId:n.id,contentNumber:parseInt(de),openMergeTags:function(){return X(!0)},mailData:we,mergeTags:re,openLinkTrigger:me})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexItem,null,"editor"!==N&&3!==s&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("a",{isTertiary:!0,className:"bwf-a-no-underline",onClick:function(e){e.preventDefault(),ne("content");var t=2===s?bwfanParams.bwfan_global_settings.bwfan_sms_unsubscribe_text:bwfanParams.bwfan_global_settings.bwfan_email_footer_setting;m("body","".concat(ye||""," \n").concat(t))}},Object(o.__)("Add Unsubscribe Text","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"})))),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexItem,null,1==s&&Object(a.createElement)(fe.a,{templateData:_,type:1}),Object(a.createElement)(r.Button,{className:"bwf-ml-5 bwf-big-button",isSecondary:!0,onClick:function(){k(!0)}},he.hasOwnProperty(s)?he[s]:Object(o.__)("Send Test Email","wp-marketing-automations")),E&&Object(a.createElement)(r.Popover,{onFocusOutside:function(){k(!1)},onClick:function(e){return e.stopPropagation()}},Object(a.createElement)("div",{className:"bwf-campaign-test-mail-wrap"},Object(a.createElement)("div",{className:"bwf_clear_10"}),Object(a.createElement)("div",{className:"bwf-p"},Object(a.createElement)(r.TextControl,{value:$,onChange:function(e){return P(e)},placeholder:1==s?Object(o.__)("Enter email","wp-marketing-automations"):Object(o.__)("Enter phone no.","wp-marketing-automations")})),Object(a.createElement)(r.Button,{isPrimary:!0,className:"bwf-big-button",onClick:function(e){if(e.preventDefault(),n=!1,!(Object(f.isEmpty)($)||![2,3].includes(s)&&!Object(c.a)($)||![2,3].includes(s)&&!_e.subject||[2,3].includes(s)&&!Object(le.a)($))&&_e.content&&_e.type&&_e.utmMedium&&_e.utmSource||(n=!0),n){var t="";Object(f.isEmpty)($)&&(t=[2,3].includes(s)?Object(o.__)("Phone is required field.","wp-marketing-automations"):Object(o.__)("Email is required field.","wp-marketing-automations")),Object(f.isEmpty)(t)&&([2,3].includes(s)?Object(le.a)($)||(t=Object(o.__)("Entered phone is not valid.","wp-marketing-automations")):Object(c.a)($)||(t=Object(o.__)("Entered email is not valid.","wp-marketing-automations"))),!Object(f.isEmpty)(t)||[2,3].includes(s)||_e.subject||(t=Object(o.__)("Subject is required field.","wp-marketing-automations")),Object(f.isEmpty)(t)&&!_e.content&&(t=Object(o.__)("Content is required field.","wp-marketing-automations")),U({message:t,type:2})}else j($,we,"","");var n}},Ee.hasOwnProperty(s)?Ee[s]:Object(o.__)("Send Mail","wp-marketing-automations")))),1==s&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.Button,{isSecondary:!0,className:"bwf-ml-5 bwf-big-button",onClick:function(){Object(f.isEmpty)(Pe())?U({message:"No content available for preview.",status:2}):J(!0)}},Object(o.__)("Show Preview","wp-marketing-automations")),Z&&Object(a.createElement)(be,{setPreview:J,content:Pe(),type:N})))),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.CheckboxControl,{checked:x,label:Object(o.__)("Automatically append UTM parameters to email links","wp-marketing-automations"),className:"bwf-crm-campaign-third-step-utm",onChange:function(e){return m("utmEnabled",e)}}),x&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_10"}),Object(a.createElement)("div",{className:"bwf-campaign-utm-section"},Object(a.createElement)(r.TextControl,{value:V,onChange:function(e){return b("source",e.toLowerCase().replace(/\s/g,"-"))},label:Object(o.__)("Campaign Source","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM source","wp-marketing-automations"),help:Object(o.__)("Referrer: (e.g., google, newsletter)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+Le}),Object(a.createElement)(r.TextControl,{value:G,onChange:function(e){return b("medium",e.toLowerCase().replace(/\s/g,"-"))},label:Object(o.__)("Campaign Medium","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM medium","wp-marketing-automations"),help:Object(o.__)("Marketing medium: (e.g., CPC, banner, email)","wp-marketing-automations"),className:"bwf-field-comp-label-content"+Ue}),Object(a.createElement)(r.TextControl,{value:K,onChange:function(e){return b("name",e.toLowerCase().replace(/\s/g,"-"))},label:Object(o.__)("Campaign Name","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM name","wp-marketing-automations"),help:Object(o.__)("Product, promo code, or slogan (e.g., spring_sale)","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(a.createElement)(r.TextControl,{value:W,onChange:function(e){return b("term",e.toLowerCase().replace(/\s/g,"-"))},label:Object(o.__)("Campaign Term","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM term","wp-marketing-automations"),className:"bwf-field-comp-label-content"}),Object(a.createElement)(r.TextControl,{value:H,onChange:function(e){return b("content",e.toLowerCase().replace(/\s/g,"-"))},label:Object(o.__)("Campaign Content","wp-marketing-automations"),placeholder:Object(o.__)("Enter UTM content","wp-marketing-automations"),className:"bwf-field-comp-label-content"}))),3==s&&Object(a.createElement)(ge,{enable:D,position:B,imageURL:F,setData:function(e,t){if("enable"==e)m("whatsAppImage",t);else if(["position","imageURL"].includes(e)){var n={position:B,imageURL:F};n[e]=t,m("whatsAppImageSetting",n)}}}),Object(a.createElement)(p.a,{message:L.message,type:L.type,removeMessage:function(){return U({message:"",type:1})}})),Object(a.createElement)(se.a,{isOpen:Q,setOpenTags:X,onMergeTagSelected:function(e){"subject"===te&&m("subject","".concat(T||""," ").concat(e)),"content"===te&&m("body","".concat(ye||""," ").concat(e)),X(!1)},onMergeTagsLoaded:function(e){return oe(e)}}),Object(d.fb)()&&Object(a.createElement)(Se,null))},Ue=n(310),De=n(5),Re=n.n(De),Be=(n(859),n(79)),Fe=function(e){var t=I(),n=S(),c=n.getSmartSendSettings(),i=c.enable,s=c.percent,l=c.hours,u=t.setSmartSendByKey,m=n.getShowValidationFlag(),d=n.getEmails();return Array.isArray(d)&&d.length>1?Object(a.createElement)(r.Card,{className:"bwf-c-campaign-email"},Object(a.createElement)("div",{className:"bwf-h4"},Object(o.__)("Smart Sending","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.ToggleControl,{label:Object(o.__)("Enable Smart Sending","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:i,onChange:function(e){return u("enable",e)}}),i&&parseInt(s)>0&&parseInt(l)>0&&Object(a.createElement)("div",null,Object(o.sprintf)(Object(o.__)("This broadcast will be sent to %d percent of your contacts. After %d hours, open rates of all the variants would be analyzed and the one with the most opens would be sent to the remaining contacts.","wp-marketing-automations"),parseInt(s),parseInt(l))),i&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.TextControl,{type:"number",value:s,onChange:function(e){return u("percent",e)},label:Object(o.__)("Sample size (in percent)","wp-marketing-automations"),placeholder:Object(o.__)("Enter percent","wp-marketing-automations"),className:Re()({"bwf-field-comp-label-content":!0,"bwf-field-error":m&&!parseInt(s)})}),Object(a.createElement)(r.TextControl,{type:"number",value:l,onChange:function(e){return u("hours",e)},label:Object(o.__)("Wait time (in hours)","wp-marketing-automations"),placeholder:Object(o.__)("Enter hour difference","wp-marketing-automations"),className:Re()({"bwf-field-comp-label-content":!0,"bwf-field-error":m&&!parseInt(l)})}))):null},Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Ge=function(e){var t=e.mailData,n=e.unsubscribeLink,c=I(),s=S(),l=c.setCurrentEmail,u=c.addEmail,m=c.showValidation,b=c.deleteEmail,f=c.overrideCurrentContent,p={1:Object(o.__)("Email","wp-marketing-automations.crm"),2:Object(o.__)("SMS","wp-marketing-automations.crm"),3:Object(o.__)("WhatsApp","wp-marketing-automations.crm")},g=s.getEmails(),O=s.getCurrentEmail(),j=s.getSmartSendSettings(),y=s.emailsValidToSubmit(),w=s.getShowValidationFlag(),_=s.getValidEmails(),v=i.a.getCampaignData(),h=!(v&&v.data&&v.data.ab_type)||"ab"===v.data.ab_type,E=Object(a.useRef)(!1),k=Object(a.useCallback)((function(e){return Re()({active:O===e,"bwf-error-tab":!_[e]&&w})})),C=!![!j.enable||!!parseInt(j.hours)&&g.length>1,!j.enable||!!parseInt(j.percent)&&g.length>1].reduce((function(e,t){return e&&t}),!0),$=Object(a.useContext)(d.b),P=function(e){f(e),$(Object(o.__)("Template Applied Successfully.","wp-marketing-automations")),setTimeout((function(){$("")}),2e3)};return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-p-gap bwf-border"},(!y||!C||!n)&&w&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Be.a,null),Object(a.createElement)(r.Notice,{className:"bwf-error-notice",status:"error",onRemove:function(){return m(!1)}},(!y||!C)&&Object(o.__)("Some required fields are not filled, check below","wp-marketing-automations"),!n&&Object(a.createElement)(a.Fragment,null,(!y||!C)&&Object(a.createElement)("br",null),Object(o.__)("{{unsubscribe_link}} merge tag is missing in the email body","wp-marketing-automations")))),h?Object(a.createElement)("div",{className:"bwf-c-campaign-email-tabs"},Object(a.createElement)("ul",null,g.map((function(e,t){return Object(a.createElement)("li",{onClick:function(){return function(e){!E.current&&l(e),E.current=!1}(e)},className:k(e)},Object(o.__)(0===t?"Control ":"Variant ","wp-marketing-automations")," ",t>0&&Ve[parseInt(t)%Ve.length-1],t>0&&Object(a.createElement)(r.Button,{icon:"no",onClick:function(){return function(e){E.current=!0,b(e)}(e)}}))})),g.length<3&&Object(a.createElement)("li",{className:"bwf-c-campaign-email-variant"},Object(a.createElement)(r.Button,{icon:"plus",onClick:function(){return u()}},Object(o.__)("Add Variant","wp-marketing-automations")))),1===parseInt(v.type)&&Object(a.createElement)("span",{className:"bwf-c-campaign-template-selector"},Object(a.createElement)(Ue.a,{applyTemplate:P}))):Object(a.createElement)("div",{className:"bwf-c-campaign-email-tabs"},Object(a.createElement)("ul",null,Object(a.createElement)("li",{style:{borderBottom:"2px solid #1daafc"}},p.hasOwnProperty(v.type)?p[v.type]:Object(o.__)("Email","wp-marketing-automations"))),1===parseInt(v.type)&&Object(a.createElement)("span",{className:"bwf-c-campaign-template-selector bwf-display-flex"},Object(a.createElement)(Ue.a,{applyTemplate:P}))),Object(a.createElement)(Le,{maildata:t}),Object(a.createElement)(Fe,null)))};function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(e){var t=location&&location.search?Object(b.parse)(location.search.substring(1)):{},n=Ze(Object(a.useState)({message:"",type:1}),2),l=n[0],g=n[1],O=Ze(Object(a.useState)([]),2),j=O[0],y=O[1],w=Ze(Object(a.useState)(Object(d.r)("from_name")),2),_=w[0],v=w[1],h=Ze(Object(a.useState)(Object(d.r)("from_email")),2),E=h[0],k=h[1],C=Ze(Object(a.useState)(Object(d.r)("reply_to_email")),2),$=C[0],P=C[1],T=Object(s.a)().setCampaignValues,A=i.a.getCampaignId(),N=i.a.getCampaignData(),x=parseInt(N.type);Object(a.useEffect)((function(){N&&!Object(f.isNull)(N.data)&&(N.data.hasOwnProperty("content")&&!Object(f.isEmpty)(N.data.content)?y(N.data.content):y(1==x?[{subject:"",preheader:"",type:"rich",body:"",utm:{}}]:[{body:"",utm:{}}]),N.data.hasOwnProperty("senders_name")&&v(N.data.senders_name),N.data.hasOwnProperty("senders_email")&&k(N.data.senders_email),N.data.hasOwnProperty("replyto")&&!Object(f.isEmpty)(N.data.replyto)&&P(N.data.replyto))}),[]);var M={name:1!==x||null===_||_.length>0,email:1!==x||null===E||Object(c.a)(E),content:null===j||j.length>0},L=S(),U=L.emailsValidToSubmit(),D=L.getEmails(),R=L.getSmartSendSettings(),B=I();Object(a.useEffect)((function(){if(N&&N.data){var e=!N.data.ab_type||"ab"===N.data.ab_type,t=N.data.content?Array.isArray(N.data.content)&&!e?[N.data.content[0]]:N.data.content:[],n=N.data.smart_send&&e?N.data.smart_send:{};B.initContent(t,n)}}),[A]);var F=!![1!==x||_&&_.length>0,1!==x||E&&Object(c.a)(E),1!==x||Object(f.isEmpty)($)||$&&Object(c.a)($)].reduce((function(e,t){return e&&t}),!0),V=!![!R.enable||!!parseInt(R.hours)&&D.length>1,!R.enable||!!parseInt(R.percent)&&D.length>1].reduce((function(e,t){return e&&t}),!0),G=function(){if(1!==x)return!0;var e=!1;return D.map((function(t){var n=U.hasOwnProperty(t)?U[t]:{};n.hasOwnProperty("type")&&!e&&("editor"==n.type?n.hasOwnProperty("editor")&&n.editor.hasOwnProperty("body")&&(e=n.editor.body.includes("{{unsubscribe_link}}")):n.hasOwnProperty("body")&&(e=n.body.includes("{{unsubscribe_link}}")))})),e}(),K=function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B.showValidation(!1),!(F&&U&&V&&G)){t.next=16;break}return e.setPending(!0),t.prev=3,n=He({content:D.map((function(e){return U[e]})),senders_name:_,senders_email:E,replyto:$,modified_by:Object(d.o)()},R.enable?{smart_send:{enable:R.enable,percent:R.percent,hours:R.hours}}:{}),a={content:JSON.stringify(n),step:3},t.next=8,u()({path:Object(d.g)("/broadcast/".concat(A)),method:"POST",data:a}).then((function(e){200===e.code?(T("data",e.result),T("step",4)):g({message:e.message,type:0})}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),g({message:t.t0.message,type:0});case 13:e.setPending(!1),t.next=17;break;case 16:B.showValidation(!0);case 17:case"end":return t.stop()}}),t,null,[[3,10]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function c(e){ze(o,a,r,c,i,"next",e)}function i(e){ze(o,a,r,c,i,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}(),H=M&&!M.email?" bwf-field-error":"",W=M&&!M.name?" bwf-field-error":"";return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Be.a,null),Object(a.createElement)("div",{className:"bwf-campaign-step-div bwf-card-wrap bwf-campaign-step-3"},Object(a.createElement)("div",{className:"bwf-card-header"},Object(a.createElement)("span",{className:"bwf-form-title"},Object(o.__)("Content","wp-marketing-automations"))),1===x&&Object(a.createElement)("div",{className:"bwf-p-gap"},Object(a.createElement)(r.Card,{className:"bwf-c-campaign-email"},Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:_,onChange:v,label:Object(o.__)("From Name","wp-marketing-automations"),placeholder:Object(o.__)("Enter From Name","wp-marketing-automations"),className:W}))),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)(r.Flex,null,Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:E,onChange:k,label:Object(o.__)("From Email","wp-marketing-automations"),placeholder:Object(o.__)("Enter From Email","wp-marketing-automations"),className:H})),Object(a.createElement)(r.FlexBlock,null,Object(a.createElement)(r.TextControl,{value:$,placeholder:Object(o.__)("Enter Reply-To Email","wp-marketing-automations"),label:Object(o.__)("Reply-To Email","wp-marketing-automations"),onChange:P}))))),Object(a.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(a.createElement)(Ge,{mailData:{reply_to:$,senders_email:E,senders_name:_},unsubscribeLink:G}),Object(a.createElement)(p.a,{message:l.message,type:l.type,removeMessage:function(){return g({message:"",type:1})}})),Object(a.createElement)("div",{className:"bwf-p-gap bwf-pt-0"},Object(a.createElement)("div",{className:"bwf-crm-campaign-navigation"},Object(a.createElement)(r.Button,{className:"bwf-crm-navigation-previous bwf-big-button",isSecondary:!0,onClick:function(){var e=N.data&&!Object(f.isNull)(N.data)&&N.data.hasOwnProperty("filters")?N.data.filters:{};Object(f.isEmpty)(e)||Object(m.j)(e,"/",t),T("step",2)}},Object(o.__)("Previous","wp-marketing-automations")),Object(a.createElement)(r.Button,{isPrimary:!0,className:"bwf-crm-navigation-next bwf-big-button",disabled:!F,onClick:K},Object(o.__)("Next","wp-marketing-automations"))))))}}}]);
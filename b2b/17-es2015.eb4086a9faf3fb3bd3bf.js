(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{scZl:function(e,t,i){"use strict";i.r(t),i.d(t,"EcommerceModule",(function(){return at}));var o=i("tyNb"),a=i("bTqV"),n=i("A5z7"),c=i("FKr1"),r=i("7EHt"),d=i("kmnG"),s=i("NFeN"),b=i("qFsG"),l=i("M9IT"),p=i("d3UM"),m=i("dNgK"),h=i("Dh3D"),u=i("+0xr"),f=i("wZkO"),v=i("zQsl"),g=(i("mrSG"),i("fXoL")),x=(i("HDdC"),i("2Vo4")),w=(i("Cfvw"),i("PqYM"),i("XNiG")),O=(i("DH7j"),i("n6bG"),i("lJxs")),_=i("VRyK");i("jtHE"),i("quSY"),i("8Qeq"),i("z+Ro"),i("LRne"),i("z6cu"),i("5+tZ"),i("l7GE"),i("ZUHj"),i("eIep"),i("UXun"),i("/uUt");var y=i("1G5W"),Z=(i("JX91"),i("zP0r"),i("oB13"),i("ofXK"));let Y=(()=>{let e=class{};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac}),e})();class C{getNativeWindow(){return window}}class D{getNativeDocument(){return document}}const S=[C,D];var P=function(e){return e[e.HTTP=1]="HTTP",e[e.HTTPS=2]="HTTPS",e[e.AUTO=3]="AUTO",e}({});const F=new g.s("angular-google-maps LAZY_MAPS_API_CONFIG");let A=(()=>{let e=class extends Y{constructor(e=null,t,i,o){super(),this.localeId=o,this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=e||{},this._windowRef=t,this._documentRef=i}load(){const e=this._windowRef.getNativeWindow();if(e.google&&e.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const t=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(t)return this._assignScriptLoadingPromise(t),this._scriptLoadingPromise;const i=this._documentRef.getNativeDocument().createElement("script");return i.type="text/javascript",i.async=!0,i.defer=!0,i.id=this._SCRIPT_ID,i.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(i),this._documentRef.getNativeDocument().body.appendChild(i),this._scriptLoadingPromise}_assignScriptLoadingPromise(e){this._scriptLoadingPromise=new Promise((t,i)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{t()},e.onerror=e=>{i(e)}})}_getScriptSrc(e){let t;switch(this._config&&this._config.protocol||P.HTTPS){case P.AUTO:t="";break;case P.HTTP:t="http:";break;case P.HTTPS:t="https:"}const i={v:this._config.apiVersion||"quarterly",callback:e,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null};return`${t}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(i).filter(e=>null!=i[e]).filter(e=>!Array.isArray(i[e])||Array.isArray(i[e])&&i[e].length>0).map(e=>{let t=i[e];return Array.isArray(t)?{key:e,value:t.join(",")}:{key:e,value:i[e]}}).map(e=>`${e.key}=${e.value}`).join("&")}`}};return e.\u0275fac=function(t){return new(t||e)(g.dc(F,8),g.dc(C),g.dc(D),g.dc(g.w))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac}),e})();var T;let E=(()=>{let e=T=class{static forRoot(e){return{ngModule:T,providers:[...S,{provide:Y,useClass:A},{provide:F,useValue:e}]}}};return e.\u0275mod=g.Rb({type:e}),e.\u0275inj=g.Qb({factory:function(t){return new(t||e)}}),e})();var I=i("5HBU"),L=i("4CPF"),k=i("0EQZ"),N=i("PVWW"),U=i("jD4G"),R=i("tk/3"),z=i("EnSQ"),M=i("wUqA");let H=(()=>{class e{constructor(e,t,i){this._httpClient=e,this._dataService=t,this._authService=i,this.onOrdersChanged=new x.a({}),this._authService.loadUserData()}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getOrders()]).then(t=>{e(t)},t)})}getOrders(){let e,t=this._authService.getCurrentUser();return e="vendedor_al"==t.roles?"https://andinalicores.com.ec/wp-json/custom-plugin/vendedor/pedidos/"+t.code:"https://andinalicores.com.ec/wp-json/custom-plugin/pedido/cliente/"+t.code,new Promise((i,o)=>{this._httpClient.get(e).subscribe(e=>{if(this.pedidos=e,this.pedidos.PedFacClientes.length>0){this.pedidos=this.pedidos.PedFacClientes;var o=new Array;if("vendedor_al"==t.roles)for(let e=0;e<this.pedidos.length;e++)(a=[]).push("Mayorizada"==this.pedidos[e].ESTADO?{id:17,name:"Completado",color:"blue-700"}:{id:16,name:"Pendiente",color:"red-500"}),o.push({id:e+1,reference:this.pedidos[e].PEDIDO,total:this.pedidos[e].TOT_PEDIDO,date:this.pedidos[e].FEC_PEDIDO,codigo:this.pedidos[e].COD_PEDIDO,factura:this.pedidos[e].FACTURA,aprobada:this.pedidos[e].FEC_APROBA,cliente:this.pedidos[e].CODIGO_CLIENTE,email_cli:this.pedidos[e].CLIENTE_MAIL,tel:this.pedidos[e].CLIENTE_TELEFONO,customer:{id:e,name:this.pedidos[e].CLI_NOMBRE,email:t.mail_emp,phone:"",invoiceAddress:{address:this.pedidos[e].OBSERVACION}},status:a});else for(let e=0;e<this.pedidos.length;e++){var a;(a=[]).push("Mayorizada"==this.pedidos[e].ESTADO?{id:17,name:"Completado",color:"blue-700"}:{id:16,name:"Pendiente",color:"red-500"}),o.push({id:e+1,reference:this.pedidos[e].PEDIDO,total:this.pedidos[e].TOT_PEDIDO,date:this.pedidos[e].FEC_PEDIDO,codigo:this.pedidos[e].COD_PEDIDO,factura:this.pedidos[e].FACTURA,aprobada:this.pedidos[e].FEC_APROBA,cliente:"0",email_cli:"",tel:"",customer:{id:e,name:this.pedidos[e].CLI_NOMBRE,email:t.mail_emp,phone:"",invoiceAddress:{address:this.pedidos[e].OBSERVACION}},status:a})}this.orders=o.reverse(),this.onOrdersChanged.next(this.orders),i(e)}else this.orders=[],this.onOrdersChanged.next(this.orders),i(e)},o)})}}return e.\u0275fac=function(t){return new(t||e)(g.dc(R.b),g.dc(z.a),g.dc(M.a))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac}),e})();var B=i("XiUz"),Q=i("EwFO"),j=i("MMsv"),$=i("znSr");const q=["filter"];function W(e,t){1&e&&(g.Zb(0,"mat-header-cell",34),g.Oc(1,"Nro."),g.Yb())}function X(e,t){if(1&e&&(g.Zb(0,"mat-cell"),g.Zb(1,"p"),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Pc(e.id)}}function G(e,t){1&e&&(g.Zb(0,"mat-header-cell",35),g.Oc(1,"Nombre"),g.Yb())}function K(e,t){if(1&e&&(g.Zb(0,"mat-cell",36),g.Zb(1,"p",37),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",e.customer.name," ")}}function V(e,t){1&e&&(g.Zb(0,"mat-header-cell",38),g.Oc(1,"Nro. Pedido"),g.Yb())}function J(e,t){if(1&e&&(g.Zb(0,"mat-cell",39),g.Zb(1,"p"),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Pc(e.reference)}}function ee(e,t){1&e&&(g.Zb(0,"mat-header-cell",40),g.Oc(1,"Total"),g.Yb())}function te(e,t){if(1&e&&(g.Zb(0,"mat-cell",41),g.Zb(1,"p",42),g.Oc(2),g.mc(3,"currency"),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",g.pc(3,1,e.total,"USD","symbol")," ")}}function ie(e,t){1&e&&(g.Zb(0,"mat-header-cell",43),g.Oc(1,"Proceso"),g.Yb())}function oe(e,t){if(1&e&&(g.Zb(0,"mat-cell",44),g.Zb(1,"p",45),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(1),g.sc("ngClass",e.status[0].color),g.Fb(1),g.Qc(" ",e.status[0].name," ")}}function ae(e,t){1&e&&(g.Zb(0,"mat-header-cell",46),g.Oc(1,"Fecha"),g.Yb())}function ne(e,t){if(1&e&&(g.Zb(0,"mat-cell",47),g.Zb(1,"p"),g.Oc(2),g.mc(3,"date"),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",g.oc(3,1,e.date,"medium")," ")}}function ce(e,t){1&e&&g.Ub(0,"mat-header-row")}function re(e,t){if(1&e&&g.Ub(0,"mat-row",48),2&e){const e=t.$implicit;g.sc("routerLink","/apps/e-commerce/orders/"+e.codigo+"/"+e.cliente+"-"+e.tel+"-"+e.email_cli)}}const de=function(){return{x:"50px"}},se=function(e){return{value:"*",params:e}},be=function(){return{y:"100%"}},le=function(){return{value:"50"}},pe=function(){return[5,10,25,100]};let me=(()=>{class e{constructor(e,t){this._ecommerceOrdersService=e,this._authService=t,this.displayedColumns=["id","customer","reference","date","status","total"],this._unsubscribeAll=new w.a}ngOnInit(){this.dataSource=new he(this._ecommerceOrdersService,this.paginator,this.sort)}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(H),g.Tb(M.a))},e.\u0275cmp=g.Nb({type:e,selectors:[["e-commerce-orders"]],viewQuery:function(e,t){var i;1&e&&(g.Kc(l.a,!0),g.Kc(q,!0),g.Kc(h.a,!0)),2&e&&(g.zc(i=g.ic())&&(t.paginator=i.first),g.zc(i=g.ic())&&(t.filter=i.first),g.zc(i=g.ic())&&(t.sort=i.first))},decls:35,vars:18,consts:[["id","dashboard-pedidos","fxLayout","row",1,"page-layout","simple","right-sidebar"],["fusePerfectScrollbar","",1,"center"],["fxLayout","column","fxLayoutAlign","space-between",1,"header","p-24","pb-0",2,"background-color","#5d9ed1","color","#ffffff","border","none"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"mat-display-1","my-0","my-sm-24","welcome-message"],[1,"content"],["dynamicHeight",""],["label","Pedidos"],["fxLayout","row","fxFlex","100",1,"widget"],[1,"content-card",2,"width","100%","padding","0 2%"],["matSort","","fusePerfectScrollbar","",1,"orders-table",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","customer"],["mat-sort-header","","style","min-width: 220px;",4,"matHeaderCellDef"],["style","min-width: 220px;",4,"matCellDef"],["matColumnDef","reference"],["mat-sort-header","","fxHide","","fxShow.gt-sm","","style","min-width: 250px;",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","","style","min-width: 250px;",4,"matCellDef"],["matColumnDef","total"],["mat-sort-header","","fxHide","","fxShow.gt-md","","style","min-width: 150px;",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","","style","min-width: 150px;",4,"matCellDef"],["matColumnDef","status"],["mat-sort-header","","style","min-width: 150px;",4,"matHeaderCellDef"],["style","min-width: 150px;",4,"matCellDef"],["matColumnDef","date"],["mat-sort-header","","fxHide","","fxShow.gt-sm","","style","min-width: 200px;",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","","style","min-width: 200px;",4,"matCellDef"],[4,"matHeaderRowDef"],["class","order","matRipple","",3,"routerLink",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],["mat-sort-header","",2,"min-width","220px"],[2,"min-width","220px"],[1,""],["mat-sort-header","","fxHide","","fxShow.gt-sm","",2,"min-width","250px"],["fxHide","","fxShow.gt-sm","",2,"min-width","250px"],["mat-sort-header","","fxHide","","fxShow.gt-md","",2,"min-width","150px"],["fxHide","","fxShow.gt-md","",2,"min-width","150px"],[1,"total-price"],["mat-sort-header","",2,"min-width","150px"],[2,"min-width","150px"],[1,"status","h6","p-4",3,"ngClass"],["mat-sort-header","","fxHide","","fxShow.gt-sm","",2,"min-width","200px"],["fxHide","","fxShow.gt-sm","",2,"min-width","200px"],["matRipple","",1,"order",3,"routerLink"]],template:function(e,t){1&e&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"div",2),g.Zb(3,"div",3),g.Zb(4,"span",4),g.Oc(5,"Pedidos "),g.Yb(),g.Yb(),g.Yb(),g.Zb(6,"div",5),g.Zb(7,"mat-tab-group",6),g.Zb(8,"mat-tab",7),g.Zb(9,"fuse-widget",8),g.Zb(10,"div",9),g.Zb(11,"mat-table",10,11),g.Xb(13,12),g.Mc(14,W,2,0,"mat-header-cell",13),g.Mc(15,X,3,1,"mat-cell",14),g.Wb(),g.Xb(16,15),g.Mc(17,G,2,0,"mat-header-cell",16),g.Mc(18,K,3,1,"mat-cell",17),g.Wb(),g.Xb(19,18),g.Mc(20,V,2,0,"mat-header-cell",19),g.Mc(21,J,3,1,"mat-cell",20),g.Wb(),g.Xb(22,21),g.Mc(23,ee,2,0,"mat-header-cell",22),g.Mc(24,te,4,5,"mat-cell",23),g.Wb(),g.Xb(25,24),g.Mc(26,ie,2,0,"mat-header-cell",25),g.Mc(27,oe,3,2,"mat-cell",26),g.Wb(),g.Xb(28,27),g.Mc(29,ae,2,0,"mat-header-cell",28),g.Mc(30,ne,4,4,"mat-cell",29),g.Wb(),g.Mc(31,ce,1,0,"mat-header-row",30),g.Mc(32,re,1,1,"mat-row",31),g.Yb(),g.Ub(33,"mat-paginator",32,33),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&e&&(g.Fb(4),g.sc("@animate",g.vc(11,se,g.uc(10,de))),g.Fb(5),g.sc("@animate",g.vc(14,se,g.uc(13,be))),g.Fb(2),g.sc("dataSource",t.dataSource)("@animateStagger",g.uc(16,le)),g.Fb(20),g.sc("matHeaderRowDef",t.displayedColumns),g.Fb(1),g.sc("matRowDefColumns",t.displayedColumns),g.Fb(1),g.sc("length",t.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",g.uc(17,pe)))},directives:[B.c,Q.a,B.b,f.b,f.a,j.a,B.a,u.j,h.a,u.c,u.e,u.b,u.g,u.i,l.a,u.d,h.b,u.a,$.b,Z.q,$.a,u.f,u.h,c.t,o.g],pipes:[Z.d,Z.f],styles:["@media screen and (max-width:599px){e-commerce-orders #orders .top-bg{height:224px}}e-commerce-orders #orders>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media screen and (max-width:599px){e-commerce-orders #orders>.center>.header .search-wrapper{width:100%}}e-commerce-orders #orders>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}e-commerce-orders #orders>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width:599px){e-commerce-orders #orders>.center>.header{padding:8px 0;height:160px!important;min-height:160px!important;max-height:160px!important}}e-commerce-orders .mat-tab-body-wrapper,e-commerce-orders .mat-tab-group,e-commerce-orders .tab-content{flex:1 1 auto;max-width:100%}e-commerce-orders .orders-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}e-commerce-orders .orders-table .mat-header-row{min-height:64px}e-commerce-orders .orders-table .order{position:relative;cursor:pointer;height:84px}e-commerce-orders .orders-table .mat-cell{min-width:0;display:flex;align-items:center}e-commerce-orders .orders-table .mat-column-id,e-commerce-orders .orders-table .mat-column-image{flex:0 1 84px}e-commerce-orders .orders-table .mat-column-image .product-image{width:52px;height:52px;border:1px solid rgba(0,0,0,.12)}e-commerce-orders .orders-table .mat-column-buttons{flex:0 1 80px}e-commerce-orders .orders-table .quantity-indicator{display:inline-block;vertical-align:middle;width:8px;height:8px;border-radius:4px;margin-right:8px}e-commerce-orders .orders-table .quantity-indicator+span{display:inline-block;vertical-align:middle}e-commerce-orders .orders-table .active-icon{border-radius:50%}#dashboard-pedidos>.sidebar{width:280px;min-width:280px;max-width:280px}#dashboard-pedidos>.center>.header{height:160px;min-height:160px;max-height:160px}#dashboard-pedidos>.center>.header .selected-pedidos{background:rgba(0,0,0,.12);color:#fff;padding:8px 16px;height:40px;line-height:24px;font-size:16px;border-radius:8px 0 0 0}#dashboard-pedidos>.center>.header .pedidos-selector{margin-left:1px;background:rgba(0,0,0,.12);border-radius:0 8px 0 0}#dashboard-pedidos>.center>.header .pedidos-selector mat-icon{color:#fff}#dashboard-pedidos>.center>.content{flex:1}#dashboard-pedidos>.center>.content mat-tab-group{height:100%}#dashboard-pedidos>.center>.content mat-tab-group .mat-tab-body-wrapper{flex-grow:1}#dashboard-pedidos>.center>.content .mat-tab-label-container{padding:0 24px}#dashboard-pedidos .widget.widget5 .gridline-path.gridline-path-horizontal{display:none}.mat-cell,.mat-footer-cell,.mat-header-cell{padding:20px}"],encapsulation:2,data:{animation:N.a}}),e})();class he extends k.b{constructor(e,t,i){super(),this._ecommerceOrdersService=e,this._matPaginator=t,this._matSort=i,this._filterChange=new x.a(""),this._filteredDataChange=new x.a(""),this.filteredData=this._ecommerceOrdersService.orders}get filteredData(){return this._filteredDataChange.value}set filteredData(e){this._filteredDataChange.next(e)}get filter(){return this._filterChange.value}set filter(e){this._filterChange.next(e)}connect(){const e=[this._ecommerceOrdersService.onOrdersChanged,this._matPaginator.page,this._filterChange,this._matSort.sortChange];return Object(_.a)(...e).pipe(Object(O.a)(()=>{let e=this._ecommerceOrdersService.orders.slice();return e=this.filterData(e),this.filteredData=[...e],e=this.sortData(e),e.splice(this._matPaginator.pageIndex*this._matPaginator.pageSize,this._matPaginator.pageSize)}))}filterData(e){return this.filter?U.a.filterArrayByString(e,this.filter):e}sortData(e){return this._matSort.active&&""!==this._matSort.direction?e.sort((e,t)=>{let i="",o="";switch(this._matSort.active){case"id":[i,o]=[e.id,t.id];break;case"reference":[i,o]=[e.reference,t.reference];break;case"customer":[i,o]=[e.customer.firstName,t.customer.firstName];break;case"total":[i,o]=[e.total,t.total];break;case"status":[i,o]=[e.status[0].name,t.status[0].name];break;case"date":[i,o]=[e.date,t.date]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._matSort.direction?1:-1)}):e}disconnect(){}}const ue=[{id:1,name:"Awaiting check payment",color:"blue-500"},{id:2,name:"Payment accepted",color:"green-500"},{id:3,name:"Preparing the order",color:"orange-500"},{id:4,name:"Shipped",color:"purple-500"},{id:5,name:"Delivered",color:"green-800"},{id:6,name:"Canceled",color:"pink-500"},{id:7,name:"Refunded",color:"red-500"},{id:8,name:"Payment error",color:"red-900"},{id:9,name:"On pre-order (paid)",color:"purple-300"},{id:10,name:"Awaiting bank wire payment",color:"blue-500"},{id:11,name:"Awaiting PayPal payment",color:"blue-500"},{id:12,name:"Remote payment accepted",color:"green-500"},{id:13,name:"On pre-order (not paid)",color:"purple-300"},{id:14,name:"Awaiting Cash-on-delivery payment",color:"blue-500"},{id:15,name:"Mayorizado",color:"blue-500"}];class fe{constructor(e){this.id=(e=e||{}).id||U.a.generateGUID(),this.reference=e.reference||U.a.generateGUID(),this.subtotal=e.subtotal||0,this.tax=e.tax||0,this.discount=e.discount||0,this.total=e.total||0,this.date=e.date||"",this.aprobada=e.aprobada||"",this.factura=e.factura||"",this.customer=e.customer||{},this.products=e.products||[],this.status=e.status||[],this.payment=e.payment||{},this.shippingDetails=e.shippingDetails||[]}}var ve=i("k1t7");let ge=(()=>{class e{constructor(e,t,i,o,a){this._httpClient=e,this._dataService=t,this._authService=i,this._fuseProgressBarService=o,this._snackBar=a,this.onOrderChanged=new x.a({})}resolve(e,t){return this.routeParams=e.params,new Promise((e,t)=>{Promise.all([this.getOrder()]).then(t=>{e(t)},t)})}getOrder(){let e=this._authService.getCurrentUser();var t=this.routeParams.ref.split("-"),i="https://andinalicores.com.ec/wp-json/custom-plugin/pedido/"+this.routeParams.id+"?ID="+e.ID;return new Promise((o,a)=>{this._httpClient.get(i).subscribe(i=>{this.pedido=i;var a=new Array;if(this.pedido.length>0){for(let e=0;e<this.pedido.length;e++)a.push({id:e+1,name:this.pedido[e].PRO_PEDIDO,price:this.pedido[e].PED_NETO/this.pedido[e].CANT_PEDIDO,quantity:this.pedido[e].CANT_PEDIDO,total:this.pedido[e].PED_NETO,image:this.pedido[e].CODE});var n="",c="";"vendedor_al"==e.roles?(n=t[2],c=t[1]):(n=e.mail_emp,c=this._dataService.dataUser._cli_telefono1);var r={reference:this.pedido[0].PEDIDO,subtotal:this.pedido[0].TOT_FACTURA-.12*this.pedido[0].TOT_FACTURA,tax:.12*this.pedido[0].TOT_FACTURA,total:this.pedido[0].TOT_FACTURA,date:this.pedido[0].FEC_PEDIDO,factura:this.pedido[0].FACTURA,aprobada:this.pedido[0].FEC_APROBA,customer:{id:1,name:this.pedido[0].CLIENTE,email:n,phone:c},payment:{transactionId:"2a894b9e",amount:this.pedido[0].TOT_FACTURA,method:"Pago Directo",date:this.pedido[0].FEC_PEDIDO},shippingDetails:[{tracking:"",carrier:"TNT",weight:"10.44",fee:"7.00",date:"2018/04/10 07:03:52"}]},d=[];d.push("Facturado"==this.pedido[0].ENTREGA?{id:17,name:"Completado",color:"blue-700",date:this.pedido[0].FEC_PEDIDO}:{id:16,name:"Pendiente",color:"red-500",date:this.pedido[0].FEC_PEDIDO})}this.pedido.length>0?(r.products=a,r.status=d,this.order=r,o(r)):(this._fuseProgressBarService.hide(),this.openSnackBar("No se encontraron datos para este pedido","Warning!")),this.onOrderChanged.next(this.order)},a)})}openSnackBar(e,t){this._snackBar.open(e,t,{duration:5e3})}saveOrder(e){return new Promise((t,i)=>{this._httpClient.post("api/e-commerce-orders/"+e.id,e).subscribe(e=>{t(e)},i)})}addOrder(e){return new Promise((t,i)=>{this._httpClient.post("api/e-commerce-orders/",e).subscribe(e=>{t(e)},i)})}}return e.\u0275fac=function(t){return new(t||e)(g.dc(R.b),g.dc(z.a),g.dc(M.a),g.dc(ve.a),g.dc(m.a))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac}),e})();var xe=i("3Pt+"),we=i("h2q7");let Oe=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._fuseMediaMatchService=t,this._renderer=i,this._unsubscribeAll=new w.a}ngOnInit(){this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(e=>{"xs"===e?this._removeClass():this._addClass()}))}ngOnDestroy(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}_addClass(){this._renderer.addClass(this._grandParent,"inner-scroll")}_removeClass(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(g.l),g.Tb(we.a),g.Tb(g.H))},e.\u0275dir=g.Ob({type:e,selectors:[["",8,"inner-scroll"]]}),e})();function _e(e,t){if(1&e&&(g.Zb(0,"tr"),g.Zb(1,"td"),g.Zb(2,"span",51),g.Oc(3),g.Yb(),g.Yb(),g.Zb(4,"td"),g.Zb(5,"span"),g.Oc(6),g.mc(7,"date"),g.Yb(),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.sc("ngClass",e.color),g.Fb(1),g.Qc(" ",e.name," "),g.Fb(3),g.Qc(" ",g.oc(7,3,e.date,"medium")," ")}}function ye(e,t){if(1&e&&(g.Zb(0,"tr",52),g.Zb(1,"td"),g.Oc(2),g.Yb(),g.Zb(3,"td"),g.Ub(4,"img",53),g.Yb(),g.Zb(5,"td"),g.Oc(6),g.Yb(),g.Zb(7,"td"),g.Oc(8),g.mc(9,"currency"),g.Yb(),g.Zb(10,"td"),g.Oc(11),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",e.id," "),g.Fb(2),g.sc("src",e.image,g.Gc),g.Fb(2),g.Qc(" ",e.name," "),g.Fb(2),g.Qc(" ",g.pc(9,5,e.price,"USD","symbol")," "),g.Fb(3),g.Qc(" ",e.quantity," ")}}function Ze(e,t){if(1&e&&(g.Zb(0,"tr"),g.Zb(1,"td"),g.Zb(2,"div",40),g.Oc(3),g.Yb(),g.Yb(),g.Zb(4,"td",46),g.Oc(5),g.mc(6,"currency"),g.Yb(),g.Zb(7,"td",46),g.Oc(8),g.Yb(),g.Zb(9,"td",46),g.Oc(10),g.mc(11,"currency"),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(3),g.Qc(" ",e.name," "),g.Fb(2),g.Qc(" ",g.pc(6,4,e.price,"USD","symbol")," "),g.Fb(3),g.Qc(" ",e.quantity," "),g.Fb(2),g.Qc(" ",g.pc(11,8,e.total,"USD","symbol")," ")}}const Ye=function(){return{delay:"100ms",x:"-25px"}},Ce=function(e){return{value:"*",params:e}};let De=(()=>{class e{constructor(e,t,i){this._ecommerceOrderService=e,this._formBuilder=t,this._authService=i,this.order=new fe,this.orderStatuses=ue,this._unsubscribeAll=new w.a}ngOnInit(){this._authService.loadUserData(),this._ecommerceOrderService.onOrderChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(e=>{this.order=new fe(e)}),this.statusForm=this._formBuilder.group({newStatus:[""]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(ge),g.Tb(xe.c),g.Tb(M.a))},e.\u0275cmp=g.Nb({type:e,selectors:[["e-commerce-order"]],decls:161,vars:45,consts:[["id","order",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg",2,"background-color","#5d9ed1","color","#ffffff","border","none"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","p-24","pb-0",2,"background-color","#5d9ed1","color","#ffffff","border","none"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],[1,"h2"],[1,"content-card"],[1,"content"],["fxLayout","column","fxFlex",""],["label","Detalles del Pedido"],["fusePerfectScrollbar","",1,"order-details","tab-content","p-24"],[1,"section","pb-48"],["fxLayout","row","fxLayoutAlign","start center",1,"pb-16"],[1,"h2","secondary-text"],[1,"customer","mb-32"],[1,"simple"],[1,"name"],[1,"email"],[1,"phone"],[4,"ngFor","ngForOf"],[1,""],["label","Productos"],["fusePerfectScrollbar","",1,"products","tab-content","p-24"],[1,"w-80"],[1,"w-120"],["class","product-row",4,"ngFor","ngForOf"],["label","Factura"],["fusePerfectScrollbar","",1,"invoice","tab-content","p-24"],["id","invoice","fxLayout","row","fxLayoutAlign","center start","fusePerfectScrollbar","",1,"compact","page-layout","blank"],[1,"invoice-container"],[1,"card"],[1,"header"],[1,"invoice-date"],["fxLayout","row","fxLayoutAlign","space-between stretch"],[1,"client"],["fxLayout","row","fxLayoutAlign","start center",1,"invoice-number"],[1,"number"],[1,"info"],[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"issuer","accent"],[1,"logo"],["src","assets/images/logos/logo_g.png"],[1,"address"],[1,"simple","invoice-table"],[1,"text-right"],[1,"simple","invoice-table-footer"],[1,"subtotal"],[1,"tax"],[1,"total"],[1,"status","h6","p-4",3,"ngClass"],[1,"product-row"],[1,"product-image",3,"src"]],template:function(e,t){1&e&&(g.Zb(0,"div",0),g.Ub(1,"div",1),g.Zb(2,"div",2),g.Zb(3,"div",3),g.Zb(4,"div",4),g.Zb(5,"button",5),g.Zb(6,"mat-icon"),g.Oc(7,"arrow_back"),g.Yb(),g.Yb(),g.Zb(8,"div",6),g.Zb(9,"div",7),g.Oc(10),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(11,"div",8),g.Zb(12,"div",9),g.Zb(13,"mat-tab-group",10),g.Zb(14,"mat-tab",11),g.Zb(15,"div",12),g.Zb(16,"div",13),g.Zb(17,"div",14),g.Zb(18,"div",15),g.Oc(19,"Cliente"),g.Yb(),g.Yb(),g.Zb(20,"div",16),g.Zb(21,"table",17),g.Zb(22,"thead"),g.Zb(23,"tr"),g.Zb(24,"th"),g.Oc(25,"Nombre"),g.Yb(),g.Zb(26,"th"),g.Oc(27,"Email"),g.Yb(),g.Zb(28,"th"),g.Oc(29,"Tel\xe9fono"),g.Yb(),g.Yb(),g.Yb(),g.Zb(30,"tbody"),g.Zb(31,"tr"),g.Zb(32,"td"),g.Zb(33,"div",4),g.Zb(34,"span",18),g.Oc(35),g.Yb(),g.Yb(),g.Yb(),g.Zb(36,"td"),g.Zb(37,"span",19),g.Oc(38),g.Yb(),g.Yb(),g.Zb(39,"td"),g.Zb(40,"span",20),g.Oc(41),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(42,"div",13),g.Zb(43,"div",14),g.Zb(44,"div",15),g.Oc(45,"Estado del Pedido"),g.Yb(),g.Yb(),g.Zb(46,"table",17),g.Zb(47,"thead"),g.Zb(48,"tr"),g.Zb(49,"th"),g.Oc(50,"Estado"),g.Yb(),g.Zb(51,"th"),g.Oc(52,"Fecha"),g.Yb(),g.Yb(),g.Yb(),g.Zb(53,"tbody"),g.Mc(54,_e,8,6,"tr",21),g.Yb(),g.Yb(),g.Yb(),g.Zb(55,"div",13),g.Zb(56,"div",14),g.Zb(57,"div",15),g.Oc(58,"M\xe9todo de pago"),g.Yb(),g.Yb(),g.Zb(59,"table",17),g.Zb(60,"thead"),g.Zb(61,"tr"),g.Zb(62,"th"),g.Oc(63,"Nro. Transacci\xf3n"),g.Yb(),g.Zb(64,"th"),g.Oc(65,"Forma de pago"),g.Yb(),g.Zb(66,"th"),g.Oc(67,"Monto"),g.Yb(),g.Zb(68,"th"),g.Oc(69,"Fecha"),g.Yb(),g.Yb(),g.Yb(),g.Zb(70,"tbody"),g.Zb(71,"tr"),g.Zb(72,"td"),g.Zb(73,"span",22),g.Oc(74),g.Yb(),g.Yb(),g.Zb(75,"td"),g.Zb(76,"span",22),g.Oc(77),g.Yb(),g.Yb(),g.Zb(78,"td"),g.Zb(79,"span",22),g.Oc(80),g.mc(81,"currency"),g.Yb(),g.Yb(),g.Zb(82,"td"),g.Zb(83,"span",22),g.Oc(84),g.mc(85,"date"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(86,"mat-tab",23),g.Zb(87,"div",24),g.Zb(88,"table",17),g.Zb(89,"thead"),g.Zb(90,"tr"),g.Zb(91,"th",25),g.Oc(92,"C\xf3digo"),g.Yb(),g.Ub(93,"th",26),g.Zb(94,"th"),g.Oc(95,"Nombre"),g.Yb(),g.Zb(96,"th",26),g.Oc(97,"Precio"),g.Yb(),g.Zb(98,"th",25),g.Oc(99,"Cantidad"),g.Yb(),g.Yb(),g.Yb(),g.Zb(100,"tbody"),g.Mc(101,ye,12,9,"tr",27),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(102,"mat-tab",28),g.Zb(103,"div",29),g.Zb(104,"div",30),g.Zb(105,"div",31),g.Zb(106,"div",32),g.Zb(107,"div",33),g.Zb(108,"div",34),g.Oc(109),g.mc(110,"date"),g.Yb(),g.Zb(111,"div",35),g.Zb(112,"div",36),g.Zb(113,"div",37),g.Zb(114,"span",38),g.Oc(115),g.Yb(),g.Yb(),g.Zb(116,"div",39),g.Zb(117,"div",40),g.Oc(118),g.Yb(),g.Zb(119,"div",19),g.Oc(120),g.Yb(),g.Yb(),g.Yb(),g.Zb(121,"div",41),g.Zb(122,"div",42),g.Ub(123,"img",43),g.Yb(),g.Zb(124,"div",39),g.Ub(125,"div",40),g.Ub(126,"div",44),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(127,"div",9),g.Zb(128,"table",45),g.Zb(129,"thead"),g.Zb(130,"tr"),g.Zb(131,"th"),g.Oc(132,"PRODUCTO"),g.Yb(),g.Zb(133,"th",46),g.Oc(134,"PRECIO"),g.Yb(),g.Zb(135,"th",46),g.Oc(136,"CANTIDAD"),g.Yb(),g.Zb(137,"th",46),g.Oc(138,"TOTAL"),g.Yb(),g.Yb(),g.Yb(),g.Zb(139,"tbody"),g.Mc(140,Ze,12,12,"tr",21),g.Yb(),g.Yb(),g.Zb(141,"table",47),g.Zb(142,"tbody"),g.Zb(143,"tr",48),g.Zb(144,"td"),g.Oc(145,"SUBTOTAL"),g.Yb(),g.Zb(146,"td"),g.Oc(147),g.mc(148,"currency"),g.Yb(),g.Yb(),g.Zb(149,"tr",49),g.Zb(150,"td"),g.Oc(151,"IVA"),g.Yb(),g.Zb(152,"td"),g.Oc(153),g.mc(154,"currency"),g.Yb(),g.Yb(),g.Zb(155,"tr",50),g.Zb(156,"td"),g.Oc(157,"TOTAL"),g.Yb(),g.Zb(158,"td"),g.Oc(159),g.mc(160,"currency"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&e&&(g.Fb(5),g.sc("routerLink","/apps/e-commerce/orders"),g.Fb(3),g.sc("@animate",g.vc(43,Ce,g.uc(42,Ye))),g.Fb(2),g.Qc(" ",t.order.reference," "),g.Fb(25),g.Qc("",t.order.customer.name," "),g.Fb(3),g.Pc(t.order.customer.email),g.Fb(3),g.Pc(t.order.customer.phone),g.Fb(13),g.sc("ngForOf",t.order.status),g.Fb(20),g.Qc(" ",t.order.payment.transactionId," "),g.Fb(3),g.Qc(" ",t.order.payment.method," "),g.Fb(3),g.Qc(" ",g.pc(81,20,t.order.payment.amount,"USD","symbol")," "),g.Fb(4),g.Qc(" ",g.oc(85,24,t.order.payment.date,"medium")," "),g.Fb(17),g.sc("ngForOf",t.order.products),g.Fb(8),g.Qc(" ",g.oc(110,27,t.order.aprobada,"medium"),""),g.Fb(6),g.Pc(t.order.factura),g.Fb(3),g.Qc(" ",t.order.customer.name,""),g.Fb(2),g.Qc(" ",t.order.customer.email,""),g.Fb(20),g.sc("ngForOf",t.order.products),g.Fb(7),g.Pc(g.pc(148,30,t.order.subtotal,"USD","symbol")),g.Fb(6),g.Pc(g.pc(154,34,t.order.tax,"USD","symbol")),g.Fb(6),g.Pc(g.pc(160,38,t.order.total,"USD","symbol")))},directives:[Oe,B.c,B.b,a.b,o.g,s.a,f.b,B.a,f.a,Q.a,Z.s,Z.q,$.a],pipes:[Z.d,Z.f],styles:["#order .header .subtitle{margin:6px 0 0}#order .content .mat-tab-body-wrapper,#order .content .mat-tab-group,#order .content .tab-content{flex:1 1 auto;max-width:100%}#order .content .tab-content.products .product-row{cursor:pointer}#order .content .tab-content.invoice #invoice.compact{padding:0;overflow:auto;-webkit-overflow-scrolling:touch}#order .content .tab-content.invoice #invoice.compact .invoice-container{padding:16px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card{width:1020px;min-width:1020px;max-width:1020px;padding:64px 88px;overflow:hidden;background:#fff;color:rgba(0,0,0,.87);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .invoice-date{font-size:14px;color:rgba(0,0,0,.54);margin-bottom:32px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .invoice-number{font-size:18px;padding-bottom:2px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .invoice-number .title{color:rgba(0,0,0,.54)}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .invoice-number .number{padding-left:6px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .due-date{font-size:18px;padding-bottom:16px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .due-date .title{color:rgba(0,0,0,.54)}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .due-date .date{padding-left:6px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .info{color:rgba(0,0,0,.54);line-height:22px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer{margin-right:-88px;padding-right:66px;width:60%}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer .logo{width:120px;padding:12px 8px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer .info{padding:16px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table{margin-top:64px;font-size:15px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:first-child{padding-left:8px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:last-child{padding-right:8px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td{border-color:rgba(0,0,0,.12)}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:first-child{padding-left:8px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:last-child{padding-right:8px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .title{font-size:16px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .detail{margin-top:8px;font-size:12px;color:rgba(0,0,0,.54);max-width:360px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer{margin:32px 0 72px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td{text-align:right;font-size:16px;font-weight:600;color:rgba(0,0,0,.54);border-bottom:none;padding:4px 8px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td:first-child{text-align:left}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.discount td{padding-bottom:32px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td{padding:24px 8px;border-top:1px solid rgba(0,0,0,.12);font-size:35px;font-weight:300;color:#000}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .note{font-size:15px;font-weight:600;margin-bottom:24px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .logo{width:32px;min-width:32px;margin-right:24px}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .small-note{font-size:12px;font-weight:600;color:rgba(0,0,0,.54);line-height:18px}@media print{#order .content .tab-content.invoice #invoice.compact .invoice-container{padding:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card{width:100%;min-width:0;background:none;padding:0;box-shadow:none}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .invoice-date{margin-bottom:16pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer{padding-right:0;margin-right:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table{margin-top:16pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th{font-size:10pt;max-width:60pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:first-child{padding-left:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:last-child{padding-right:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:first-child{padding-left:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:last-child{padding-right:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .title{font-size:10pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .detail{margin-top:4pt;font-size:9pt;max-width:none}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer{margin:16pt 0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td{font-size:13pt;padding:4pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td:first-child{text-align:left;padding-left:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td:last-child{padding-right:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.discount td{padding-bottom:16pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td{padding:16pt 4pt 0;font-size:16pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td:first-child{padding-left:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td:last-child{padding-right:0}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .note{font-size:10pt;margin-bottom:8pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .logo{margin-right:8pt}#order .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .small-note{font-size:8pt;line-height:normal}}#order .content .mat-tab-body-content{display:flex}#order .content .mat-tab-label{height:64px}#order .content table{table-layout:fixed}"],encapsulation:2,data:{animation:N.a}}),e})();class Se{constructor(e){this.id=(e=e||{}).id||U.a.generateGUID(),this.reference=e.reference||U.a.generateGUID(),this.subtotal=e.subtotal||0,this.tax=e.tax||0,this.discount=e.discount||0,this.total=e.total||0,this.date=e.date||"",this.aprobada=e.aprobada||"",this.factura=e.factura||"",this.customer=e.customer||{},this.products=e.products||[],this.status=e.status||[],this.payment=e.payment||{},this.shippingDetails=e.shippingDetails||[]}}let Pe=(()=>{class e{constructor(e,t,i,o,a){this._httpClient=e,this._dataService=t,this._authService=i,this._fuseProgressBarService=o,this._snackBar=a,this.onOrderChanged=new x.a({})}resolve(e,t){return this.routeParams=e.params,new Promise((e,t)=>{Promise.all([this.getOrder()]).then(t=>{e(t)},t)})}getOrder(){var e=this.routeParams.ref.split("-");let t=this._authService.getCurrentUser();var i="https://andinalicores.com.ec/wp-json/custom-plugin/pedido/"+this.routeParams.id+"?ID="+t.ID;return new Promise((o,a)=>{this._httpClient.get(i).subscribe(i=>{this.pedido=i;var a=new Array;if(this.pedido.length>0){for(let e=0;e<this.pedido.length;e++)a.push({id:e+1,name:this.pedido[e].PRO_PEDIDO,price:this.pedido[e].FAC_NETO/this.pedido[e].CANT_FACT,quantity:this.pedido[e].CANT_FACT,total:this.pedido[e].FAC_NETO,image:this.pedido[e].CODE});var n="",c="";"vendedor_al"==t.roles?(n=e[2],c=e[1]):(n=t.mail_emp,c=this._dataService.dataUser._cli_telefono1);var r={reference:this.pedido[0].FACTURA,subtotal:this.pedido[0].TOT_FACTURA-.12*this.pedido[0].TOT_FACTURA,tax:.12*this.pedido[0].TOT_FACTURA,total:this.pedido[0].TOT_FACTURA,date:this.pedido[0].FEC_PEDIDO,factura:this.pedido[0].FACTURA,aprobada:this.pedido[0].FEC_APROBA,customer:{id:1,name:this.pedido[0].CLIENTE,email:n,phone:c},payment:{transactionId:"2a894b9e",amount:this.pedido[0].TOT_FACTURA,method:"Pago Directo",date:this.pedido[0].FEC_PEDIDO},shippingDetails:[{tracking:"",carrier:"TNT",weight:"10.44",fee:"7.00",date:"2018/04/10 07:03:52"}]},d=[];d.push("Facturado"==this.pedido[0].ENTREGA?{id:17,name:"Completado",color:"blue-700",date:this.pedido[0].FEC_PEDIDO}:{id:16,name:"Pendiente",color:"red-500",date:this.pedido[0].FEC_PEDIDO})}this.pedido.length>0?(r.products=a,r.status=d,this.order=r,o(r)):(this._fuseProgressBarService.hide(),this.openSnackBar("No se encontraron datos para esta factura","Warning!")),this.onOrderChanged.next(this.order)},a)})}openSnackBar(e,t){this._snackBar.open(e,t,{duration:5e3})}saveOrder(e){return new Promise((t,i)=>{this._httpClient.post("api/e-commerce-orders/"+e.id,e).subscribe(e=>{t(e)},i)})}addOrder(e){return new Promise((t,i)=>{this._httpClient.post("api/e-commerce-orders/",e).subscribe(e=>{t(e)},i)})}}return e.\u0275fac=function(t){return new(t||e)(g.dc(R.b),g.dc(z.a),g.dc(M.a),g.dc(ve.a),g.dc(m.a))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac}),e})();function Fe(e,t){if(1&e&&(g.Zb(0,"tr"),g.Zb(1,"td"),g.Zb(2,"div",21),g.Oc(3),g.Yb(),g.Yb(),g.Zb(4,"td",28),g.Oc(5),g.mc(6,"currency"),g.Yb(),g.Zb(7,"td",28),g.Oc(8),g.Yb(),g.Zb(9,"td",28),g.Oc(10),g.mc(11,"currency"),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(3),g.Qc(" ",e.name," "),g.Fb(2),g.Qc(" ",g.pc(6,4,e.price,"USD","symbol")," "),g.Fb(3),g.Qc(" ",e.quantity," "),g.Fb(2),g.Qc(" ",g.pc(11,8,e.total,"USD","symbol")," ")}}const Ae=function(){return{delay:"100ms",x:"-25px"}},Te=function(e){return{value:"*",params:e}};let Ee=(()=>{class e{constructor(e,t,i){this._ecommerceFacturaService=e,this._formBuilder=t,this._authService=i,this.order=new Se,this.orderStatuses=ue,this._unsubscribeAll=new w.a}ngOnInit(){this._authService.loadUserData(),this._ecommerceFacturaService.onOrderChanged.pipe(Object(y.a)(this._unsubscribeAll)).subscribe(e=>{this.order=new Se(e)}),this.statusForm=this._formBuilder.group({newStatus:[""]})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(Pe),g.Tb(xe.c),g.Tb(M.a))},e.\u0275cmp=g.Nb({type:e,selectors:[["e-commerce-factura"]],decls:71,vars:29,consts:[["id","factura",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg",2,"background-color","#5d9ed1","color","#ffffff","border","none"],[1,"center"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","p-24","pb-0",2,"background-color","#5d9ed1","color","#ffffff","border","none"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","",1,"mr-16",3,"routerLink"],["fxLayout","column","fxLayoutAlign","start start"],[1,"h2"],[1,"content-card"],[1,"content"],["fusePerfectScrollbar","",1,"invoice","tab-content","p-24"],["id","invoice","fxLayout","row","fxLayoutAlign","center start","fusePerfectScrollbar","",1,"compact","page-layout","blank"],[1,"invoice-container"],[1,"card"],[1,"header"],[1,"invoice-date"],["fxLayout","row","fxLayoutAlign","space-between stretch"],[1,"client"],["fxLayout","row","fxLayoutAlign","start center",1,"invoice-number"],[1,"number"],[1,"info"],[1,"title"],[1,"email"],["fxLayout","row","fxLayoutAlign","start center",1,"issuer","accent"],[1,"logo"],["src","assets/images/logos/logo_g.png"],[1,"address"],[1,"simple","invoice-table"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"simple","invoice-table-footer"],[1,"subtotal"],[1,"tax"],[1,"total"]],template:function(e,t){1&e&&(g.Zb(0,"div",0),g.Ub(1,"div",1),g.Zb(2,"div",2),g.Zb(3,"div",3),g.Zb(4,"div",4),g.Zb(5,"button",5),g.Zb(6,"mat-icon"),g.Oc(7,"arrow_back"),g.Yb(),g.Yb(),g.Zb(8,"div",6),g.Zb(9,"div",7),g.Oc(10),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(11,"div",8),g.Zb(12,"div",9),g.Zb(13,"div",10),g.Zb(14,"div",11),g.Zb(15,"div",12),g.Zb(16,"div",13),g.Zb(17,"div",14),g.Zb(18,"div",15),g.Oc(19),g.mc(20,"date"),g.Yb(),g.Zb(21,"div",16),g.Zb(22,"div",17),g.Zb(23,"div",18),g.Zb(24,"span",19),g.Oc(25),g.Yb(),g.Yb(),g.Zb(26,"div",20),g.Zb(27,"div",21),g.Oc(28),g.Yb(),g.Zb(29,"div",22),g.Oc(30),g.Yb(),g.Yb(),g.Yb(),g.Zb(31,"div",23),g.Zb(32,"div",24),g.Ub(33,"img",25),g.Yb(),g.Zb(34,"div",20),g.Ub(35,"div",21),g.Ub(36,"div",26),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Zb(37,"div",9),g.Zb(38,"table",27),g.Zb(39,"thead"),g.Zb(40,"tr"),g.Zb(41,"th"),g.Oc(42,"PRODUCTO"),g.Yb(),g.Zb(43,"th",28),g.Oc(44,"PRECIO"),g.Yb(),g.Zb(45,"th",28),g.Oc(46,"CANTIDAD"),g.Yb(),g.Zb(47,"th",28),g.Oc(48,"TOTAL"),g.Yb(),g.Yb(),g.Yb(),g.Zb(49,"tbody"),g.Mc(50,Fe,12,12,"tr",29),g.Yb(),g.Yb(),g.Zb(51,"table",30),g.Zb(52,"tbody"),g.Zb(53,"tr",31),g.Zb(54,"td"),g.Oc(55,"SUBTOTAL"),g.Yb(),g.Zb(56,"td"),g.Oc(57),g.mc(58,"currency"),g.Yb(),g.Yb(),g.Zb(59,"tr",32),g.Zb(60,"td"),g.Oc(61,"IVA"),g.Yb(),g.Zb(62,"td"),g.Oc(63),g.mc(64,"currency"),g.Yb(),g.Yb(),g.Zb(65,"tr",33),g.Zb(66,"td"),g.Oc(67,"TOTAL"),g.Yb(),g.Zb(68,"td"),g.Oc(69),g.mc(70,"currency"),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&e&&(g.Fb(5),g.sc("routerLink","/apps/e-commerce/invoices"),g.Fb(3),g.sc("@animate",g.vc(27,Te,g.uc(26,Ae))),g.Fb(2),g.Qc(" ",t.order.reference," "),g.Fb(9),g.Pc(g.oc(20,11,t.order.aprobada,"medium")),g.Fb(6),g.Pc(t.order.factura),g.Fb(3),g.Qc(" ",t.order.customer.name,""),g.Fb(2),g.Qc(" ",t.order.customer.email,""),g.Fb(20),g.sc("ngForOf",t.order.products),g.Fb(7),g.Pc(g.pc(58,14,t.order.subtotal,"USD","symbol")),g.Fb(6),g.Pc(g.pc(64,18,t.order.tax,"USD","symbol")),g.Fb(6),g.Pc(g.pc(70,22,t.order.total,"USD","symbol")))},directives:[Oe,B.c,B.b,a.b,o.g,s.a,Q.a,Z.s],pipes:[Z.f,Z.d],styles:["#factura .header .subtitle{margin:6px 0 0}#factura .content .mat-tab-body-wrapper,#factura .content .mat-tab-group,#factura .content .tab-content{flex:1 1 auto;max-width:100%}#factura .content .tab-content.products .product-row{cursor:pointer}#factura .content .tab-content.invoice #invoice.compact{padding:0;overflow:auto;-webkit-overflow-scrolling:touch}#factura .content .tab-content.invoice #invoice.compact .invoice-container{padding:16px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card{width:1020px;min-width:1020px;max-width:1020px;padding:64px 88px;overflow:hidden;background:#fff;color:rgba(0,0,0,.87);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .invoice-date{font-size:14px;color:rgba(0,0,0,.54);margin-bottom:32px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .invoice-number{font-size:18px;padding-bottom:2px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .invoice-number .title{color:rgba(0,0,0,.54)}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .invoice-number .number{padding-left:6px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .due-date{font-size:18px;padding-bottom:16px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .due-date .title{color:rgba(0,0,0,.54)}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .due-date .date{padding-left:6px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .client .info{color:rgba(0,0,0,.54);line-height:22px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer{margin-right:-88px;padding-right:66px;width:60%}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer .logo{width:120px;padding:12px 8px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer .info{padding:16px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table{margin-top:64px;font-size:15px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:first-child{padding-left:8px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:last-child{padding-right:8px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td{border-color:rgba(0,0,0,.12)}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:first-child{padding-left:8px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:last-child{padding-right:8px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .title{font-size:16px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .detail{margin-top:8px;font-size:12px;color:rgba(0,0,0,.54);max-width:360px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer{margin:32px 0 72px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td{text-align:right;font-size:16px;font-weight:600;color:rgba(0,0,0,.54);border-bottom:none;padding:4px 8px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td:first-child{text-align:left}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.discount td{padding-bottom:32px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td{padding:24px 8px;border-top:1px solid rgba(0,0,0,.12);font-size:35px;font-weight:300;color:#000}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .note{font-size:15px;font-weight:600;margin-bottom:24px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .logo{width:32px;min-width:32px;margin-right:24px}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .small-note{font-size:12px;font-weight:600;color:rgba(0,0,0,.54);line-height:18px}@media print{#factura .content .tab-content.invoice #invoice.compact .invoice-container{padding:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card{width:100%;min-width:0;background:none;padding:0;box-shadow:none}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .invoice-date{margin-bottom:16pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .header .issuer{padding-right:0;margin-right:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table{margin-top:16pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th{font-size:10pt;max-width:60pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:first-child{padding-left:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table thead tr th:last-child{padding-right:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:first-child{padding-left:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table tbody tr td:last-child{padding-right:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .title{font-size:10pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table .detail{margin-top:4pt;font-size:9pt;max-width:none}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer{margin:16pt 0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td{font-size:13pt;padding:4pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td:first-child{text-align:left;padding-left:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr td:last-child{padding-right:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.discount td{padding-bottom:16pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td{padding:16pt 4pt 0;font-size:16pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td:first-child{padding-left:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .content .invoice-table-footer tr.total td:last-child{padding-right:0}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .note{font-size:10pt;margin-bottom:8pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .logo{margin-right:8pt}#factura .content .tab-content.invoice #invoice.compact .invoice-container .card .footer .small-note{font-size:8pt;line-height:normal}}#factura .content .mat-tab-body-content{display:flex}#factura .content .mat-tab-label{height:64px}#factura .content table{table-layout:fixed}"],encapsulation:2,data:{animation:N.a}}),e})(),Ie=(()=>{class e{constructor(e,t,i,o,a){this._httpClient=e,this._dataService=t,this._authService=i,this._fuseProgressBarService=o,this._snackBar=a,this.onOrdersChanged=new x.a({})}resolve(e,t){return new Promise((e,t)=>{Promise.all([this.getOrders()]).then(t=>{e(t)},t)})}getOrders(){let e,t=this._authService.getCurrentUser();return e="vendedor_al"==t.roles?"https://andinalicores.com.ec/wp-json/custom-plugin/vendedor/pedidos/"+t.code:"https://andinalicores.com.ec/wp-json/custom-plugin/pedido/cliente/"+t.code,new Promise((i,o)=>{this._httpClient.get(e).subscribe(e=>{if(this.pedidos=e,this.pedidos.PedFacClientes.length>0){this.pedidos=this.pedidos.PedFacClientes;var o=new Array;if("vendedor_al"==t.roles)for(let e=0;e<this.pedidos.length;e++)(a=[]).push("Mayorizada"==this.pedidos[e].ESTADO?{id:17,name:"Completado",color:"blue-700"}:{id:16,name:"Pendiente",color:"red-500"}),o.push({id:e+1,reference:this.pedidos[e].FACTURA,total:this.pedidos[e].TOT_PEDIDO,date:this.pedidos[e].FEC_PEDIDO,codigo:this.pedidos[e].COD_PEDIDO,factura:this.pedidos[e].FACTURA,aprobada:this.pedidos[e].FEC_APROBA,cliente:this.pedidos[e].CODIGO_CLIENTE,email_cli:this.pedidos[e].CLIENTE_MAIL,tel:this.pedidos[e].CLIENTE_TELEFONO,customer:{id:e,name:this.pedidos[e].CLI_NOMBRE,email:t.mail_emp,phone:"",invoiceAddress:{address:this.pedidos[e].OBSERVACION}},status:a});else for(let e=0;e<this.pedidos.length;e++){var a;(a=[]).push("Mayorizada"==this.pedidos[e].ESTADO?{id:17,name:"Completado",color:"blue-700"}:{id:16,name:"Pendiente",color:"red-500"}),o.push({id:e+1,reference:this.pedidos[e].PEDIDO,total:this.pedidos[e].TOT_PEDIDO,date:this.pedidos[e].FEC_PEDIDO,codigo:this.pedidos[e].COD_PEDIDO,factura:this.pedidos[e].FACTURA,aprobada:this.pedidos[e].FEC_APROBA,cliente:"0",email_cli:"",tel:"",customer:{id:e,name:this.pedidos[e].CLI_NOMBRE,email:t.mail_emp,phone:"",invoiceAddress:{address:this.pedidos[e].OBSERVACION}},status:a})}this.orders=o.reverse(),this.onOrdersChanged.next(this.orders),i(e)}else this.orders=[],this.onOrdersChanged.next(this.orders),i(e)},o)})}openSnackBar(e,t){this._snackBar.open(e,t,{duration:5e3})}}return e.\u0275fac=function(t){return new(t||e)(g.dc(R.b),g.dc(z.a),g.dc(M.a),g.dc(ve.a),g.dc(m.a))},e.\u0275prov=g.Pb({token:e,factory:e.\u0275fac}),e})();const Le=["filter"];function ke(e,t){1&e&&(g.Zb(0,"mat-header-cell",34),g.Oc(1,"Nro."),g.Yb())}function Ne(e,t){if(1&e&&(g.Zb(0,"mat-cell"),g.Zb(1,"p"),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Pc(e.id)}}function Ue(e,t){1&e&&(g.Zb(0,"mat-header-cell",35),g.Oc(1,"Nombre"),g.Yb())}function Re(e,t){if(1&e&&(g.Zb(0,"mat-cell",36),g.Zb(1,"p"),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",e.customer.name," ")}}function ze(e,t){1&e&&(g.Zb(0,"mat-header-cell",37),g.Oc(1,"Nro. Factura"),g.Yb())}function Me(e,t){if(1&e&&(g.Zb(0,"mat-cell",38),g.Zb(1,"p"),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Pc(e.reference)}}function He(e,t){1&e&&(g.Zb(0,"mat-header-cell",39),g.Oc(1,"Total"),g.Yb())}function Be(e,t){if(1&e&&(g.Zb(0,"mat-cell",40),g.Zb(1,"p",41),g.Oc(2),g.mc(3,"currency"),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",g.pc(3,1,e.total,"USD","symbol")," ")}}function Qe(e,t){1&e&&(g.Zb(0,"mat-header-cell",42),g.Oc(1,"Proceso"),g.Yb())}function je(e,t){if(1&e&&(g.Zb(0,"mat-cell",43),g.Zb(1,"p",44),g.Oc(2),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(1),g.sc("ngClass",e.status[0].color),g.Fb(1),g.Qc(" ",e.status[0].name," ")}}function $e(e,t){1&e&&(g.Zb(0,"mat-header-cell",45),g.Oc(1,"Fecha"),g.Yb())}function qe(e,t){if(1&e&&(g.Zb(0,"mat-cell",46),g.Zb(1,"p"),g.Oc(2),g.mc(3,"date"),g.Yb(),g.Yb()),2&e){const e=t.$implicit;g.Fb(2),g.Qc(" ",g.oc(3,1,e.date,"medium")," ")}}function We(e,t){1&e&&g.Ub(0,"mat-header-row")}function Xe(e,t){if(1&e&&g.Ub(0,"mat-row",47),2&e){const e=t.$implicit;g.sc("routerLink","/apps/e-commerce/invoices/"+e.codigo+"/"+e.cliente+"-"+e.tel+"-"+e.email_cli)}}const Ge=function(){return{x:"50px"}},Ke=function(e){return{value:"*",params:e}},Ve=function(){return{y:"100%"}},Je=function(){return{value:"50"}},et=function(){return[5,10,25,100]};let tt=(()=>{class e{constructor(e,t){this._ecommerceFacturasService=e,this._authService=t,this.displayedColumns=["id","customer","reference","date","status","total"],this._unsubscribeAll=new w.a}ngOnInit(){this.dataSource=new it(this._ecommerceFacturasService,this.paginator,this.sort)}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return e.\u0275fac=function(t){return new(t||e)(g.Tb(Ie),g.Tb(M.a))},e.\u0275cmp=g.Nb({type:e,selectors:[["e-commerce-facturas"]],viewQuery:function(e,t){var i;1&e&&(g.Kc(l.a,!0),g.Kc(Le,!0),g.Kc(h.a,!0)),2&e&&(g.zc(i=g.ic())&&(t.paginator=i.first),g.zc(i=g.ic())&&(t.filter=i.first),g.zc(i=g.ic())&&(t.sort=i.first))},decls:35,vars:18,consts:[["id","dashboard-pedidos","fxLayout","row",1,"page-layout","simple","right-sidebar"],["fusePerfectScrollbar","",1,"center"],["fxLayout","column","fxLayoutAlign","space-between",1,"header","p-24","pb-0",2,"background-color","#5d9ed1","color","#ffffff","border","none"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"mat-display-1","my-0","my-sm-24","welcome-message"],[1,"content"],["dynamicHeight",""],["label","Facturas"],["fxLayout","row","fxFlex","100",1,"widget"],[1,"content-card",2,"width","100%","padding","0 2%"],["matSort","","fusePerfectScrollbar","",1,"orders-table",3,"dataSource"],["table",""],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","customer"],["mat-sort-header","","style","min-width: 220px;",4,"matHeaderCellDef"],["style","min-width: 220px;",4,"matCellDef"],["matColumnDef","reference"],["mat-sort-header","","fxHide","","fxShow.gt-sm","","style","min-width: 250px;",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","","style","min-width: 250px;",4,"matCellDef"],["matColumnDef","total"],["mat-sort-header","","fxHide","","fxShow.gt-md","","style","min-width: 150px;",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","","style","min-width: 150px;",4,"matCellDef"],["matColumnDef","status"],["mat-sort-header","","style","min-width: 150px;",4,"matHeaderCellDef"],["style","min-width: 150px;",4,"matCellDef"],["matColumnDef","date"],["mat-sort-header","","fxHide","","fxShow.gt-sm","","style","min-width: 200px;",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","","style","min-width: 200px;",4,"matCellDef"],[4,"matHeaderRowDef"],["class","order","matRipple","",3,"routerLink",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-sort-header",""],["mat-sort-header","",2,"min-width","220px"],[2,"min-width","220px"],["mat-sort-header","","fxHide","","fxShow.gt-sm","",2,"min-width","250px"],["fxHide","","fxShow.gt-sm","",2,"min-width","250px"],["mat-sort-header","","fxHide","","fxShow.gt-md","",2,"min-width","150px"],["fxHide","","fxShow.gt-md","",2,"min-width","150px"],[1,"total-price"],["mat-sort-header","",2,"min-width","150px"],[2,"min-width","150px"],[1,"status","h6","p-4",3,"ngClass"],["mat-sort-header","","fxHide","","fxShow.gt-sm","",2,"min-width","200px"],["fxHide","","fxShow.gt-sm","",2,"min-width","200px"],["matRipple","",1,"order",3,"routerLink"]],template:function(e,t){1&e&&(g.Zb(0,"div",0),g.Zb(1,"div",1),g.Zb(2,"div",2),g.Zb(3,"div",3),g.Zb(4,"span",4),g.Oc(5,"Facturas "),g.Yb(),g.Yb(),g.Yb(),g.Zb(6,"div",5),g.Zb(7,"mat-tab-group",6),g.Zb(8,"mat-tab",7),g.Zb(9,"fuse-widget",8),g.Zb(10,"div",9),g.Zb(11,"mat-table",10,11),g.Xb(13,12),g.Mc(14,ke,2,0,"mat-header-cell",13),g.Mc(15,Ne,3,1,"mat-cell",14),g.Wb(),g.Xb(16,15),g.Mc(17,Ue,2,0,"mat-header-cell",16),g.Mc(18,Re,3,1,"mat-cell",17),g.Wb(),g.Xb(19,18),g.Mc(20,ze,2,0,"mat-header-cell",19),g.Mc(21,Me,3,1,"mat-cell",20),g.Wb(),g.Xb(22,21),g.Mc(23,He,2,0,"mat-header-cell",22),g.Mc(24,Be,4,5,"mat-cell",23),g.Wb(),g.Xb(25,24),g.Mc(26,Qe,2,0,"mat-header-cell",25),g.Mc(27,je,3,2,"mat-cell",26),g.Wb(),g.Xb(28,27),g.Mc(29,$e,2,0,"mat-header-cell",28),g.Mc(30,qe,4,4,"mat-cell",29),g.Wb(),g.Mc(31,We,1,0,"mat-header-row",30),g.Mc(32,Xe,1,1,"mat-row",31),g.Yb(),g.Ub(33,"mat-paginator",32,33),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb(),g.Yb()),2&e&&(g.Fb(4),g.sc("@animate",g.vc(11,Ke,g.uc(10,Ge))),g.Fb(5),g.sc("@animate",g.vc(14,Ke,g.uc(13,Ve))),g.Fb(2),g.sc("dataSource",t.dataSource)("@animateStagger",g.uc(16,Je)),g.Fb(20),g.sc("matHeaderRowDef",t.displayedColumns),g.Fb(1),g.sc("matRowDefColumns",t.displayedColumns),g.Fb(1),g.sc("length",t.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",g.uc(17,et)))},directives:[B.c,Q.a,B.b,f.b,f.a,j.a,B.a,u.j,h.a,u.c,u.e,u.b,u.g,u.i,l.a,u.d,h.b,u.a,$.b,Z.q,$.a,u.f,u.h,c.t,o.g],pipes:[Z.d,Z.f],styles:["@media screen and (max-width:599px){e-commerce-facturas #orders .top-bg{height:224px}}e-commerce-facturas #orders>.center>.header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}@media screen and (max-width:599px){e-commerce-facturas #orders>.center>.header .search-wrapper{width:100%}}e-commerce-facturas #orders>.center>.header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}e-commerce-facturas #orders>.center>.header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}@media screen and (max-width:599px){e-commerce-facturas #orders>.center>.header{padding:8px 0;height:160px!important;min-height:160px!important;max-height:160px!important}}e-commerce-facturas .mat-tab-body-wrapper,e-commerce-facturas .mat-tab-group,e-commerce-facturas .tab-content{flex:1 1 auto;max-width:100%}e-commerce-facturas .orders-table{flex:1 1 auto;border-bottom:1px solid rgba(0,0,0,.12);overflow:auto;-webkit-overflow-scrolling:touch}e-commerce-facturas .orders-table .mat-header-row{min-height:64px;background-color:0}e-commerce-facturas .orders-table .order{position:relative;cursor:pointer;height:84px}e-commerce-facturas .orders-table .mat-cell{min-width:0;display:flex;align-items:center}e-commerce-facturas .orders-table .mat-column-id,e-commerce-facturas .orders-table .mat-column-image{flex:0 1 84px}e-commerce-facturas .orders-table .mat-column-image .product-image{width:52px;height:52px;border:1px solid rgba(0,0,0,.12)}e-commerce-facturas .orders-table .mat-column-buttons{flex:0 1 80px}e-commerce-facturas .orders-table .quantity-indicator{display:inline-block;vertical-align:middle;width:8px;height:8px;border-radius:4px;margin-right:8px}e-commerce-facturas .orders-table .quantity-indicator+span{display:inline-block;vertical-align:middle}e-commerce-facturas .orders-table .active-icon{border-radius:50%}#dashboard-pedidos>.sidebar{width:280px;min-width:280px;max-width:280px}#dashboard-pedidos>.center>.header{height:160px;min-height:160px;max-height:160px}#dashboard-pedidos>.center>.header .selected-pedidos{background:rgba(0,0,0,.12);color:#fff;padding:8px 16px;height:40px;line-height:24px;font-size:16px;border-radius:8px 0 0 0}#dashboard-pedidos>.center>.header .pedidos-selector{margin-left:1px;background:rgba(0,0,0,.12);border-radius:0 8px 0 0}#dashboard-pedidos>.center>.header .pedidos-selector mat-icon{color:#fff}#dashboard-pedidos>.center>.content{flex:1}#dashboard-pedidos>.center>.content mat-tab-group{height:100%}#dashboard-pedidos>.center>.content mat-tab-group .mat-tab-body-wrapper{flex-grow:1}#dashboard-pedidos>.center>.content .mat-tab-label-container{padding:0 24px}#dashboard-pedidos .widget.widget5 .gridline-path.gridline-path-horizontal{display:none}.mat-cell,.mat-footer-cell,.mat-header-cell{padding:20px}"],encapsulation:2,data:{animation:N.a}}),e})();class it extends k.b{constructor(e,t,i){super(),this._ecommerceFacturasService=e,this._matPaginator=t,this._matSort=i,this._filterChange=new x.a(""),this._filteredDataChange=new x.a(""),this.filteredData=this._ecommerceFacturasService.orders}get filteredData(){return this._filteredDataChange.value}set filteredData(e){this._filteredDataChange.next(e)}get filter(){return this._filterChange.value}set filter(e){this._filterChange.next(e)}connect(){const e=[this._ecommerceFacturasService.onOrdersChanged,this._matPaginator.page,this._filterChange,this._matSort.sortChange];return Object(_.a)(...e).pipe(Object(O.a)(()=>{let e=this._ecommerceFacturasService.orders.slice();return e=this.filterData(e),this.filteredData=[...e],e=this.sortData(e),e.splice(this._matPaginator.pageIndex*this._matPaginator.pageSize,this._matPaginator.pageSize)}))}filterData(e){return this.filter?U.a.filterArrayByString(e,this.filter):e}sortData(e){return this._matSort.active&&""!==this._matSort.direction?e.sort((e,t)=>{let i="",o="";switch(this._matSort.active){case"id":[i,o]=[e.id,t.id];break;case"reference":[i,o]=[e.reference,t.reference];break;case"customer":[i,o]=[e.customer.firstName,t.customer.firstName];break;case"total":[i,o]=[e.total,t.total];break;case"status":[i,o]=[e.status[0].name,t.status[0].name];break;case"date":[i,o]=[e.date,t.date]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._matSort.direction?1:-1)}):e}disconnect(){}}const ot=[{path:"invoices",component:tt,resolve:{data:Ie}},{path:"invoices/:id/:ref",component:Ee,resolve:{data:Pe}},{path:"orders",component:me,resolve:{data:H}},{path:"orders/:id/:ref",component:De,resolve:{data:ge}}];let at=(()=>{class e{}return e.\u0275mod=g.Rb({type:e}),e.\u0275inj=g.Qb({factory:function(t){return new(t||e)},providers:[Ie,Pe,H,ge],imports:[[o.j.forChild(ot),a.c,n.a,r.a,d.d,s.b,b.c,l.b,c.u,p.b,h.c,m.b,u.l,f.c,v.a,E.forRoot({apiKey:"AIzaSyD81ecsCj4yYpcXSLFcYU97PvRsE_X8Bx8"}),I.a,L.a]]}),e})()}}]);
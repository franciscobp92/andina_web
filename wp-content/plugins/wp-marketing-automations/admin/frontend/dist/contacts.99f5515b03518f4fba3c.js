(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{760:function(e,t,n){"use strict";var a=n(219),r=n(0),c=n(2);t.a=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},s=bwfcrm_contacts_data&&bwfcrm_contacts_data.contacts_count?parseInt(bwfcrm_contacts_data.contacts_count):0,l=Object(a.a)(),u=l.setActiveMultiple,m=l.resetHeaderMenu,b=l.setL2NavType,f=l.setL2Nav,d=l.setBackLink,p=l.setL2Title,O=l.setL2Content,j=l.setBackLinkLabel,g=l.setPageHeader;return Object(r.useEffect)((function(){m(),!t&&s>0&&b("menu"),!t&&s>0&&f(i.contacts_nav),u({leftNav:"contacts",rightNav:e}),t&&d(t),t&&j("All Contacts"),n&&p(n),n&&"Export"===n&&(o&&O(o),b("menu"),f({export:{name:Object(c.__)("All","wp-marketing-automations"),link:"admin.php?page=autonami&path=/export"}})),!t&&s>0&&o&&O(o),g("Contacts")}),[e,n]),!0}},763:function(e,t,n){"use strict";var a=n(0),r=n(35),c=n(2),o=n(758);t.a=function(e){var t=e.selected,n=e.onTagsChange;return Object(a.createElement)("div",{className:"bwf-c-field-mapper-terms"},Object(a.createElement)("div",{className:"bwf-input-label"},Object(c.__)("Add Tags","wp-marketing-automations")),Object(a.createElement)(r.a,{autocompleter:o.b,multiple:!1,allowFreeTextSearch:!0,inlineTags:!1,selected:t,onChange:function(e){n(e)},onRemoveTag:function(e,a){var r=t.filter((function(t){return!(t.key==e&&t.label==a)}));n(r)},placeholder:Object(c.__)("Search by tag name","wp-marketing-automations"),showClearButton:!0,disabled:!1}))}},765:function(e,t,n){"use strict";var a=n(0),r=n(35),c=n(2),o=n(758);t.a=function(e){var t=e.selected,n=e.onListsChange;return Object(a.createElement)("div",{className:"bwf-c-field-mapper-terms"},Object(a.createElement)("div",{className:"bwf-input-label"},Object(c.__)("Add to Lists","wp-marketing-automations")),Object(a.createElement)(r.a,{autocompleter:o.a,multiple:!1,allowFreeTextSearch:!0,inlineTags:!1,selected:t,onChange:function(e){n(e)},onRemoveTag:function(e){var a=t.filter((function(t){return t.key!=e}));n(a)},placeholder:Object(c.__)("Search by list name","wp-marketing-automations"),showClearButton:!0,disabled:!1}))}},772:function(e,t,n){"use strict";var a=n(222),r=n(7);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(){var e=Object(a.a)("contacts"),t=e.fetch;return o(o({},s(e,["fetch"])),{},{fetch:function(e,n,a){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=arguments.length>8&&void 0!==arguments[8]&&arguments[8],b=e.s,f=(e.page,e.filter,e.orderby),d=e.order,p=(e.path,s(e,["s","page","filter","orderby","order","path"])),O={offset:n,limit:a,search:b,filters:p,get_wc:Object(r.fb)(),grab_totals:c,only_count:o,fetch_base:i,grab_custom_fields:!1,exclude_unsubs:l,exclude_unsubs_lists:u};d&&f&&(O.order=d,O.order_by=f),m&&(O.unopen_broadcast=parseInt(m)),t("GET",Object(r.g)("/contacts"),O)},startIndexing:function(){return t("GET",Object(r.g)("/contacts"),{start_indexing:!0})}})}},773:function(e,t,n){"use strict";var a=n(0),r=n(13),c=n.n(r),o=n(7),i=n(783),s=n(780);n(779);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){b(c,a,r,o,i,"next",e)}function i(e){b(c,a,r,o,i,"throw",e)}o(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(){var e=d(Object(a.useState)(!1),2),t=e[0],n=e[1],r=d(Object(a.useState)({}),2),l=r[0],m=r[1],b=Object(a.useCallback)(f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,c()({method:"GET",path:Object(o.g)("/fields")});case 4:(t=e.sent)&&t.result&&m(t.result),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))));Object(a.useEffect)((function(){Object(o.X)()&&b()}),[]);var p={};if(l)for(var O in l){var j=l[O],g=Object(i.b)(j.type),y=j.meta.options,w=j.name;p["bwf_cf".concat(j.ID)]=Object(i.a)(w,"Custom Field","contact_custom_fields",12,g,y)}var h=u(u({},s.a),p);return!!t||h}},778:function(e,t,n){"use strict";var a=n(221);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.a=function(){var e=Object(a.a)("contacts"),t=e.getStateProp;return c(c({},i(e,["getStateProp"])),{},{getContacts:function(){return t("contacts_list")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getCountData:function(){return t("countData")}})}},779:function(e,t,n){},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(10),r=n(6),c=n.n(r),o=n(23),i=n(11),s=n(24),l=n(241),u=function(e){function t(t,n){var a;return(a=e.call(this)||this).client=t,a.setOptions(n),a.bindMethods(),a.updateResult(),a}Object(s.a)(t,e);var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))},n.onMutationUpdate=function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(a.a)({},this.options,{variables:void 0!==e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:Object(l.b)();this.currentResult=Object(a.a)({},e,{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset})},n.notify=function(e){var t=this;o.a.batch((function(){t.mutateOptions&&(e.onSuccess?(null==t.mutateOptions.onSuccess||t.mutateOptions.onSuccess(t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(t.currentResult.data,null,t.currentResult.variables,t.currentResult.context)):e.onError&&(null==t.mutateOptions.onError||t.mutateOptions.onError(t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==t.mutateOptions.onSettled||t.mutateOptions.onSettled(void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context))),e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))},t}(n(47).a),m=n(239);function b(e,t,n){var r=c.a.useRef(!1),s=c.a.useState(0)[1],l=Object(i.k)(e,t,n),b=Object(m.b)(),f=c.a.useRef();f.current?f.current.setOptions(l):f.current=new u(b,l);var d=f.current.getCurrentResult();c.a.useEffect((function(){r.current=!0;var e=f.current.subscribe(o.a.batchCalls((function(){r.current&&s((function(e){return e+1}))})));return function(){r.current=!1,e()}}),[]);var p=c.a.useCallback((function(e,t){f.current.mutate(e,t).catch(i.i)}),[]);if(d.error&&f.current.options.useErrorBoundary)throw d.error;return Object(a.a)({},d,{mutate:p,mutateAsync:d.mutate})}},796:function(e,t,n){"use strict";var a=n(0),r=n(2),c=n(4),o=(n(797),n(7)),i=n(3),s=n(13),l=n.n(s),u=n(80),m=n(81),b=n(34),f=n(131);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(e){var t=e.contact,n=g(Object(a.useState)({type:"email",title:"",body:"Hi ".concat(t.f_name,",")}),2),s=n[0],d=n[1],O=g(Object(a.useState)({status:!1,message:""}),2),y=O[0],w=O[1],h=[{value:"email",label:Object(r.__)("Email","wp-marketing-automations")},{value:"sms",label:Object(r.__)("SMS","wp-marketing-automations")}];Object(o.cb)()&&h.push({value:"whatsapp",label:Object(r.__)("WhatsApp","wp-marketing-automations")});var v=function(){var n,a=(n=regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={title:s.title,type:s.type,message:s.body},"sms"==s.type&&delete a.title,n.prev=2,n.next=5,l()({path:Object(o.g)("/contacts/".concat(t.id,"/sendmessage")),method:"POST",data:a,headers:{"Content-Type":"application/json"}}).then((function(t){200==t.code?(d(p(p({},s),{},{success:!0,loading:!0,message:Object(r.__)("Message sent sucessfully","wp-marketing-automations")})),setTimeout((function(){d({}),e.setSendMessageModel({status:!1,contactInfo:{}}),e.hasOwnProperty("onSuccess")&&e.onSuccess(!0)}),2e3)):(d(p(p({},s),{},{error:!0,loading:!0,message:t.message})),setTimeout((function(){d(p(p({},s),{},{loading:!1}))}),2e3))}));case 5:n.next=11;break;case 7:n.prev=7,n.t0=n.catch(2),d(p(p({},s),{},{error:!0,loading:!0,message:n.t0.message})),setTimeout((function(){d(p(p({},s),{},{loading:!1}))}),2e3);case 11:case"end":return n.stop()}}),n,null,[[2,7]])})),function(){var e=this,t=arguments;return new Promise((function(a,r){var c=n.apply(e,t);function o(e){j(c,a,r,o,i,"next",e)}function i(e){j(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(){return a.apply(this,arguments)}}();return Object(a.createElement)(c.Modal,{title:Object(r.__)("Send Message","wp-marketing-automations"),onRequestClose:function(){return e.setSendMessageModel({status:!1,contactInfo:{}})},shouldCloseOnClickOutside:!1,className:"bwf-admin-modal bwf-admin-modal-large bwf-message-modal"},s.loading?s.success?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(u.a,null),Object(a.createElement)("div",{className:"bwf-h1"},s.message))):s.error?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(m.a,null),Object(a.createElement)("div",{className:"bwf-h1"},s.message))):Object(a.createElement)(b.a,null):Object(a.createElement)("div",{className:"bwf-form-fields"},y.status&&Object(a.createElement)(c.Notice,{status:"error",onRemove:function(){return w(!1)},className:"bwf-send-message-notice"},y.message?y.message:Object(r.__)("Title and body are mandetory field. Kindly fill all fields","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf-message-wrap"},Object(a.createElement)("div",{className:"bwf-p-15 bwf-pt-0 bwf-bb-grey",key:1},Object(a.createElement)("div",{className:"bwf-w-120 bwf_bold"},Object(r.__)("To","wp-marketing-automations")),Object(a.createElement)("div",null,Object(a.createElement)("div",{className:"bwf-highlight-content"},Object(a.createElement)("b",null,t.f_name+" "+t.l_name),"email"==s.type?" ( "+t.email+" ) ":t.contact_no?" ( "+t.contact_no+" ) ":""))),Object(a.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(a.createElement)("div",{className:"bwf-w-120 bwf_bold"},Object(r.__)("Type","wp-marketing-automations")),Object(a.createElement)(c.SelectControl,{value:s.type,className:"bwf-w-150",options:h,onChange:function(e){["sms","whatsapp"].includes(e)&&(Object(i.isEmpty)(t.contact_no)?w({status:!0,message:Object(r.__)("Phone number missing from contact details.","wp-marketing-automations")}):("sms"!=e||Object(o.f)()||w({status:!0,message:Object(r.__)("Not any active SMS provider connected.","wp-marketing-automations")}),"whatsapp"!=e||Object(o.db)()||w({status:!0,message:Object(r.__)("WhatsApp configuration is missing.","wp-marketing-automations")}))),d(p(p({},s),{},{type:e}))}})),"email"==s.type&&Object(a.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(a.createElement)("div",{className:"bwf-w-120 bwf_bold"},Object(r.__)("Subject","wp-marketing-automations")),Object(a.createElement)(c.TextControl,{type:"text",value:s.title,placeholder:Object(r.__)("Title comes here …","wp-marketing-automations"),onChange:function(e){return d(p(p({},s),{},{title:e}))}})),Object(a.createElement)("div",{className:"bwf-p-15 bwf-message-textarea"},"email"==s.type?Object(a.createElement)(f.a,{keyid:"bwf-email-edittor",content:s.body,setContent:function(e){return d(p(p({},s),{},{body:e}))}}):Object(a.createElement)(c.TextareaControl,{placeholder:Object(r.__)("Write your message here …","wp-marketing-automations"),value:s.body,onChange:function(e){return d(p(p({},s),{},{body:e}))},rows:8})),Object(a.createElement)("div",{className:"bwf_text_right bwf-message-footer"},Object(a.createElement)("div",null),Object(a.createElement)("div",null,Object(a.createElement)(c.Button,{isTertiary:!0,className:"bwf-mr-15",onClick:function(){return e.setSendMessageModel({status:!1,contactInfo:{}})}},Object(r.__)("Cancel","wp-marketing-automations")),Object(a.createElement)(c.Button,{isPrimary:!0,onClick:function(){var e=!1;Object(i.isEmpty)(s.body)&&(e=!0,w({status:!0,message:Object(r.__)("Please enter message body.","wp-marketing-automations")})),!e&&Object(i.isEmpty)(s.type)&&(e=!0,w({status:!0,message:Object(r.__)("Please select message type.","wp-marketing-automations")})),!e&&"email"==s.type&&Object(i.isEmpty)(s.title)&&(e=!0,w({status:!0,message:Object(r.__)("Please enter the subject for the message.","wp-marketing-automations")})),e||"whatsapp"!=s.type||Object(o.db)()||(e=!0,w({status:!0,message:Object(r.__)("WhatsApp service is not configured yet.","wp-marketing-automations")})),e||(w({status:!1,message:""}),d(p(p({},s),{},{loading:!0})),v())},disabled:!("sms"!=s.type||!Object(i.isEmpty)(t.contact_no)&&Object(o.f)())},Object(r.__)("Send","wp-marketing-automations")))))))}},797:function(e,t,n){},799:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(48),r={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?[1|3]([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)(7[5-9])\d{1,7}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[689]\d{7}$/,"en-SL":/^(?:0|94|\+94)?(7(0|1|2|5|6|7|8)( |-)?\d)\d{6}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?([1-8]{1}|3[0-9]{2})?[2-9]{1}\d{6}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([2689]))|(7([0|6-9]))|(8([1-6|89]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([3568][0-9]|4[579]|6[67]|7[01235678]|9[012356789])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};function c(e,t,n){if(Object(a.a)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(r.hasOwnProperty(t)&&r[t].test(e))return!0;return!1}));if(t in r)return r[t].test(e);if(!t||"any"===t){for(var c in r){if(r.hasOwnProperty(c))if(r[c].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))}r["en-CA"]=r["en-US"],r["fr-CA"]=r["en-CA"],r["fr-BE"]=r["nl-BE"],r["zh-HK"]=r["en-HK"],r["zh-MO"]=r["en-MO"],r["ga-IE"]=r["en-IE"];Object.keys(r)},809:function(e,t,n){"use strict";var a=n(0),r=(n(810),n(7)),c=n(773),o=n(791),i=n(129),s=n(2),l=n(4);t.a=function(e){var t=e.isOpen,n=void 0!==t&&t,u=e.query,m=Object(c.a)();return n&&!0===m?Object(a.createElement)(l.Spinner,null):n&&!!m&&Object(a.createElement)(i.a,{siteLocale:"en-US",currency:Object(r.fb)()?bwfcrm_contacts_data.currency:{},config:{title:Object(s.__)("Select Rules","wp-marketing-automations"),filters:m,footerComponent:function(e){return Object(a.createElement)(o.a,{filter:e.data,config:e.config})},enableGrouping:!0},path:"/contacts",query:u})}},810:function(e,t,n){},908:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(2),c=n(22),o=n(5),i=n.n(o),s=n(84),l=n.n(s),u=n(7),m=n(220),b=n(3),f=n(56),d=n(35),p=n(40),O=n.n(p),j=n(104),g=n.n(j),y=n(45),w=n.n(y),h=n(14),v=n(13),_=n.n(v),E=n(16),k=n.n(E);function C(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}var S={name:"contacts",className:"bwf-search-bwf-contacts-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O()(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return n={search:t,limit:10,offset:0},e.next=5,_()({path:Object(u.g)("/contacts?"+Object(c.stringify)(n)),method:"GET"});case 5:return a=e.sent,e.abrupt("return",w()(a,"result")?a.result:[]);case 7:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(a,r){var c=t.apply(e,n);function o(e){C(c,a,r,o,i,"next",e)}function i(e){C(c,a,r,o,i,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.f_name,e.l_name,e.email]},getFreeTextOptions:function(e,t){return[{key:"name",label:Object(a.createElement)("span",{key:"name",className:"bwf-search-result-name"},k()({mixedString:Object(r.__)("All contacts with names that include {{query /}}","wp-marketing-automations"),components:{query:Object(a.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e,contacts:t.map((function(e){return w()(e,"value")?e.value:e})),searchTerm:e}}]},getOptionLabel:function(e,t){var n=Object(u.e)(Object(u.l)(e),t)||{};return Object(a.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":Object(u.l)(e)},n.suggestionBeforeMatch,Object(a.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(e){return e}};function P(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}var N=function(e){var t=e.query,n=t.hasOwnProperty("s")?t.s:"",c=O()(n)?[]:[{key:n,label:Object(r.__)("Search Term: ","wp-marketing-automations")+n,bwfLabelSource:"bwfcrm_contacts",isSearchTerm:!0}],o=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g()(n)){e.next=2;break}return e.abrupt("return");case 2:if(a=n.find((function(e){return w()(e,"searchTerm")})),!(Object(b.isUndefined)(a)&&n.length>0&&n[0].hasOwnProperty("id"))){e.next=6;break}return Object(h.j)({},"/contact/".concat(n[0].id),t),e.abrupt("return");case 6:if(r=Object(b.isUndefined)(a)?void 0:a.searchTerm,c=w()(t,"s")&&!O()(t.s)?t.s:"",r!==c){e.next=10;break}return e.abrupt("return");case 10:Object(h.j)({s:r},"/contacts",t);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){P(c,a,r,o,i,"next",e)}function i(e){P(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(a.createElement)(d.a,{autocompleter:S,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:c,onChange:o,placeholder:Object(r.__)("Search by contact","wp-marketing-automations"),showClearButton:!0,disabled:!1})},x=n(37),A=n(46),T=n(122),$=n(4),I=n(17),M=n(223),R=n(240),L=n(778),D=n(772),F=n(796),B=n(80),q=n(81),U=n(34);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var J=function(e){var t=e.contact,n=W(Object(a.useState)({type:"email",title:"",body:"",id:0,send:!1}),2),c=n[0],o=n[1],i=W(Object(a.useState)({status:!1,message:""}),2),s=i[0],l=i[1],m=[{value:"",label:Object(r.__)("Select Type","wp-marketing-automations")}].concat(Object(u.m)()),f=function(){var n,a=(n=regeneratorRuntime.mark((function n(a){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r={title:a.title,body:a.body,type:a.type,private:a.send,modified_by:Object(u.o)()}).created_by=Object(u.o)(),n.prev=2,n.next=5,_()({path:Object(u.g)("/contacts/".concat(t.id,"/notes/")),method:"POST",data:{notes:r},headers:{"Content-Type":"application/json"}}).then((function(t){200==t.code?(o(G(G({},c),{},{success:!0,loading:!0,message:t.message})),setTimeout((function(){o({}),e.setModelStatus({status:!1,contactInfo:{}})}),2e3)):(o(G(G({},c),{},{error:!0,loading:!0,message:t.message})),setTimeout((function(){o(G(G({},c),{},{loading:!1}))}),2e3))}));case 5:n.next=11;break;case 7:n.prev=7,n.t0=n.catch(2),o(G(G({},c),{},{error:!0,loading:!0,message:n.t0.message})),setTimeout((function(){o(G(G({},c),{},{loading:!1}))}),2e3);case 11:case"end":return n.stop()}}),n,null,[[2,7]])})),function(){var e=this,t=arguments;return new Promise((function(a,r){var c=n.apply(e,t);function o(e){K(c,a,r,o,i,"next",e)}function i(e){K(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}();return Object(a.createElement)($.Modal,{title:Object(r.__)("Add Note","wp-marketing-automations"),onRequestClose:function(){return e.setModelStatus(!1)},className:"bwf-admin-modal bwf-admin-modal-large bwf-message-modal"},c.loading?c.success?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(B.a,null),Object(a.createElement)("div",{className:"bwf-h1"},c.message))):c.error?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(q.a,null),Object(a.createElement)("div",{className:"bwf-h1"},c.message))):Object(a.createElement)(U.a,null):Object(a.createElement)("div",{className:"bwf-form-fields"},s.status&&Object(a.createElement)($.Notice,{status:"error",onRemove:function(){return l(!1)},className:"bwf-send-note-notice"},s.message?s.message:Object(r.__)("Title, type and body are mandatory field. Kindly fill them","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf-message-wrap"},Object(a.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(a.createElement)("div",{className:"bwf-w-120 bwf_bold"},Object(r.__)("Contact","wp-marketing-automations")),Object(a.createElement)("div",null,Object(a.createElement)("span",{className:"bwf-highlight-content"},Object(a.createElement)("b",null,t.f_name+" "+t.l_name)," ( "+t.email+" ) "))),Object(a.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(a.createElement)("div",{className:"bwf-w-120 bwf_bold"},Object(r.__)("Type","wp-marketing-automations")),Object(a.createElement)($.SelectControl,{value:c.type,className:"bwf-w-150",options:m,onChange:function(e){return o(G(G({},c),{},{type:e}))}})),Object(a.createElement)("div",{className:"bwf-p-15 bwf-bb-grey"},Object(a.createElement)("div",{className:"bwf-w-120 bwf_bold"},Object(r.__)("Title","wp-marketing-automations")),Object(a.createElement)($.TextControl,{type:"text",value:c.title,placeholder:Object(r.__)("Title comes here …","wp-marketing-automations"),onChange:function(e){return o(G(G({},c),{},{title:e}))}})),Object(a.createElement)("div",{className:"bwf-message-textarea"},Object(a.createElement)($.TextareaControl,{placeholder:Object(r.__)("Write your note here …","wp-marketing-automations"),value:c.body,onChange:function(e){return o(G(G({},c),{},{body:e}))},rows:5})),Object(a.createElement)("div",{className:"bwf-message-footer"},0==parseInt(c.id)&&Object(a.createElement)("div",{className:"bwf-note-send"},Object(a.createElement)($.ToggleControl,{label:Object(r.__)("Send Note to Contact","wp-marketing-automations"),checked:Boolean(parseInt(c.send)),onChange:function(e){return o(G(G({},c),{},{send:e?"1":"0"}))},className:"bwf-tooglecontrol-advance"})),Object(a.createElement)("div",{className:"bwf-button-col"},Object(a.createElement)($.Button,{isTertiary:!0,className:"bwf-mr-15",onClick:function(){return e.setModelStatus(!1)}},Object(r.__)("Cancel","wp-marketing-automations")),Object(a.createElement)($.Button,{isPrimary:!0,onClick:function(){Object(b.isEmpty)(c.title)||Object(b.isEmpty)(c.body)||Object(b.isEmpty)(c.type)?l({status:!0,message:""}):(l({status:!1,message:""}),o(G(G({},c),{},{loading:!0})),f(c))}},Object(r.__)("Add Note","wp-marketing-automations")))))))},Y=n(82),Q=n(227),V=n(12),X=n(175),ee=n(121),te=n(795);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ae(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var oe=[{id:"delete",icon:"trash",hint:Object(r.__)("Delete Contacts","wp-marketing-automations")}],ie=function(e){var t=e.floatingBarProps,n=void 0===t?{}:t,c=e.resetSelection,o=e.onSuccess,i=re(Object(a.useState)([]),2),s=i[0],l=i[1],m=re(Object(a.useState)(!1),2),b=m[0],f=m[1],d=function(){c&&c(),l([]),setTimeout((function(){p.reset()}),2500)},p=Object(te.a)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()({path:Object(u.g)("/contacts/"),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"},data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){ae(c,a,r,o,i,"next",e)}function i(e){ae(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){d(),o&&o()},onError:d}),O=Object(a.useCallback)((function(e,t){switch(e){case"delete":l(t),f(!0)}}),[]);return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(X.a,ne({actions:oe,onAction:O},n)),Object(a.createElement)(ee.a,{confirmText:Object(r.__)("Are you sure you want to delete the contacts","wp-marketing-automations"),confirmButtonText:Object(r.__)("Delete","wp-marketing-automations"),cancelButtonText:Object(r.__)("Cancel","wp-marketing-automations"),onConfirm:function(){var e={contacts:s.map((function(e){return e.id}))};p.mutate(e)},isLoading:p.isLoading,successMessage:p.isSuccess&&Object(r.__)("Contacts Deleted!","wp-marketing-automations"),errorMessage:p.isError&&(p.error&&p.error.message?p.error.message:Object(r.__)("Unable to delete contacts","wp-marketing-automations")),onRequestClose:function(){return f(!1)},isOpen:b,confirmDescription:Object(r.__)("This action is irreversible","wp-marketing-automations"),isDelete:!0}))},se=n(809),le=n(791),ue=n(50);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||Oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ge(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var ye=Object(f.a)(Object(u.L)()).formatAmount,we=function(e){var t=Object(L.a)(),n=Object(D.a)(),c=Object(u.n)(),o=e.query,s=o.path,f=o.page,d=(o.filter,ge(o,["path","page","filter"])),p=Object(a.useRef)(d),O=Object(u.N)("contact"),j=pe(Object(a.useState)({status:!1}),2),g=j[0],y=j[1],w=pe(Object(a.useState)({status:!1,contactInfo:{}}),2),v=w[0],E=w[1],k=pe(Object(a.useState)({status:!1,contactInfo:{}}),2),C=k[0],S=k[1],P=Object(u.O)(),z=n.fetch;Object(a.useEffect)((function(){z(o,0,25,!0)}),[]),Object(a.useEffect)((function(){Object(u.ib)(d,p.current)||z(o,0,25,!0),p.current=d}),[o]);var G=function(e){var t=(e||{}).state;return t||Object(a.createElement)("span",null,"-")},H=function(e){var t=(e||{}).country,n=void 0===t?"":t;return n&&(n=e.country?Q[e.country]:"")?Object(a.createElement)(I.a,{justify:"start"},Object(a.createElement)(R.a,{code:e.country,size:15}),n&&Object(a.createElement)("span",{style:{textAlign:"left"}},n)):Object(a.createElement)("span",null,"-")},K=function(e){return Object(a.createElement)(x.a,{href:"admin.php?page=autonami&path=/contact/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(a.createElement)(M.a,{contact:e}))},W=function(e){return Object(a.createElement)("div",{className:"bwf-c-contact-details-cell"},e.email&&Object(a.createElement)(I.a,{justify:"justify",align:"top"},Object(a.createElement)(I.c,null,Object(a.createElement)(V.a,{icon:"mail"})),Object(a.createElement)(I.c,null,e.email)),e.contact_no&&Object(a.createElement)(I.a,{justify:"justify",align:"top"},Object(a.createElement)(I.c,null,Object(a.createElement)(V.a,{icon:"phone"})),Object(a.createElement)(I.c,null,e.contact_no)),!e.contact_no&&!e.email&&Object(a.createElement)("span",null,"-"))},Z=function(e){var t=e.wc.total_order_value;return Object(a.createElement)("div",{className:"bwf-c-listing-total-spent"},t?Object(a.createElement)("div",{className:"bwf-c-total-spent-amount"},ye(t)):"-")},ee=function(e){var t=e.wc.total_order_count;return Object(a.createElement)("div",{className:"bwf-c-listing-total-spent"},!!t&&Object(a.createElement)("div",{className:"bwf-c-total-spent-amount"},t),!t&&"-")},te=function(e){var t=e.wc,n=t.l_order_date,r=t.total_order_count,c=t.total_order_value,o=t.total_purchased_items;return Object(a.createElement)("div",{className:"bwf-c-listing-last_order"},!!n&&"0000-00-00"!=n&&Object(a.createElement)("div",{className:"bwf-c-total-spent-amount"},Object(u.C)(n)),!c&&!r&&!o&&(!n||"0000-00-00"==n)&&"-")},ne=function(e){return Object(a.createElement)(A.a,{label:Object(r.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){}},Object(a.createElement)(x.a,{href:"admin.php?page=autonami&path=/contact/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(a.createElement)(I.a,{justify:"flex-start"},Object(a.createElement)(I.c,null,Object(a.createElement)(V.a,{icon:"profile"})),Object(a.createElement)(I.c,null,Object(r.__)("View","wp-marketing-automations"))))),Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){E({status:!0,contactInfo:e}),n()}},Object(a.createElement)(I.a,{justify:"flex-start"},Object(a.createElement)(I.c,null,Object(a.createElement)(V.a,{icon:"mail"})),Object(a.createElement)(I.c,null,Object(r.__)("Send Message","wp-marketing-automations")))),Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){S({status:!0,contactInfo:e}),n()}},Object(a.createElement)(I.a,{justify:"flex-start"},Object(a.createElement)(I.c,null,Object(a.createElement)(V.a,{icon:"notes"})),Object(a.createElement)(I.c,null,Object(r.__)("Add Note","wp-marketing-automations")))),Object(a.createElement)(T.a,{isClickable:!0,onInvoke:function(){y({status:!0,contactID:e.id}),n()}},Object(a.createElement)(I.a,{justify:"flex-start"},Object(a.createElement)(I.c,null,Object(a.createElement)(V.a,{icon:"trash"})),Object(a.createElement)(I.c,null,Object(r.__)("Delete","wp-marketing-automations")))))}})},ae=t.getPageNumber,re=t.getPerPageCount,ce=t.getTotalCount,oe=t.getLoading,me=(0,t.getContacts)(),fe=ae(),je=re(),we=ce(),he=oe(),ve=Object(a.useMemo)((function(){var e={};if(Array.isArray(me)){var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Oe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,c=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw c}}}}(me);try{for(n.s();!(t=n.n()).done;){var a=t.value;e[a.id]=a}}catch(e){n.e(e)}finally{n.f()}}return e}),[me]),_e=Object(X.b)(ve),Ee=_e.singleSelectProps,ke=_e.selectAllProps,Ce=_e.floatingBarProps,Se=_e.resetSelection,Pe=[{key:"select_contact",label:Object(a.createElement)($.CheckboxControl,ke),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"actions",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"f_name",label:Object(r.__)("Contact","wp-marketing-automations"),isLeftAligned:!0,required:!0,isSortable:!0,cellClassName:"bwf-w-300"},{key:"contact_details",label:Object(r.__)("Details","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"last_modified",label:Object(r.__)("Last Updated","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-w-210",isSortable:!0},{key:"country",label:Object(r.__)("Country","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150",isSortable:!0},{key:"state",label:Object(r.__)("State","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150",isSortable:!0},{key:"tags",label:Object(r.__)("Tags","wp-marketing-automations"),isLeftAligned:!1,cellClassName:"bwf-w-150"},{key:"lists",label:Object(r.__)("Lists","wp-marketing-automations"),isLeftAligned:!1,cellClassName:"bwf-w-150"},{key:"time",label:Object(r.__)("Current Time","wp-marketing-automations"),isLeftAligned:!1,visible:!1,cellClassName:"bwf-w-120"},{key:"source",label:Object(r.__)("Source","wp-marketing-automations"),isLeftAligned:!1,visible:!1,cellClassName:"bwf-w-120 bwf-col-center"}];Object(u.fb)()&&(Pe.push({key:"total_order_count",label:Object(r.__)("Orders","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-120",isSortable:!0}),Pe.push({key:"total_order_value",label:Object(r.__)("Total Spend","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150",isSortable:!0}),Pe.push({key:"l_order_date",label:Object(r.__)("Last Order","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150",isSortable:!0}));var Ne=function(e,t){var n,r,c,o=[];return o=1==t?e.tags:e.lists,n=o,r="",c=[],Object(b.isEmpty)(n)?"-":(n.map((function(e){Object(b.isEmpty)(r)&&(r=e.name),c.push(Object(a.createElement)("span",{key:e.id},e.name))})),Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-table-v-center"},Object(a.createElement)("span",null,!Object(b.isEmpty)(r)&&r),!Object(b.isEmpty)(c)&&c.length>1&&Object(a.createElement)(Y.a,{items:c}))))},xe=function(e){try{if(e&&e.hasOwnProperty("timezone")&&!Object(b.isEmpty)(e.timezone)&&P.hasOwnProperty(e.timezone))return Object(u.E)(l()().tz(e.timezone))}catch(e){}return"-"},Ae=me.map((function(e){var t=function(e){return Object(b.merge)({id:0,email:"-",f_name:"",l_name:"",creation_date:"",fields:{marketing_status:"0",first_order_date:"",country:"",city:"",state:"",contact_no:""},wc:{id:1,l_order_date:"",total_order_count:0,total_order_value:0,total_purchased_items:0}},e)}(e),n=[{display:Object(a.createElement)($.CheckboxControl,Ee[t.id]),value:null},{display:ne(t),value:null},{display:K(t),value:Object(u.gb)([t.f_name,t.l_name]," ")},{display:W(t),value:Object(r.__)("Email: "+t.email+", Phone: "+t.contact_no,"wp-marketing-automations")},{display:Object(u.D)(t.last_modified,!1,!1),value:t.last_modified},{display:H(t),value:t.country},{display:G(t),value:t.state},{display:Ne(t,1),value:t.tags},{display:Ne(t,2),value:t.lists},{display:xe(t),value:""},{display:t&&t.hasOwnProperty("source")?c[t.source]:"-",value:""}];return Object(u.fb)()&&(n.push({display:ee(t),value:""}),n.push({display:Z(t),value:""}),n.push({display:te(t),value:""})),n})),Te=function(e){e!==je&&z(o,0,e)},$e=i()("bwfcrm-contacts-list",{"has-search":!0}),Ie=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_()({path:Object(u.g)("/contacts/".concat(t,"/")),method:"POST",headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){200==e.code?(y({status:!0,success:!0,message:e.message}),setTimeout((function(){y({}),z(o,0,je,!0)}),2e3)):y({status:!0,error:!0,message:e.message})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),y({status:!0,error:!0,message:e.t0.message});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})),function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){de(c,a,r,o,i,"next",e)}function i(e){de(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Me=Object(a.useCallback)((function(e,t){Object(h.j)(be(be({},o),{},{order:t,orderby:e}),o.path,o)})),Re=Object(a.createElement)(a.Fragment,null,Object(a.createElement)("span",{className:"bwf-mr-10 bwf-cursor-pointer",key:"export",onClick:function(){Object(h.j)({page:"autonami",path:"/export"},"/","")}},Object(a.createElement)(ue.a,{icon:"export",iconSize:25,size:30,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(r.__)("Export","wp-marketing-automations"))})),Object(a.createElement)("span",{className:"bwf-mr-10 bwf-cursor-pointer",key:"import",onClick:function(){Object(h.j)({path:"/import"},"/",o)}},Object(a.createElement)(ue.a,{icon:"import",iconSize:25,size:30,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(r.__)("Import","wp-marketing-automations"))})));return Object(a.createElement)(a.Fragment,null,g&&g.status&&Object(a.createElement)($.Modal,{title:"Delete",onRequestClose:function(){return y({})},className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-no-header"},g.success?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(B.a,null),Object(a.createElement)("div",{className:"bwf-h1"},g.message))):g.error?Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(q.a,null),Object(a.createElement)("div",{className:"bwf-h1"},g.message))):g.confirm?Object(a.createElement)(U.a,null):Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-h4"},Object(r.__)("Delete","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf-t-center bwf-form-buttons"},Object(a.createElement)("div",{className:"bwf-h2"},Object(r.__)("Are you sure?","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_15"}),Object(a.createElement)("div",{className:"bwf-h4 bwf-h4-grey"},Object(r.__)("Once you delete this item. It will no longer available.","wp-marketing-automations")),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",{className:"bwf_text_right"},Object(a.createElement)($.Button,{isTertiary:!0,style:{marginRight:"20px"},onClick:function(){y({status:!1})}},Object(r.__)("Cancel","wp-marketing-automations")),Object(a.createElement)($.Button,{isPrimary:!0,className:"bwf-delete-btn",onClick:function(){y({status:!0,contactID:g.contactID,confirm:!0}),Ie(g.contactID)}},Object(r.__)("Confirm","wp-marketing-automations")))))),Object(a.createElement)(m.a,{className:$e,rows:Ae,headers:function(e){if(Object(b.isEmpty)(O))return e;var t=[];return e.map((function(e){["select_contact","actions","contact"].includes(e.key)||O.includes(e.key)?e.visible=!0:e.visible=!1,e.hasOwnProperty("required")&&e.required&&(e.visible=!0),t.push(e)})),t}(Pe),query:{paged:fe,order:o.order,orderby:o.orderby},rowsPerPage:je,totalRows:we,summary:parseInt(we)>0?[{label:Object(a.createElement)(a.Fragment,null," contacts"),value:Object(a.createElement)("b",null,we+" ")}]:[],isLoading:he,onPageChange:function(e,t){z(o,(e-1)*je,je)},onQueryChange:function(e){return"per_page"!==e?function(){}:Te},onColumnsChange:function(e,t){_()({path:Object(u.g)("/user-preference/".concat(Object(u.o)(),"/")),method:"POST",data:{data:{contact_column:e}}}).then((function(t){200===t.code&&(bwfcrm_contacts_data.table_column_data.contact=e)}))},actions:[Object(a.createElement)(N,{key:"search",query:o}),Object(a.createElement)($.SelectControl,{onChange:function(e){"all"===e&&Object(h.j)({page:f},s,{}),"filters"===e&&Object(h.j)({filter:"advanced"},s,o)},options:[{value:"all",label:Object(r.__)("All Contacts","wp-marketing-automations")},{value:"filters",label:Object(r.__)("Advanced Filters","wp-marketing-automations")}],value:o.hasOwnProperty("filter")&&"advanced"===o.filter?"filters":"all"}),Object(a.createElement)(le.c,null)],rowHeader:!0,emptyMessage:Object(r.__)("No contacts found","wp-marketing-automations"),onSort:Me,extraSectionBeforefilterCol:Re,filterColumnIcon:Object(a.createElement)("span",{className:"bwf-cursor-pointer"},Object(a.createElement)(ue.a,{icon:"filters",iconSize:25,size:30,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(r.__)("Filter","wp-marketing-automations"))})),beforeTable:Object(a.createElement)(se.a,{query:o,isOpen:o.hasOwnProperty("filter")&&"advanced"===o.filter})}),v.status&&Object(a.createElement)(F.a,{contact:v.contactInfo,setSendMessageModel:E}),C.status&&Object(a.createElement)(J,{contact:C.contactInfo,setModelStatus:S}),Object(a.createElement)(ie,{floatingBarProps:Ce,resetSelection:Se,onSuccess:function(){return z(o,0,je,!0)}}))};we.defaultProps={contacts:[]};var he=we,ve=(n(810),n(63)),_e=n(73),Ee=n(799),ke=n(763),Ce=n(765);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ie={email:"",f_name:"",l_name:"",marketing_status:!0,contact_no:""},Me=function(e){var t=Te(Object(a.useState)({}),2),n=t[0],c=(t[1],e.hasOwnProperty("errors")?e.error:{}),o=Te(Object(a.useState)([]),2),i=o[0],s=o[1],l=Te(Object(a.useState)([]),2),m=l[0],f=l[1],d=Te(Object(a.useState)(null),2),p=d[0],O=d[1],j=Te(Object(a.useState)(null),2),g=j[0],y=j[1],w=Te(Object(a.useState)(Ie),2),v=w[0],E=w[1],k=Te(Object(a.useState)(!1),2),C=k[0],S=k[1],P=Te(Object(a.useState)({}),2),N=P[0],x=P[1],A=((0,Object(L.a)().getPerPageCount)(),function(){var t,n=(t=regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(!0),t.prev=1,t.next=4,_()({path:Object(u.g)("/contacts"),method:"POST",data:n}).then((function(t){200==t.code?(Object(u.w)()||(bwfcrm_contacts_data.first_contact_id=1),x({}),S(!1),Object(h.j)({page:"autonami",path:"/contact/"+parseInt(t.result.id)},"/",{}),e.onCloseModal()):O(t)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),S(!1),O(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var c=t.apply(e,n);function o(e){Ae(c,a,r,o,i,"next",e)}function i(e){Ae(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}()),T=Object(D.a)().fetch,I=e.query,M=function(){g&&(y(null),T(I,0,25)),e.onCloseModal()},R=function(e){var t={};return!Object(b.isEmpty)(e.email)&&Object(_e.a)(e.email?e.email:"")||(t=Object(r.__)(Object(b.isEmpty)(e.email)?"Email is required":"Email is not valid","wp-marketing-automations")),!Object(b.isEmpty)(t)||Object(b.isEmpty)(e.phone)||Object(Ee.a)(e.phone?e.phone:"")||(t=Object(r.__)("Phone is not valid","wp-marketing-automations")),Object(b.isEmpty)(t)?(O(null),!0):(O({message:t}),!1)};return Object(a.createElement)($.Modal,{title:Object(r.__)("Add Contact","wp-marketing-automations"),onRequestClose:M,className:"bwf-admin-modal bwf-admin-modal-large bwf-add-new-contact-modal "},p&&Object(a.createElement)($.Notice,{status:"error",onRemove:function(){return O(null)}},p.hasOwnProperty("message")?p.message:Object(r.__)("Unknown Error while creating contact","wp-marketing-automations")),g&&g.hasOwnProperty("id")&&Object(a.createElement)($.Notice,{status:"success",onRemove:M},Object(r.__)("Contact created successfully","wp-marketing-automations")),C?N&&N.success&&N.message?Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(B.a,null),Object(a.createElement)("div",{className:"bwf-h1"},N.message)):N&&N.error&&N.message?Object(a.createElement)("div",{className:"bwf-t-center"},Object(a.createElement)(q.a,null),Object(a.createElement)("div",{className:"bwf-h1"},N.message)):Object(a.createElement)(U.a,null):Object(a.createElement)(ve.a,{errors:Ne(Ne({},n),c),validate:function(e){var t={};return!Object(b.isEmpty)(e.email)&&Object(_e.a)(e.email?e.email:"")||(t.email=Object(r.__)(Object(b.isEmpty)(e.email)?"Email is required":"Email is not valid","wp-marketing-automations")),Object(b.isEmpty)(e.phone)||Object(Ee.a)(e.phone?e.phone:"")||(t.phone=Object(r.__)("Phone is not valid","wp-marketing-automations")),{}},onSubmitCallback:function(e){var t=e.email,n=e.f_name,a=e.l_name,r=e.marketing_status,c=e.phone,o=[];Object(b.isEmpty)(i)||i.map((function(e){o.push({id:e.key,value:e.label})}));var s=[];Object(b.isEmpty)(m)||m.map((function(e){s.push({id:e.key,value:e.label})})),E({email:t,f_name:n,l_name:a,contact_no:c,status:r,tags:o,lists:s}),A({email:t,f_name:n,l_name:a,contact_no:c,status:r,tags:o,lists:s})},initialValues:v},(function(e){var t=e.getInputProps,n=e.values,c=(e.errors,e.handleSubmit);return Object(a.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&R(n)&&c()}},Object(a.createElement)("div",{className:"bwf-half-fields"},Object(a.createElement)($.TextControl,Se({disabled:C,type:"email",autoFocus:!0,label:Object(r.__)("Email","wp-marketing-automations"),help:Object(r.__)("Required","wp-marketing-automations")},t("email"))),Object(a.createElement)($.TextControl,Se({disabled:C,label:Object(r.__)("Phone","wp-marketing-automations"),help:Object(r.__)("Optional","wp-marketing-automations")},t("phone"))),Object(a.createElement)($.TextControl,Se({disabled:C,label:Object(r.__)("First Name","wp-marketing-automations"),help:Object(r.__)("Optional","wp-marketing-automations")},t("f_name"))),Object(a.createElement)($.TextControl,Se({disabled:C,label:Object(r.__)("Last Name","wp-marketing-automations"),help:Object(r.__)("Optional","wp-marketing-automations")},t("l_name"))),Object(a.createElement)(ke.a,{onTagsChange:s,selected:i}),Object(a.createElement)(Ce.a,{onListsChange:f,selected:m})),Object(a.createElement)("div",{className:"bwf_clear_20"}),Object(a.createElement)("div",null,Object(a.createElement)($.CheckboxControl,Se({disabled:C,label:"Subscribe contact for promotional marketing",help:Object(r.__)("Optional","wp-marketing-automations")},t("marketing_status")))),Object(a.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(a.createElement)($.Button,{isTertiary:!0,onClick:M},Object(r.__)("Cancel","wp-marketing-automations")),Object(a.createElement)($.Button,{isPrimary:!0,onClick:function(){R(n)&&c()}},Object(r.__)("Add","wp-marketing-automations"))))})))};Me.defaultProps={onCloseModal:function(){}};var Re=Me,Le=n(253),De=n(760),Fe=n(79),Be=n(219),qe=n(126),Ue=n(226);function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.default=function(){var e=Object(L.a)(),t=Object(D.a)(),n=e.getError,o=e.getContacts,i=e.getCountData,s=t.clearError,l=t.startIndexing,m=Ke(Object(a.useState)(!1),2),b=m[0],f=m[1],d=location&&location.search?Object(c.parse)(location.search.substring(1)):{},p=n(),O=Object(a.useRef)();Object(a.useEffect)((function(){O.current?s():O.current=p})),Object(a.useEffect)((function(){Object(u.d)("Contacts")}),[]);var j=Object(a.createElement)(a.Fragment,null,Object(a.createElement)($.Button,{isPrimary:!0,className:"bwf-display-flex",label:"Create Contact",onClick:function(){return f(!0)}},Object(r.__)("Add New","wp-marketing-automations"))),g=i(),y=Object(qe.a)().getPageCountData,w=Object(Be.a)().setPageCountData,v=y();Object(a.useEffect)((function(){w(Ge(Ge({},v),g))}),[g]),Object(De.a)("contacts","",Object(r.__)("ALL CONTACTS","wp-marketing-automations"),j);var _=o();if("indexing_status"in _){var E="indexing_status"in _&&2===parseInt(_.indexing_status)?Object(r.__)("Contacts indexing is in progress. Kindly, check back after some time.","wp-marketing-automations"):Object(r.__)("Contacts Indexing required, before you can view the contacts.","wp-marketing-automations"),k="indexing_status"in _&&2===parseInt(_.indexing_status)?null:Object(r.__)("Start Indexing","wp-marketing-automations");return Object(a.createElement)(Le.a,{text:E,buttonText:k,onButtonClick:function(){return l()}})}var C=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(a.createElement)(V.a,{icon:"zero-contacts",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(r.__)("No Contacts","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(r.__)("Add contacts and get actionable insights about every contact to revv up your campaigns.","wp-marketing-automations")}},{type:"actions",data:{count:"2",actions:[{icon:Object(a.createElement)(V.a,{icon:"add-contact",width:"36",height:"36"}),heading:Object(r.__)("Add a Contact","wp-marketing-automations"),sub_heading:Object(r.__)("Create a new contact manually","wp-marketing-automations"),onClick:function(){f(!0)}},{icon:Object(a.createElement)(V.a,{icon:"import-contact",width:"36",height:"36"}),heading:Object(r.__)("Import Contacts","wp-marketing-automations"),sub_heading:Object(r.__)("Bulk upload contacts from various sources","wp-marketing-automations"),onClick:function(){Object(h.j)({path:"/import"},"/",d)}}]}}];return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Fe.a,null),Object(a.createElement)("div",{className:"bwfcrm-contacts-list__scroll-point"}),p&&!b&&Object(a.createElement)($.Notice,{status:"error"},p.message),Object(u.w)()?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(he,{query:d})):Object(a.createElement)(Ue.a,{data:C}),b&&Object(a.createElement)(Re,{query:d,onCloseModal:function(){return f(!1)}}))}},927:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(79),c=n(4),o=n(2),i=n(14),s=(n(809),n(7)),l=n(35),u=n(40),m=n.n(u),b=n(104),f=n.n(b),d=n(45),p=n.n(d),O=n(3),j=n(16),g=n.n(j);function y(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}var w={name:"contacts",className:"bwf-search-bwf-contacts-result",options:function(e){return(t=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m()(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.abrupt("return",[{id:1,email:"johndoe@gmail.com",f_name:"John",l_name:"Doe",contact_no:"12345567890"}]);case 3:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(a,r){var c=t.apply(e,n);function o(e){y(c,a,r,o,i,"next",e)}function i(e){y(c,a,r,o,i,"throw",e)}o(void 0)}))},function(e){return n.apply(this,arguments)})(e);var t,n},isDebounced:!0,getOptionIdentifier:function(e){return e.id},getOptionKeywords:function(e){return[e.f_name,e.l_name,e.email]},getFreeTextOptions:function(e,t){return[{key:"name",label:Object(a.createElement)("span",{key:"name",className:"bwf-search-result-name"},g()({mixedString:Object(o.__)("All contacts with names that include {{query /}}","wp-marketing-automations"),components:{query:Object(a.createElement)("strong",{className:"components-form-token-field__suggestion-match"},e)}})),value:{id:e,name:e,contacts:t.map((function(e){return p()(e,"value")?e.value:e})),searchTerm:e}}]},getOptionLabel:function(e,t){var n=Object(s.e)(Object(s.l)(e),t)||{};return Object(a.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":Object(s.l)(e)},n.suggestionBeforeMatch,Object(a.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(e){return e}};function h(e,t,n,a,r,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}var v=function(e){var t=e.query,n=t.hasOwnProperty("s")?t.s:"",r=m()(n)?[]:[{key:n,label:Object(o.__)("Search Term: ","wp-marketing-automations")+n,bwfLabelSource:"bwfcrm_contacts",isSearchTerm:!0}],c=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f()(n)){e.next=2;break}return e.abrupt("return");case 2:if(a=n.find((function(e){return p()(e,"searchTerm")})),!(Object(O.isUndefined)(a)&&n.length>0&&n[0].hasOwnProperty("id"))){e.next=6;break}return Object(i.j)({},"/contact/".concat(n[0].id),t),e.abrupt("return");case 6:if(r=Object(O.isUndefined)(a)?void 0:a.searchTerm,c=p()(t,"s")&&!m()(t.s)?t.s:"",r!==c){e.next=10;break}return e.abrupt("return");case 10:Object(i.j)({s:r},"/contacts",t);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function o(e){h(c,a,r,o,i,"next",e)}function i(e){h(c,a,r,o,i,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}();return Object(a.createElement)(l.a,{autocompleter:w,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:r,onChange:c,placeholder:Object(o.__)("Search by contact","wp-marketing-automations"),showClearButton:!0,disabled:!1})},_=n(220),E=n(227),k=n(17),C=n(240),S=n(37),P=n(223),N=n(46),x=n(122),A=n(82),T=n(5),$=n.n(T),I=n(56),M=n(760),R=n(84),L=n.n(R),D=n(123),F=n(12),B=n(226),q=n(50);function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var G=Object(I.a)(Object(s.L)()).formatAmount;t.default=function(){Object(s.d)("Contacts");var e=Object(i.h)(),t=e.path,n=U(Object(a.useState)(!1),2),l=n[0],u=n[1],m=U(Object(a.useState)(!1),2),b=m[0],f=m[1],d=Object(a.createElement)(a.Fragment,null,Object(a.createElement)(c.Button,{isPrimary:!0,className:"bwf-display-flex",label:"Create Contact",onClick:function(){u(!0)}},Object(a.createElement)(F.a,{icon:"lock",size:15,color:"#fff"}),Object(o.__)("Add New","wp-marketing-automations")));Object(M.a)("contacts","",Object(o.__)("ALL CONTACTS","wp-marketing-automations"),d);var p=$()("bwfcrm-contacts-list",{"has-search":!0}),j=function(e){var t=e.country?"":e.country,n=Object(s.gb)([t],", ");return Object(O.isEmpty)(Object(O.trim)(n))?"":n},g=function(e){var t=j(e),n=e.country?E[e.country]:"";return e.country||t?Object(a.createElement)(k.a,{justify:"start"},!Object(O.isEmpty)(e.country)&&Object(a.createElement)(k.c,null,Object(a.createElement)(C.a,{code:e.country,size:15})),Object(a.createElement)(k.c,null,t&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)("span",null,j(e))),n&&Object(a.createElement)("span",null,t&&Object(a.createElement)(a.Fragment,null,",")," ",n))):Object(a.createElement)("span",null,"-")},y=function(e){return Object(a.createElement)(S.a,{href:"admin.php?page=autonami&path=/contact/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(a.createElement)(P.a,{contact:e}))},w=function(e){return Object(a.createElement)("div",{className:"bwf-c-contact-details-cell"},e.email&&Object(a.createElement)(k.a,{justify:"justify",align:"top"},Object(a.createElement)(k.c,null,Object(a.createElement)(F.a,{icon:"mail"})),Object(a.createElement)(k.c,null,e.email)),e.contact_no&&Object(a.createElement)(k.a,{justify:"justify",align:"top"},Object(a.createElement)(k.c,null,Object(a.createElement)(F.a,{icon:"phone"})),Object(a.createElement)(k.c,null,e.contact_no)),!e.contact_no&&!e.email&&Object(a.createElement)("span",null,"-"))},h=function(e){var t=e.wc,n=(t.l_order_date,t.total_order_count),r=t.total_order_value,c=t.total_purchased_items;return Object(a.createElement)("div",{className:"bwf-c-listing-total-spent"},!(!r||!n)&&Object(a.createElement)("div",{className:"bwf-c-total-spent-amount"},G(r)," |"," ",n," ",Object(o.__)(parseInt(n)>1?"orders":"order","wp-marketing-automations")),!!c&&Object(a.createElement)("div",{className:"bwf-c-total-spent-amount"},c," ",c>1?Object(o.__)("items","wp-marketing-automations"):Object(o.__)("item","wp-marketing-automations")),!r&&!n&&!c&&"-")},T=function(e){var t=e.wc,n=t.l_order_date,r=t.total_order_count,c=t.total_order_value,o=t.total_purchased_items;return Object(a.createElement)("div",{className:"bwf-c-listing-last_order"},!!n&&"0000-00-00"!=n&&Object(a.createElement)("div",{className:"bwf-c-total-spent-amount"},Object(s.C)(n)),!c&&!r&&!o&&(!n||"0000-00-00"==n)&&"-")},I=function(e){return Object(a.createElement)(N.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),renderContent:function(t){var n=t.onToggle;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(x.a,{isClickable:!0,onInvoke:function(){}},Object(a.createElement)(S.a,{href:"admin.php?page=autonami&path=/contact/"+e.id,type:"bwf-crm",className:"bwf-a-no-underline"},Object(a.createElement)(k.a,{justify:"flex-start"},Object(a.createElement)(k.c,null,Object(a.createElement)(F.a,{icon:"profile"})),Object(a.createElement)(k.c,null,Object(o.__)("View","wp-marketing-automations"))))),Object(a.createElement)(x.a,{isClickable:!0,onInvoke:function(){u(!0),n()}},Object(a.createElement)(k.a,{justify:"flex-start"},Object(a.createElement)(k.c,null,Object(a.createElement)(F.a,{icon:"mail"})),Object(a.createElement)(k.c,null,Object(o.__)("Send Message","wp-marketing-automations")))),Object(a.createElement)(x.a,{isClickable:!0,onInvoke:function(){u(!0),n()}},Object(a.createElement)(k.a,{justify:"flex-start"},Object(a.createElement)(k.c,null,Object(a.createElement)(F.a,{icon:"notes"})),Object(a.createElement)(k.c,null,Object(o.__)("Add Note","wp-marketing-automations")))),Object(a.createElement)(x.a,{isClickable:!0,onInvoke:function(){u(!0),n()}},Object(a.createElement)(k.a,{justify:"flex-start"},Object(a.createElement)(k.c,null,Object(a.createElement)(F.a,{icon:"trash"})),Object(a.createElement)(k.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})},R=function(e){var t="",n=[];return Object(O.isEmpty)(e)?"-":(e.map((function(e){Object(O.isEmpty)(t)&&(t=e.name),n.push(Object(a.createElement)("span",{key:e.id},e.name))})),Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-table-v-center"},!Object(O.isEmpty)(t)&&t,!Object(O.isEmpty)(n)&&n.length>1&&Object(a.createElement)(A.a,{items:n}))))},z=[{id:1,email:"johndoe@gmail.com",f_name:"John",l_name:"Doe",creation_date:L()().format(),lists:[{id:"1",name:"List1"},{id:"2",name:"List2"}],tags:[{id:"1",name:"Tag1"},{id:"2",name:"Tag2"}],country:"US",state:"Washington DC",contact_no:"1234567890",fields:{marketing_status:"1"},wc:{id:1,l_order_date:L()().format(),total_order_count:5,total_order_value:100,total_purchased_items:10}}].map((function(e){return[{display:Object(a.createElement)(c.CheckboxControl,{checked:!1,onChange:function(){return u(!0)}}),value:null},{display:I(e),value:null},{display:y(e),value:Object(s.gb)([e.f_name,e.l_name]," ")},{display:w(e),value:Object(o.__)("Email: "+e.email+", Phone: "+e.contact_no,"wp-marketing-automations")},{display:g(e),value:j(e)},{display:R(e.tags),value:e.tags},{display:R(e.lists),value:e.lists},{display:h(e),value:""},{display:T(e),value:""}]})),H=[{key:"select_contact",label:Object(a.createElement)(c.CheckboxControl,{checked:!1,onChange:function(){return u(!0)}}),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"actions",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"contact",label:Object(o.__)("Contact","wp-marketing-automations"),isLeftAligned:!0,required:!0,cellClassName:"bwf-w-300"},{key:"contact_details",label:Object(o.__)("Details","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"column_location",label:Object(o.__)("Country","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150"},{key:"tags",label:Object(o.__)("Tags","wp-marketing-automations"),isLeftAligned:!1,cellClassName:"bwf-w-150"},{key:"lists",label:Object(o.__)("Lists","wp-marketing-automations"),isLeftAligned:!1,cellClassName:"bwf-w-150"},{key:"total_spent",label:Object(o.__)("Total Spent","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150"},{key:"last_order",label:Object(o.__)("Last Order Date","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150"}],K=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(a.createElement)(F.a,{icon:"zero-contacts",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(o.__)("No Contacts","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(o.__)("Add contacts and get actionable insights about every contact to revv up your campaigns.","wp-marketing-automations")}},{type:"actions",data:{count:"2",actions:[{icon:Object(a.createElement)(F.a,{icon:"add-contact",width:"36",height:"36"}),heading:Object(o.__)("Add a Contact","wp-marketing-automations"),sub_heading:Object(o.__)("Create a new contact manually","wp-marketing-automations"),onClick:function(){u(!0)}},{icon:Object(a.createElement)(F.a,{icon:"contacts",width:"36",height:"36"}),heading:Object(o.__)("View Sample Contact","wp-marketing-automations"),sub_heading:Object(o.__)("Experience contact list and single contact page with dummy data.","wp-marketing-automations"),onClick:function(){return f(!0)},isDummy:!0}]}}],W=Object(a.createElement)(a.Fragment,null,Object(a.createElement)("span",{className:"bwf-mr-10 bwf-cursor-pointer",key:"export",onClick:function(){u(!0)}},Object(a.createElement)(q.a,{icon:"export",iconSize:25,size:30,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(o.__)("Export","wp-marketing-automations"))})),Object(a.createElement)("span",{className:"bwf-mr-10 bwf-cursor-pointer",key:"import",onClick:function(){u(!0)}},Object(a.createElement)(q.a,{icon:"import",iconSize:25,size:30,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(o.__)("Import","wp-marketing-automations"))})));return Object(a.createElement)(a.Fragment,null,b?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(r.a,null),Object(a.createElement)(_.a,{className:p,rows:z,headers:H,query:{paged:1},rowsPerPage:1,totalRows:1,isLoading:!1,rowHeader:!0,summary:[{label:Object(a.createElement)(a.Fragment,null," contact"),value:Object(a.createElement)("b",null,"1 ")}],actions:[Object(a.createElement)(v,{key:"search",query:e}),Object(a.createElement)(c.SelectControl,{onChange:function(e){"all"===e&&Object(i.j)({page:page},t,{}),setFiltersOpen("filters"===e)},options:[{value:"all",label:Object(o.__)("All Contacts","wp-marketing-automations")}],value:"all"}),Object(a.createElement)(c.Button,{isTertiary:!0,className:"bwf-display-flex",onClick:function(){return u(!0)}},Object(a.createElement)(F.a,{icon:"lock",size:15}),"Select Audience")],filterColumnIcon:Object(a.createElement)("span",{className:"bwf-cursor-pointer"},Object(a.createElement)(q.a,{icon:"filters",iconSize:25,size:30,toolTipText:Object(a.createElement)("span",{className:"bwfan_tooltip_text bwf-w-60","data-position":"top"},Object(o.__)("Filter","wp-marketing-automations"))})),extraSectionBeforefilterCol:W,emptyMessage:Object(o.__)("No contacts found","wp-marketing-automations")})):Object(a.createElement)(B.a,{data:K}),Object(a.createElement)(D.a,{isOpen:l,onRequestClose:function(){return u(!1)}}))}}}]);
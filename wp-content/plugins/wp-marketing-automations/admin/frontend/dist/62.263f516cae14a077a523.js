(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{787:function(t,e,n){"use strict";var a=n(219),r=n(0);e.a=function(t,e,n){var i=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},s=Object(a.a)(),c=s.setActiveMultiple,o=s.resetHeaderMenu,l=s.setL2NavType,u=s.setL2Nav,f=s.setBackLink,b=s.setL2Title,d=s.setPageHeader;return Object(r.useEffect)((function(){o(),!e&&l("menu"),!e&&u(i.settings_nav),c({leftNav:"settings",rightNav:t}),e&&f(e),n&&b(n),d("Settings")}),[t,n]),!0}},890:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(787),i=n(255),s=n(2),c=n(13),o=n.n(c),l=n(3),u=n(7);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(t){r=!0,i=t}finally{try{a||null==c.return||c.return()}finally{if(r)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}e.default=function(){Object(r.a)("general",!1,""),Object(u.d)("Settings");var t=Object(a.useContext)(u.b),e=bwfanParams,n=e.bwfan_global_settings_schema,c=void 0===n?{}:n,b=e.bwfan_global_settings,d=void 0===b?{}:b,m=f(Object(a.useState)(c),2),g=m[0],h=m[1],y=f(Object(a.useState)(d),2),v=y[0],w=y[1],_=[];g.forEach((function(t){Array.isArray(t.tabs)&&t.tabs.forEach((function(t){Object(l.isNull)(t)||Array.isArray(t.fields)&&t.fields.forEach((function(t){t.required&&_.push({id:t.id,label:t.label})}))}))}));var p=function(e,n,a){try{o()({path:Object(u.g)("/settings"),method:"POST",data:{bwfan_global_settings:e}}).then((function(e){if(200===e.code){t(e.message);var n=e.result;n&&(window.bwfanParams.bwfan_global_settings=a,window.bwfanParams.bwfan_global_settings_schema=n.schema,w(n.values),h(n.schema))}else t(e.message)})).catch((function(e){console.log(e),t(e.message)})).finally((function(){n(!1),Object(u.Q)(t,5e3)}))}catch(e){console.log(e),t(e.message),Object(u.Q)(t,5e3),n(!1)}},j=function(t){var e={};return _.forEach((function(n){Object(l.isEmpty)(t[n.id])&&(e[n.id]=n.label+Object(s.__)(" field is required !","wp-marketing-automations"))})),e};return Object(a.createElement)(a.Fragment,null,g.map((function(t){return Object(a.createElement)(i.a,{key:"setting-tab--"+t.key,fields:t.tabs,values:v,onSubmitCallback:p,validate:j,setSettingFieldSchema:h})})))}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{782:function(e,t,n){"use strict";var r=n(221),a=(n(761),n(3));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=function(e,t){if(!Array.isArray(e)||0===e.length)return!1;var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!(!1 in a)){var o,c=s(a.fields);try{for(c.s();!(o=c.n()).done;){var i=o.value;if(!(!1 in i)&&t===i.slug)return i}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){r.e(e)}finally{r.f()}return!1},f=function(e,t){if(0===Object(a.size)(e))return!1;for(var n in e){var r=e[n];if(r&&r.slug&&t===r.slug)return r}return!1};t.a=function(){var e=Object(r.a)("groupdata"),t=e.getStateProp;return c(c({},l(e,["getStateProp"])),{},{getGroups:function(){return t("groups")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getTotalCount:function(){return parseInt(t("total"))},getFieldBySlug:function(e){var n=t("groups"),r=t("extra_fields"),a=m(n,e);return(!1!==a||!1!==(a=f(r,e)))&&a.ID},getCountData:function(){return t("countData")}})}},790:function(e,t,n){"use strict";var r=n(222),a=n(7);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("groupdata"),t=e.fetch,n=e.setStateProp;return c(c({},l(e,["fetch","setStateProp"])),{},{fetch:function(){t("GET",Object(a.g)("/groupfields"))},setStateGroupValues:function(e){n("groups",e)}})}},812:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n(4),c=n(3),i=n(7);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.index,n=e.label,s=e.value,u=e.type,m=e.options,f=e.onChange,b=e.placeholder,p=Object(a.__)("Click to Edit","wp-marketing-automations"),d=l(Object(r.useState)(s),2),O=d[0],y=d[1],j=l(Object(r.useState)(!1),2),g=j[0],v=j[1],w=Object(i.O)(),h=function(e,t){var n=!1;try{e&&JSON.parse(e).includes(t)&&(n=!0)}catch(e){}return n};return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},n||t),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("span",{className:"bwf-editable-span",title:p,onClick:function(e){v(!0)}},g&&Object(r.createElement)(o.Popover,{onFocusOutside:function(e){v(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},[4,5,6].includes(parseInt(u))&&Object(c.isEmpty)(m)?Object(a.__)("Add Options to select here","wp-marketing-automations"):Object(r.createElement)(r.Fragment,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";switch(e){case 1:return Object(r.createElement)(o.TextControl,{value:n,className:"bwf-pop-input-field",placeholder:i||Object(a.__)("Enter","wp-marketing-automations"),onChange:function(e){y(e)},onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}});case 2:return Object(r.createElement)(o.TextControl,{type:"number",value:n,placeholder:i||Object(a.__)("Enter","wp-marketing-automations"),onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))},onChange:function(e){y(e)}});case 3:return Object(r.createElement)(o.TextareaControl,{value:n,onChange:function(e){y(e)}});case 4:var s=[{value:"",label:Object(a.__)("Select Option","wp-marketing-automations")}];return c.map((function(e){s.push({value:e,label:e})})),Object(r.createElement)(o.SelectControl,{value:n,className:"bwf-c-s-width-full",options:s,onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))},onChange:function(e){y(e)}});case 5:var u=[];return c.map((function(e){u.push({value:e,label:e})})),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}},Object(r.createElement)(o.RadioControl,{label:Object(a.__)("Select an Option","wp-marketing-automations"),selected:n,options:u,onChange:function(e){y(e)}}));case 6:return Object(r.createElement)(r.Fragment,null,c.map((function(e){return Object(r.createElement)(o.CheckboxControl,{label:e,checked:h(n,e),onChange:function(t){var r=[];try{r=n?JSON.parse(n):[],t?r.push(e):r=r.filter((function(t){return t!==e})),y(JSON.stringify(r))}catch(t){r.push(e),y(JSON.stringify(r))}},onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}})})));case 7:return Object(r.createElement)("input",{type:"date",value:n,style:{width:"100%"},onChange:function(e){y(e.target.value)},onKeyPress:function(e){"Enter"==e.key&&(f(t,n),v(!1))}});case 8:var m=[{value:"",label:Object(a.__)("Select timezone","wp-marketing-automations")}];return Object.entries(w).map((function(e){var t=l(e,2),n=t[0],r=t[1];m.push({value:n,label:r})})),Object(r.createElement)(o.SelectControl,{value:n,className:"bwf-c-s-width-full",options:m,onKeyPress:function(e){"Enter"===e.key&&(f(t,n),v(!1))},onChange:function(e){y(e)}})}}(parseInt(u),O,m,b),Object(r.createElement)(o.Button,{className:"bwf-pop-button",isSecondary:!0,onClick:function(e){e.stopPropagation(),v(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(o.Button,{isPrimary:!0,className:"bwf-pop-button",onClick:function(e){e.stopPropagation(),f(t,O),v(!1)}},Object(a.__)("Update","wp-marketing-automations"))))),function(){var e=Object(a.__)("-","wp-marketing-automations");if(Object(c.isEmpty)(s))return e;if(6===u)try{var t=JSON.parse(s);Object(c.isEmpty)(t)||(e=t.join(", "))}catch(e){}else e=s;if(8===u&&(e="-",w.hasOwnProperty(s)&&(e=w[s])),7===u)try{e=Object(i.C)(s)}catch(t){e="-"}return e}())))}},813:function(e,t,n){"use strict";var r=n(0),a=n(2),o=n(4),c=n(227),i=n(3),l=n(782),s=n(768),u=n(7);function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t,n=e.meta,p=e.onChange,d=e.contact,O=Object(l.a)().getFieldBySlug,y=Object(s.a)(),j=y.setContactField,g=y.setContactMeta,v={addressOne:O("address-1"),addressTwo:O("address-2"),pinCode:O("postcode"),city:O("city")},w=n[v.addressOne],h=n[v.addressTwo],E=n[v.pinCode],_=n[v.city],k=d.state,S=d.country,C=b(Object(r.useState)(!1),2),N=C[0],P=C[1],A=Object(a.__)("Click to Edit","wp-marketing-automations"),x=Object.entries(c).map((function(e){var t=b(e,2),n=t[0];return{label:t[1],value:n}}));return Object(r.createElement)("div",{className:"bwf-c-s-list"},Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(a.__)("Address","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("div",{className:"bwf-editable-span",title:A,onClick:function(){return P(!0)}},N&&Object(r.createElement)(o.Popover,{onFocusOutside:function(){P(!1)}},Object(r.createElement)("div",{className:"bwf-form-fields bwf-field-edit-popover"},Object(r.createElement)(o.TextControl,{type:"text",key:"1",value:w,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 1","wp-marketing-automations"),onChange:function(e){Object(u.X)()&&g(v.addressOne,e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"2",value:h,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter Address 2","wp-marketing-automations"),onChange:function(e){Object(u.X)()&&g(v.addressTwo,e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"3",value:E,className:"bwf-pop-input-field",placeholder:Object(a.__)("Postal/ Zip Code","wp-marketing-automations"),onChange:function(e){Object(u.X)()&&g(v.pinCode,e)}}),Object(r.createElement)(o.TextControl,{type:"text",key:"4",value:_,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter City","wp-marketing-automations"),onChange:function(e){Object(u.X)()&&g(v.city,e)}}),Object(r.createElement)(o.SelectControl,{value:S,className:"bwf-c-s-width-full bwf-pop-input-field",options:[{label:"Select country",value:""}].concat(m(x)),onChange:function(e){u.X&&j({country:e,state:""})}}),Object(r.createElement)(o.TextControl,{type:"text",key:"5",value:k,className:"bwf-pop-input-field",placeholder:Object(a.__)("Enter State","wp-marketing-automations"),onChange:function(e){Object(u.X)()&&j({state:e})}}),Object(r.createElement)(o.Button,{key:"cancel",className:"bwf-pop-button",isSecondary:!0,onClick:function(e){e.stopPropagation(),P(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(o.Button,{key:"save",isPrimary:!0,className:"bwf-pop-button",onClick:function(e){var t;e.stopPropagation(),Object(u.X)()&&(f(t={},v.addressOne,w),f(t,v.addressTwo,h),f(t,v.pinCode,E),f(t,v.city,_),f(t,"state",k),f(t,"country",S),p(t)),P(!1)}},Object(a.__)("Update","wp-marketing-automations")))),(t=[],w&&t.push(w),h&&t.push(h),_&&t.push(_),k?E?t.push(k+" "+E):t.push(k):E&&t.push(E),S&&(c.hasOwnProperty(S)?t.push(c[S]):t.push(S)),t=Object(i.isEmpty)(t)?Object(a.__)("Click to enter Address","wp-marketing-automations"):t.join(", "),Object(r.createElement)("p",null,t)))))}},839:function(e,t,n){},898:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(125),o=n(2),c=n(812),i=n(813),l=n(57),s=n(4),u=n(123),m=n(12);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=f(Object(r.useState)(!1),2),n=t[0],b=t[1],p=[{id:2,name:Object(o.__)("First Name","wp-marketing-automations"),type:1,value:"John",meta:{placeholder:Object(o.__)("Enter First Name","wp-marketing-automations")}},{id:3,name:Object(o.__)("Last Name","wp-marketing-automations"),type:1,value:"Doe",meta:{placeholder:Object(o.__)("Enter Last Name","wp-marketing-automations")}},{id:"timezone",name:Object(o.__)("TimeZone","wp-marketing-automations"),value:"America/New_York"},{id:"gender",name:Object(o.__)("Gender","wp-marketing-automations"),value:"Male"},{id:"address",name:Object(o.__)("Address","wp-marketing-automations")},{id:"contact_no",name:Object(o.__)("Phone number","wp-marketing-automations"),type:1,value:"1234567890",meta:{placeholder:Object(o.__)("Enter Phone Number","wp-marketing-automations")}},{id:4,name:Object(o.__)("Company","wp-marketing-automations"),type:1,value:"Wisetr",meta:{placeholder:Object(o.__)("Enter Company","wp-marketing-automations")}}],d={},O=function(){b(!0)},y=[{id:1,name:Object(o.__)("Tag1","wp-marketing-automations")},{id:2,name:Object(o.__)("Tag2","wp-marketing-automations")}],j=[{id:1,name:Object(o.__)("List1","wp-marketing-automations")},{id:2,name:Object(o.__)("List2","wp-marketing-automations")}],g=[{id:1,name:Object(o.__)("Link Trigger 1","wp-marketing-automations")},{id:2,name:Object(o.__)("Link Trigger 2","wp-marketing-automations")}];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"}),Object(r.createElement)(a.a,{items:[{key:0,label:Object(o.__)("General","wp-marketing-automations"),display:Object(r.createElement)(r.Fragment,null,p.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(c.a,{key:e.id,index:e.id,label:e.name,type:e.type?e.type:1,options:e.meta&&e.meta.options?e.meta.options:[],value:e.value,placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:O});var t=e.meta&&e.meta.options?e.meta.options:[],n=e.type?e.type:1;return"address"==e.id?Object(r.createElement)(i.a,{key:e.id,meta:{},contact:d,onChange:O}):("gender"==e.id&&(t=["Male","Female","Others"],n="4"),"timezone"==e.id?Object(r.createElement)(c.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:d[e.id],placeholder:"",onChange:O}):(e.id,Object(r.createElement)(c.a,{key:e.id,index:e.id,label:e.name,type:n,options:t,value:e.value,placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:O})))}})),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,y&&y.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){b(!0)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return O()}},Object(r.createElement)(m.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(o.__)("Add","wp-marketing-automations")))))),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Lists"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,j&&j.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){b(!0)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return O()}},Object(r.createElement)(m.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(o.__)("Add","wp-marketing-automations")))))),Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Link Triggers"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,g&&g.map((function(e){return Object(r.createElement)(l.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name})}))))))},{key:1,label:Object(o.__)("Custom Field Group","wp-marketing-automations"),display:Object(r.createElement)(c.a,{key:23,index:43,label:"Custom Field",type:1,options:[],value:"Custom Data",placeholder:"Enter",onChange:function(){return b(!0)}})}]}),Object(r.createElement)(s.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){b(!0)}},Object(o.__)("Add Field Group","wp-marketing-automations")),Object(r.createElement)(s.Button,{className:"bwf-mr-15 bwf-p-15",isPrimary:!0,onClick:function(){b(!0)}},Object(o.__)("Add Field","wp-marketing-automations")),Object(r.createElement)(u.a,{isOpen:n,onRequestClose:function(){return b(!1)}})))}},914:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(13),o=n.n(a),c=n(2),i=n(768),l=n(761),s=n(782),u=n(125),m=n(794),f=n(7),b=n(812),p=n(4),d=n(57),O=n(35),y=n(224),j=n(127),g=n(3),v=n(12);function w(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){h(o,r,a,c,i,"next",e)}function i(e){h(o,r,a,c,i,"throw",e)}c(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t=e.contactId,n=e.lists,a=e.saveList,l=_(Object(r.useState)(n),2),s=l[0],u=l[1],m=_(Object(r.useState)(!1),2),b=m[0],h=m[1],k=_(Object(r.useState)([]),2),S=k[0],C=k[1],N=_(Object(r.useState)({message:"",type:1}),2),P=N[0],A=N[1],x=_(Object(r.useState)(""),2),I=x[0],T=x[1],F=(Object(i.a)().setContactField,function(){var e=E(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({path:Object(f.g)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:[parseInt(n.ID)]},headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){200==e.code?(A({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("lists",s.filter((function(e){return e.ID!=n.ID})))):A({message:e.message,type:1})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),A({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),D=function(){var e=E(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A({message:Object(c.__)("Saving…","wp-marketing-automations")}),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,o()({path:Object(f.g)("/contacts/".concat(t,"/lists")),method:"POST",data:{lists:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=E(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A({message:t.message,type:1}),Object(g.isEmpty)(t.result)||(n=t.result.list_added.map((function(e){return e})),r=[].concat(w(s),w(n)),r=Object(g.uniqBy)(r,"ID"),u(r),a("lists",r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),A({message:e.t0.message,type:0}),u(n);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),R=S&&S.map((function(e){return{key:e.id,label:e.name}})),L=function(){0==S.length?T(Object(c.__)("Please select a list.","wp-marketing-automations")):(T(""),D(S),C([]),h(!1))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(j.a,{message:P.message,type:P.type,removeMessage:function(){return A({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},Object(c.__)("Lists","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e){return Object(r.createElement)(d.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return F(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return h(!0)}},Object(r.createElement)(v.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations")))),b&&Object(r.createElement)(p.Modal,{title:Object(c.__)("Select Lists","wp-marketing-automations"),onRequestClose:function(){return h(!1)},className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-overflow-visible"},I&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return T("")}},I),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&L()}},Object(r.createElement)(O.a,{autocompleter:y.a,multiple:!0,allowFreeTextSearch:!0,inlineTags:!0,selected:R,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),C(e)},onRemoveTag:function(e){C(S.filter((function(t){return t.id!==e})))},placeholder:Object(c.__)("Search by list name","wp-marketing-automations"),bwfEnableEmptySearch:!0,showClearButton:!1,disabled:!1}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){L()},className:"bwf-ml-0"},Object(c.__)("Add to Lists","wp-marketing-automations"))))))};C.defaultProps={contactId:0,lists:[]};var N=C,P=n(124);function A(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||F(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){x(o,r,a,c,i,"next",e)}function i(e){x(o,r,a,c,i,"throw",e)}c(void 0)}))}}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||F(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){var t=e.contactId,n=e.tags,a=e.saveTags,l=T(Object(r.useState)(n),2),s=l[0],u=l[1],m=T(Object(r.useState)(!1),2),b=m[0],y=m[1],w=T(Object(r.useState)([]),2),h=w[0],E=w[1],_=T(Object(r.useState)({message:"",type:1}),2),k=_[0],S=_[1],C=T(Object(r.useState)(""),2),N=C[0],x=C[1],F=(Object(i.a)().setContactField,function(){var e=I(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o()({path:Object(f.g)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:[parseInt(n.ID)]},headers:{"X-HTTP-Method-Override":"DELETE"}}).then((function(e){S({message:e.message,type:1}),u(s.filter((function(e){return e.ID!=n.ID}))),a("tags",s.filter((function(e){return e.ID!=n.ID})))}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),S({message:e.t0.message,type:1});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),D=function(){var e=I(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S({message:Object(c.__)("Saving…","wp-marketing-automations")}),r=n.map((function(e){var t={};return e.hasOwnProperty("id")&&(t.id=e.id),e.hasOwnProperty("name")&&(t.value=e.name),t})),e.prev=2,e.next=5,o()({path:Object(f.g)("/contacts/".concat(t,"/tags")),method:"POST",data:{tags:r},headers:{"Content-Type":"application/json"}}).then(function(){var e=I(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S({message:t.message,type:1}),Object(g.isEmpty)(t.result)||(n=t.result.tags_added.map((function(e){return e})),r=[].concat(A(s),A(n)),r=Object(g.uniqBy)(r,"ID"),u(r),a(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),S({message:e.t0.message,type:0}),u(n);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),R=h&&h.map((function(e){return{key:e.id,label:e.name}})),L=function(){0==h.length?x(Object(c.__)("Please select a tag.","wp-marketing-automations")):(x(""),D(h),E([]),y(!1))};return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)(j.a,{message:k.message,type:k.type,removeMessage:function(){return S({message:"",type:1})}}),Object(r.createElement)("div",{className:"bwf-c-s-label"},"Tags"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,s&&s.map((function(e){return Object(r.createElement)(d.a,{key:e.id,label:e.name,id:e.id,screenReaderLabel:e.name,remove:function(){return F(e)}})})),Object(r.createElement)("li",{className:"bwf-c-s-tag-add bwf-display-flex",onClick:function(){return y(!0)}},Object(r.createElement)(v.a,{icon:"plus",size:20,color:"#444"})," ",Object(r.createElement)("span",null,Object(c.__)("Add","wp-marketing-automations")))),b&&Object(r.createElement)(p.Modal,{title:Object(c.__)("Select Tags","wp-marketing-automations"),onRequestClose:function(){return y(!1)},className:"bwf-admin-modal bwf-admin-modal-small bwf-admin-modal-overflow-visible"},N&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return x("")}},N),Object(r.createElement)("div",{onKeyPress:function(e){"Enter"==e.key&&L()}},Object(r.createElement)(O.a,{autocompleter:P.a,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:R,onChange:function(e){e=e.map((function(e){return e.hasOwnProperty("key")&&(e.id=e.key,delete e.key),e.hasOwnProperty("label")&&(e.name=e.label,delete e.label),e})),E(e)},onRemoveTag:function(e){E(h.filter((function(t){return t.id!==e})))},placeholder:Object(c.__)("Search by tag name","wp-marketing-automations"),showClearButton:!1,disabled:!1}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){L()},className:"bwf-ml-0"},Object(c.__)("Add Tags","wp-marketing-automations"))))))};R.defaultProps={contactId:0,tags:[]};var L=R;function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.links,n=M(Object(r.useState)(t),1)[0];return Object(r.createElement)("div",{className:"bwf-c-s-list bwf-c-s-tags-ui"},Object(r.createElement)("div",{className:"bwf-c-s-label"},"Link Triggers"),Object(r.createElement)("div",{className:"bwf-c-s-value"},Object(r.createElement)("ul",null,n&&n.map((function(e){return Object(r.createElement)(d.a,{key:e.ID,label:e.title,id:e.ID,screenReaderLabel:e.title})})))))};G.defaultProps={contactId:0,links:[]};var U=G,K=n(813),$=(n(839),n(80)),z=n(81),X=n(34),J=n(790);function q(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){var t=e.options,n=e.field,a=e.setField,o="";return Object(g.isEmpty)(t)||(o=t.map((function(e,t){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-option-wrapper"},Object(r.createElement)(p.TextControl,{value:e,className:"bwf-m-f-add-option",placeholder:Object(c.__)("Add Option Name","wp-marketing-automations"),onChange:function(e){var r=n.meta&&n.meta.options?n.meta.options:[];r[t]=e,a(Z(Z({},n),{},{meta:Z(Z({},n.meta),{},{options:r})}))}}),Object(r.createElement)("span",{className:"dashicons dashicons-dismiss",onClick:function(){var e=n.meta.options;e.splice(t,1),a(Z(Z({},n),{},{meta:Z(Z({},n.meta),{},{options:e})}))}})))}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},o&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Options","wp-marketing-automations")),o),Object(r.createElement)(p.Button,{isSecondary:!0,className:"bwf-m-f-add-option-btn bwf-ml-0 bwf-display-flex",onClick:function(){var e=n.meta&&n.meta.options?n.meta.options:[];e.push(""),a(Z(Z({},n),{},{meta:Z(Z({},n.meta),{},{options:e})}))}},Object(c.__)("Add Option","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf_clear_20"}))},ee=function(e){var t=e.state;return t.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)($.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):t.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(z.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):Object(r.createElement)(X.a,null)},te=function(){var e=Object(r.useContext)(f.b),t=Object(J.a)(),n=H(Object(r.useState)([]),2),a=n[0],i=n[1],l=H(Object(r.useState)({}),2),u=l[0],m=l[1],b=H(Object(r.useState)(!1),2),d=b[0],O=b[1],y=H(Object(r.useState)({status:!1,message:""}),2),j=y[0],v=y[1],w=function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o()({path:Object(f.g)("/fields/"),method:"POST",data:{group_id:r.group,field:{name:r.name,type:r.type,search:r.search,options:r.meta&&r.meta.options&&[4,5,6].includes(parseInt(r.type))?r.meta.options:[],placeholder:r.meta&&r.meta.placeholder?r.meta.placeholder:""}},headers:{"Content-Type":"application/json"}});case 3:(a=n.sent)&&200===a.code?(v({status:!1}),t.fetch(),O(!1),e(a.message),Object(f.Q)(e,2e3)):(v({status:!0,error:!0,message:a.message}),setTimeout((function(){v({status:!1})}),2e3)),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),v({status:!0,error:!0,message:n.t0.message}),setTimeout((function(){v({status:!1})}),2e3);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function c(e){q(o,r,a,c,i,"next",e)}function i(e){q(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(s.a)(),n=t.getGroups(),a=Object(J.a)();Object(r.useEffect)((function(){Object(g.isEmpty)(n)&&a.fetch()}),[]);var o=[{value:"",label:Object(c.__)("Select group","wp-marketing-automations")}];return n&&n.map((function(t){0!==parseInt(e)&&parseInt(t.id)===parseInt(e)||o.push({value:t.id,label:t.name})})),o}(),E=Object(c.__)(u&&u.id?"Edit Field":"Add Field","wp-marketing-automations"),_=function(){var e=[];if(u.name||e.push(Object(c.__)("Please enter field name.","wp-marketing-automations")),""===u.group&&e.push(Object(c.__)("Please select a group for field.","wp-marketing-automations")),u.type||e.push(Object(c.__)("Please select a type for field.","wp-marketing-automations")),Object(g.isEmpty)(e)){var t=[];u.meta&&!Object(g.isEmpty)(u.meta.options)&&(t=u.meta.options.filter((function(e){return null!=e&&""!=e}))),m(Z(Z({},u),{},{meta:Z(Z({},u.meta),{},{options:t})})),v({status:!0}),w(Z(Z({},u),{},{meta:Z(Z({},u.meta),{},{options:t})}))}else i(e)};return Object(r.createElement)(r.Fragment,null,d&&Object(r.createElement)(p.Modal,{title:E,onRequestClose:function(){return O(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-medium"},j.status?Object(r.createElement)(ee,{state:j}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&_()}},Array.isArray(a)&&a.length>0&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return i([])}},a.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Field Name","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-field-name",autoFocus:!0,value:u&&u.name?u.name:"",placeholder:Object(c.__)("Field name here …","wp-marketing-automations"),onChange:function(e){m(Z(Z({},u),{},{name:e}))}})),!!u&&[1,2,3].includes(parseInt(u.type))&&Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Placeholder","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{className:"bwf-m-f-model-placeholder-name",value:u&&u.meta?u.meta.placeholder:"",placeholder:Object(c.__)("Placeholder text here …","wp-marketing-automations"),onChange:function(e){m(Z(Z({},u),{},{meta:Z(Z({},u.meta),{},{placeholder:e})}))}})),(!u||!parseInt(u.id))&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Group","wp-marketing-automations")),Object(r.createElement)(p.SelectControl,{value:u.group,className:"bwf-m-f-model-group-name",options:h,onChange:function(e){return m(Z(Z({},u),{},{group:e}))}})),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Type","wp-marketing-automations")),Object(r.createElement)(p.SelectControl,{value:u?u.type:1,className:"bwf-m-f-model-field-type",options:Object(f.t)(),onChange:function(e){return m(Z(Z({},u),{},{type:e}))}}))),!!u&&[4,5,6].includes(parseInt(u.type))&&Object(r.createElement)(Y,{options:u.meta&&u.meta.options?u.meta.options:[],field:u,setField:m}),Object(r.createElement)(p.ToggleControl,{label:Object(c.__)("Is searchable","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",checked:!u||!u.search||2!=parseInt(u.search),onChange:function(e){var t=1;e||(t=2),m(Z(Z({},u),{},{search:t}))}}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{isTertiary:!0,className:"bwf-mr-15",onClick:function(){return O(!1)}},Object(c.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){_()},className:"bwf-m-f-model-save-btn bwf-ml-0"},Object(c.__)("Add","wp-marketing-automations")))))),Object(r.createElement)(p.Button,{className:"bwf-p-15",isPrimary:!0,onClick:function(){m({}),i([]),O(!0)}},Object(c.__)("Add Field","wp-marketing-automations")))};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(e){var t=e.state;return t.success?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)($.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):t.error?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(z.a,null),Object(r.createElement)("div",{className:"bwf-h1"},t.message))):Object(r.createElement)(X.a,null)},me=function(){var e=Object(J.a)().setStateGroupValues,t=Object(r.useContext)(f.b),n=Object(s.a)().getGroups(),a=ie(Object(r.useState)([]),2),i=a[0],l=a[1],u=ie(Object(r.useState)({}),2),m=u[0],b=u[1],d=ie(Object(r.useState)(!1),2),O=d[0],y=d[1],j=ie(Object(r.useState)({status:!1,message:""}),2),v=j[0],w=j[1],h=function(){var r,a=(r=regeneratorRuntime.mark((function r(a){var c,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o()({path:Object(f.g)("/groupfields/"),method:"POST",data:{group_name:a.name},headers:{"Content-Type":"application/json"}});case 3:200==(c=r.sent).code?(i=c.result?c.result[0]:{},Object(g.isEmpty)(i)||e([].concat(oe(n),[{id:i.id,name:i.name,fields:[]}])),w({status:!1}),y(!1),t(c.message),Object(f.Q)(t,2e3)):(w({status:!0,error:!0,message:c.message}),setTimeout((function(){w({status:!1})}),2e3)),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),w({status:!0,error:!0,message:r.t0.message}),setTimeout((function(){w({status:!1})}),2e3);case 11:case"end":return r.stop()}}),r,null,[[0,7]])})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function c(e){ce(o,n,a,c,i,"next",e)}function i(e){ce(o,n,a,c,i,"throw",e)}c(void 0)}))});return function(e){return a.apply(this,arguments)}}(),E=Object(c.__)(Object(g.isEmpty)(m.group_id)&&"0"!=m.group_id?"Add Group":"Edit Group","wp-marketing-automations"),_=function(){var e=[];m.name||e.push(Object(c.__)("Please enter group name.","wp-marketing-automations")),Object(g.isEmpty)(e)?(w({status:!0}),h(m)):l(e)};return Object(r.createElement)(r.Fragment,null,O&&Object(r.createElement)(p.Modal,{title:E,onRequestClose:function(){return y(!1)},className:"bwf-m-f-field-model bwf-admin-modal bwf-admin-modal-medium"},v.status?Object(r.createElement)(ue,{state:v}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&_()}},!Object(g.isEmpty)(i)&&Object(r.createElement)(p.Notice,{status:"error",onRemove:function(){return l([])}},i.map((function(e){return Object(r.createElement)("p",{className:"bwf-error-notice-p"},e)}))),Object(r.createElement)("div",{className:"bwf-m-f-field-wrapper"},Object(r.createElement)("div",{className:"bwf-m-f-label"},Object(c.__)("Group Name","wp-marketing-automations")),Object(r.createElement)(p.TextControl,{type:"text",value:m&&m.name?m.name:"",autoFocus:!0,placeholder:Object(c.__)("Group name here …","wp-marketing-automations"),onChange:function(e){b(re(re({},m),{},{name:e}))}})),Object(r.createElement)("div",{className:"bwf_clear"}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(p.Button,{isTertiary:!0,className:"bwf-mr-15",onClick:function(){return y(!1)}},Object(c.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(p.Button,{isPrimary:!0,onClick:function(){_()},className:"bwf-m-f-model-save-btn bwf-ml-0"},Object(g.isEmpty)(m)?Object(c.__)("Add","wp-marketing-automations"):Object(c.__)("Save","wp-marketing-automations")))))),Object(r.createElement)(p.Button,{className:"bwf-mr-15 bwf-p-15",isSecondary:!0,onClick:function(){b({}),l([]),y(!0)}},Object(c.__)("Add Field Group","wp-marketing-automations")))};function fe(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=Object(i.a)().setStateProps,n=l.a.getContactLoading(),a=l.a.getContact(),p=be(Object(r.useState)({message:"",type:1}),2),d=p[0],O=p[1],y=Object(s.a)(),v=y.getLoading(),w=y.getGroups(),h=Object(J.a)();if(Object(r.useEffect)((function(){Object(g.isEmpty)(w)&&h.fetch()}),[]),n||v)return Object(r.createElement)(m.d,null);var E,_=a.id,k=a.tags,S=a.lists,C=a.link_triggers,P=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({message:Object(c.__)("Saving…","wp-marketing-automations")}),e.prev=1,e.next=4,o()({path:Object(f.g)("/contacts/".concat(_,"/fields/")),method:"PUT",data:{email:a.email,fields:n}}).then((function(e){200===parseInt(e.code)?(O({message:e.message,type:1}),t(e.result)):O({message:e.message,type:0})}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),O({message:e.t0.message,type:0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){fe(o,r,a,c,i,"next",e)}function i(e){fe(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(e){return n.apply(this,arguments)}}(),A=function(e,t){var n={};n[e]=t,P(n)},x=function(e,n){t(a,e,n)},I=function(e){P(e)},T=function(e,t){return Object(r.createElement)(r.Fragment,null,Object(g.isEmpty)(e)?Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(c.__)("No fields Found","wp-marketing-automations"),Object(r.createElement)("div",{className:"bwf_clear_10"})):e.map((function(e){if("marketing_status"!=e.id){if("f_name"==e.id||"l_name"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:e.type?parseInt(e.type):1,options:e.meta&&e.meta.options?e.meta.options:[],value:a&&a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:A});var n=e.meta&&e.meta.options?e.meta.options:[],o=e.type?parseInt(e.type):1;if("0"==t){if("address"==e.id)return Object(r.createElement)(K.a,{key:e.id,meta:a.fields,contact:a,onChange:I});if("gender"==e.id&&(n=["Male","Female","Others"],o=4),"timezone"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:8,options:[],value:a[e.id],placeholder:"",onChange:A});if("email"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:"Email",type:1,value:a.email,placeholder:"",onChange:A});if("contact_no"==e.id)return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:o,options:n,value:a[e.id]?a[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:A})}return Object(r.createElement)(b.a,{key:e.id,index:e.id,label:e.name,type:o,options:n,value:a.fields&&a.fields[e.id]?a.fields[e.id]:"",placeholder:e.meta&&e.meta.placeholder?e.meta.placeholder:"",onChange:A})}})),0==t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L,{tags:k,saveTags:x,contactId:_}),Object(r.createElement)(N,{lists:S,saveList:x,contactId:_}),Object(r.createElement)(U,{links:C})))};return Object(r.createElement)("div",{className:"bwf-c-s-data"},Object(r.createElement)("div",{className:"bwf-c-s-section"},Object(r.createElement)(j.a,{message:d.message,type:d.type,removeMessage:function(){return O({message:"",type:1})}})),Object(r.createElement)(u.a,{items:(E=[],w&&w.map((function(e){e.id,E.push({key:e.id,label:e.name,display:T(e.fields,e.id)})})),E)}),Object(r.createElement)(me,null),Object(r.createElement)(te,null))}}}]);